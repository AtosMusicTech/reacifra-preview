/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/app.css":
/*!***********************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/app.css ***!
  \***********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `:root{
    --app-color: #a007ff;
}

.btn-primary {
    background-color: var(--app-color) !important;
    border-color: var(--app-color) !important;
}`, "",{"version":3,"sources":["webpack://./src/app.css"],"names":[],"mappings":"AAAA;IACI,oBAAoB;AACxB;;AAEA;IACI,6CAA6C;IAC7C,yCAAyC;AAC7C","sourcesContent":[":root{\r\n    --app-color: #a007ff;\r\n}\r\n\r\n.btn-primary {\r\n    background-color: var(--app-color) !important;\r\n    border-color: var(--app-color) !important;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraAnime.css":
/*!************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraAnime.css ***!
  \************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
// Imports



var ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e */ "data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e"), __webpack_require__.b);
var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.cifra-preview {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
    background-color: #01101D;
}

.cifra-preview .box {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0px;
    bottom: 0px;
    left: 0px;
    right: 0px;
}

.cifra-preview .box:before {
    position: absolute;
    content: '';
    width: calc(100% + 30px);
    height: calc(100% + 30px);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(.7);
    filter: blur(0);
    opacity: 1;
    transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1);
}

.cifra-preview .box:hover:before {
    transform: translate(-50%, -50%) scale(1);
    filter: blur(50px);
}

.cifra-preview .box-inner {
    position: relative;
    width: 100%;
    height: 100%;
}

.cifra-preview .box:before,
.cifra-preview .box-inner {
    background-color: #440099;
    box-shadow: 2px 2px 12px 0 rgba(0, 0, 0, 0.58);
    /* border-radius: 21px; */

    background-image:
        url(${___CSS_LOADER_URL_REPLACEMENT_0___}),
        url(${___CSS_LOADER_URL_REPLACEMENT_0___}),
        url(${___CSS_LOADER_URL_REPLACEMENT_0___});
    background-repeat: repeat-x;
    background-size: 1600px 50%;
    background-position: 0 130%, -50px 130%, 500px 130%;

    animation: 20s waves linear infinite forwards;
}

@keyframes waves {
    to {
        background-position: 1600px 130%, 3150px 130%, 5300px 130%;
    }
}`, "",{"version":3,"sources":["webpack://./src/cifra/CifraAnime.css"],"names":[],"mappings":"AAAA;IACI,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,aAAa;IACb,yBAAyB;AAC7B;;AAEA;IACI,eAAe;IACf,WAAW;IACX,YAAY;IACZ,QAAQ;IACR,WAAW;IACX,SAAS;IACT,UAAU;AACd;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,wBAAwB;IACxB,yBAAyB;IACzB,QAAQ;IACR,SAAS;IACT,0CAA0C;IAC1C,eAAe;IACf,UAAU;IACV,oDAAoD;AACxD;;AAEA;IACI,yCAAyC;IACzC,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;AAChB;;AAEA;;IAEI,yBAAyB;IACzB,8CAA8C;IAC9C,yBAAyB;;IAEzB;;;+CAG4e;IAC5e,2BAA2B;IAC3B,2BAA2B;IAC3B,mDAAmD;;IAEnD,6CAA6C;AACjD;;AAEA;IACI;QACI,0DAA0D;IAC9D;AACJ","sourcesContent":[".cifra-preview {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100vh;\r\n    background-color: #01101D;\r\n}\r\n\r\n.cifra-preview .box {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0px;\r\n    bottom: 0px;\r\n    left: 0px;\r\n    right: 0px;\r\n}\r\n\r\n.cifra-preview .box:before {\r\n    position: absolute;\r\n    content: '';\r\n    width: calc(100% + 30px);\r\n    height: calc(100% + 30px);\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) scale(.7);\r\n    filter: blur(0);\r\n    opacity: 1;\r\n    transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1);\r\n}\r\n\r\n.cifra-preview .box:hover:before {\r\n    transform: translate(-50%, -50%) scale(1);\r\n    filter: blur(50px);\r\n}\r\n\r\n.cifra-preview .box-inner {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.cifra-preview .box:before,\r\n.cifra-preview .box-inner {\r\n    background-color: #440099;\r\n    box-shadow: 2px 2px 12px 0 rgba(0, 0, 0, 0.58);\r\n    /* border-radius: 21px; */\r\n\r\n    background-image:\r\n        url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='1600' height='198'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='-10.959%25' y2='100%25'%3e%3cstop stop-color='%23fcc900' stop-opacity='.25' offset='0%25'/%3e%3cstop stop-color='%23fcc900' offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill='url(%23a)' fill-rule='evenodd' d='M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z'/%3e%3c/svg%3e\"),\r\n        url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='1600' height='198'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='-10.959%25' y2='100%25'%3e%3cstop stop-color='%23fcc900' stop-opacity='.25' offset='0%25'/%3e%3cstop stop-color='%23fcc900' offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill='url(%23a)' fill-rule='evenodd' d='M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z'/%3e%3c/svg%3e\"),\r\n        url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='1600' height='198'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='-10.959%25' y2='100%25'%3e%3cstop stop-color='%23fcc900' stop-opacity='.25' offset='0%25'/%3e%3cstop stop-color='%23fcc900' offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill='url(%23a)' fill-rule='evenodd' d='M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z'/%3e%3c/svg%3e\");\r\n    background-repeat: repeat-x;\r\n    background-size: 1600px 50%;\r\n    background-position: 0 130%, -50px 130%, 500px 130%;\r\n\r\n    animation: 20s waves linear infinite forwards;\r\n}\r\n\r\n@keyframes waves {\r\n    to {\r\n        background-position: 1600px 130%, 3150px 130%, 5300px 130%;\r\n    }\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraView.css":
/*!***********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraView.css ***!
  \***********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.cifra-view .marcador {
    position: absolute;
    background: red;
    color: white;
    padding: 2px 10px;
    z-index: -1;
    border-radius: 4px;
    transition: top 0.2s, left 0.2s, width 0.2s, height 0.2s;
    display: none;
}

.cifra-view b {
    color: #f70;
}

.cifra-view.no-chords b {
    color: #fff;
    background-color: #fff;

}

.cifra-view.no-chords .marcador {
    color: #fff;
    background-color: #fff;

}

.cifra-view i {
    background-color: #fffb39;
    color: #555;
    border: 1px solid #333;
    font-style: normal;
}

.cifra-view .titulo {
    font-size: 16px;
    font-family: Roboto;
    font-weight: bold;
    background: var(--app-color);
    /*
* Created with https://www.css-gradient.com
* Gradient link: https://www.css-gradient.com/?c1=5e21c7&c2=a33cd3&gt=l&gd=dtl
*/
    background: #5E21C7;
    background: linear-gradient(135deg, #5E21C7, #A33CD3);
    border-bottom-right-radius: 7px;
    border-bottom-left-radius: 7px;
    color: #fff;
    padding: 10px;
    margin-bottom: 30px;
}

.cifra-view .options {
    margin-bottom: 30px;
}

.cifra-view .options .form-check {
    margin: 5px;
}`, "",{"version":3,"sources":["webpack://./src/cifra/CifraView.css"],"names":[],"mappings":"AAAA;IACI,kBAAkB;IAClB,eAAe;IACf,YAAY;IACZ,iBAAiB;IACjB,WAAW;IACX,kBAAkB;IAClB,wDAAwD;IACxD,aAAa;AACjB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,WAAW;IACX,sBAAsB;;AAE1B;;AAEA;IACI,WAAW;IACX,sBAAsB;;AAE1B;;AAEA;IACI,yBAAyB;IACzB,WAAW;IACX,sBAAsB;IACtB,kBAAkB;AACtB;;AAEA;IACI,eAAe;IACf,mBAAmB;IACnB,iBAAiB;IACjB,4BAA4B;IAC5B;;;CAGH;IACG,mBAAmB;IACnB,qDAAqD;IACrD,+BAA+B;IAC/B,8BAA8B;IAC9B,WAAW;IACX,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,WAAW;AACf","sourcesContent":[".cifra-view .marcador {\r\n    position: absolute;\r\n    background: red;\r\n    color: white;\r\n    padding: 2px 10px;\r\n    z-index: -1;\r\n    border-radius: 4px;\r\n    transition: top 0.2s, left 0.2s, width 0.2s, height 0.2s;\r\n    display: none;\r\n}\r\n\r\n.cifra-view b {\r\n    color: #f70;\r\n}\r\n\r\n.cifra-view.no-chords b {\r\n    color: #fff;\r\n    background-color: #fff;\r\n\r\n}\r\n\r\n.cifra-view.no-chords .marcador {\r\n    color: #fff;\r\n    background-color: #fff;\r\n\r\n}\r\n\r\n.cifra-view i {\r\n    background-color: #fffb39;\r\n    color: #555;\r\n    border: 1px solid #333;\r\n    font-style: normal;\r\n}\r\n\r\n.cifra-view .titulo {\r\n    font-size: 16px;\r\n    font-family: Roboto;\r\n    font-weight: bold;\r\n    background: var(--app-color);\r\n    /*\r\n* Created with https://www.css-gradient.com\r\n* Gradient link: https://www.css-gradient.com/?c1=5e21c7&c2=a33cd3&gt=l&gd=dtl\r\n*/\r\n    background: #5E21C7;\r\n    background: linear-gradient(135deg, #5E21C7, #A33CD3);\r\n    border-bottom-right-radius: 7px;\r\n    border-bottom-left-radius: 7px;\r\n    color: #fff;\r\n    padding: 10px;\r\n    margin-bottom: 30px;\r\n}\r\n\r\n.cifra-view .options {\r\n    margin-bottom: 30px;\r\n}\r\n\r\n.cifra-view .options .form-check {\r\n    margin: 5px;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/homepage/HomePage.css":
/*!*************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/homepage/HomePage.css ***!
  \*************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.homepage .menu {
    background: var(--app-color);
    color: #fff;
    border-bottom-right-radius: 10px;
    border-bottom-left-radius: 10px;
    margin-bottom: 20px;
}

.homepage .menu a{
    color: #fff;
}`, "",{"version":3,"sources":["webpack://./src/homepage/HomePage.css"],"names":[],"mappings":"AAAA;IACI,4BAA4B;IAC5B,WAAW;IACX,gCAAgC;IAChC,+BAA+B;IAC/B,mBAAmB;AACvB;;AAEA;IACI,WAAW;AACf","sourcesContent":[".homepage .menu {\r\n    background: var(--app-color);\r\n    color: #fff;\r\n    border-bottom-right-radius: 10px;\r\n    border-bottom-left-radius: 10px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.homepage .menu a{\r\n    color: #fff;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (url, options) {
  if (!options) {
    options = {};
  }
  if (!url) {
    return url;
  }
  url = String(url.__esModule ? url.default : url);

  // If url is already wrapped in quotes, remove them
  if (/^['"].*['"]$/.test(url)) {
    url = url.slice(1, -1);
  }
  if (options.hash) {
    url += options.hash;
  }

  // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls
  if (/["'() \t\n]|(%20)/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, "\\n"), "\"");
  }
  return url;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/pyllar/action.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/action.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiAction)
/* harmony export */ });
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./request */ "./node_modules/pyllar/request.js");
/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./promise */ "./node_modules/pyllar/promise.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./url */ "./node_modules/pyllar/url.js");






/**
 * @class
 */
class PiAction extends _class__WEBPACK_IMPORTED_MODULE_0__["default"] {
    #request = new _request__WEBPACK_IMPORTED_MODULE_1__["default"]();
    #promise = new _promise__WEBPACK_IMPORTED_MODULE_2__["default"]();

    constructor(options) {
        super(options)

        this._load();
    }

    /**
     * Retorna a promise
     * 
     * @returns {PiPromise}
     */
    get promise() {
        return this.#promise;
    }

    /**
     * Shadow method
     */
    invoke() {
        return this._callModelMethod.apply(this, arguments);
    }

    processErrorResponse() {
        this.#promise.reject.apply(this.#promise, arguments);
    }

    processSuccessResponse(data, paging) {
        if (this._ignore_response) {
            this.#promise.resolve(this.model);
            return;
        }

        if (_type__WEBPACK_IMPORTED_MODULE_3__["default"].isArray(data)) {
            const arr = [];
            const promises = [];

            for (let i = 0; i < data.length; i++) {
                const model = this.model.create().initWithJson(data[i]);

                if (model instanceof _promise__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                    model.ok((data) => {
                        arr.push(data);
                    });

                    promises.push(model);
                } else {
                    arr.push(model);
                }
            }

            if (promises.length == 0) {
                this.#promise.resolve(arr, paging);
            } else {
                _promise__WEBPACK_IMPORTED_MODULE_2__["default"].wait(promises).ok(() => {
                    this.#promise.resolve(arr, paging);
                });
            }
        } else {
            const model = this.model.create().initWithJson(data);

            if (model instanceof _promise__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                model.ok((data) => {
                    this.#promise.resolve(data, paging);
                });
            } else {
                this.#promise.resolve(model, paging);
            }
        }
    }

    _load() {
        this._parseStmt(this.actionStmt);
        this._addModelMethod();
    }

    _addModelMethod() {
        var self = this;

        if (this._is_static) {
            this.model.constructor[this.actionName] = function () {
                const action = new PiAction({
                    actionName: self.name,
                    actionStmt: self.stmt,
                    model: self.model.clone()
                });

                const promise = action.invoke.apply(action, arguments);
                return new Promise((ok, error) => {
                    promise.ok(ok);
                    promise.error(error);
                });
            };

            return;
        }

        this.model[this.actionName] = function () {
            const promise = self.invoke.apply(self, arguments);
            return new Promise((ok, error) => {
                promise.ok(ok);
                promise.error(error);
            });
        };
    }

    _callModelMethod(...args) {
        this.#promise = new _promise__WEBPACK_IMPORTED_MODULE_2__["default"]();

        if (_type__WEBPACK_IMPORTED_MODULE_3__["default"].isObject(args[0])) {
            this.model.inject(args[0]);
        }

        if (this._method == 'GET' || this._method == 'OPTIONS') {
            this._createRequestGet.apply(this, args);
        }

        if (this._method == 'PUT' || this._method == 'POST' || this._method == 'DELETE' || this._method == 'PATH') {
            this._createRequestPost.apply(this, args);
        }

        return this.#promise;
    }

    _createRequestGet(...args) {
        let url = this._createUrl(...args);

        if (this.#request.isSending()) {
            this.#request.abort();
        }

        this.model.requestWillGet(url);

        this.#request.getJson(url)
            .then((json) => {
                this.model.responseSuccessWillLoad.apply(this.model, [this, url, json.data, json.paging]);
            })
            .catch((json) => {
                if (args[0] instanceof TypeError) {
                    throw args[0];
                }

                this.model.responseErrorWillLoad.apply(this.model, [this, url, json.data, json.paging]);
            });

        this.model.requestDidGet(url);
    }

    _createRequestPost(...args) {
        let url = this._createUrl(...args);
        let json = this.model.toJson();

        if (this.#request.isSending()) {
            this.#request.abort();
        }

        this.model.requestWillPost(json, url);
        this.#request.setMethod(this._method).postJson(url, json)
            .then((json) => {
                this.model.responseSuccessWillLoad.apply(this.model, [this, url, json.data, json.paging]);
            }).catch((...args) => {
                if (args[0] instanceof TypeError) {
                    throw args[0];
                }

                this.model.responseErrorWillLoad.apply(this.model, [this, url, json.data, json.paging]);
            });

        this.model.requestDidPost(json, url);
    }

    _createUrl(...args) {
        let action = this._getAction(...args);
        let url = '';

        if (this.model.getBaseUrl() instanceof _url__WEBPACK_IMPORTED_MODULE_4__["default"]) {
            url = _url__WEBPACK_IMPORTED_MODULE_4__["default"].create(this.model.getBaseUrl()).path(action);
        } else {
            if (this.model.getBaseUrl().indexOf('http') > -1) {
                url = _url__WEBPACK_IMPORTED_MODULE_4__["default"].create(this.model.getBaseUrl() + action);
            } else {
                url = _url__WEBPACK_IMPORTED_MODULE_4__["default"].create('localhost', this.model.getBaseUrl() + action);
            }
        }

        return url;
    }

    _getAction(...args) {
        let count = 0;

        return this._url.replace(/\:\w+[\(\w*\)]*/gi, (pattern) => {
            let property = pattern.substring(1);
            let modelValue = this.model[property] || '';

            if (args.length == 0) {
                return modelValue;
            } else {
                return (args[count++] || modelValue).toString();
            }
        });
    }

    _parseStmt(stmt) {
        const p = stmt.split(':/');
        const method = p[0];
        const path = p[1];

        this._is_static = false;
        if (method.indexOf('static') > -1) {
            this._is_static = true;
        }

        this._ignore_response = false;
        if (method.indexOf('~') > -1) {
            this._ignore_response = true;
        }

        this._url = path.length ? '/' + path : '';

        if (stmt.toUpperCase().indexOf('GET') > -1) {
            this._method = 'GET';
        } else if (stmt.toUpperCase().indexOf('POST') > -1) {
            this._method = 'POST';
        } else if (stmt.toUpperCase().indexOf('PUT') > -1) {
            this._method = 'PUT';
        } else if (stmt.toUpperCase().indexOf('DELETE') > -1) {
            this._method = 'DELETE';
        } else if (stmt.toUpperCase().indexOf('PATH') > -1) {
            this._method = 'PATH';
        } else if (stmt.toUpperCase().indexOf('OPTIONS') > -1) {
            this._method = 'OPTIONS';
        } else if (this._url.indexOf('?') > -1) {
            this._method = 'GET';
        } else {
            this._method = 'POST';
        }
    }

};

/***/ }),

/***/ "./node_modules/pyllar/alias.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/alias.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiAs)
/* harmony export */ });
/* harmony import */ var _dictionary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dictionary */ "./node_modules/pyllar/dictionary.js");


/**
 * @class
 */
class PiAs {
    #alias = new _dictionary__WEBPACK_IMPORTED_MODULE_0__["default"]();

    /**
     * Adiciona a lista de parametros ao conjunto
     * 
     * @returns {boolean}
     */
    add() {
        if (arguments.length < 2) {
            throw "PiAs: numero insulficiente de parametros";
        }

        if (this.#alias.existKey(arguments[0])) {
            throw "PiAs: este apelido ja foi definido: " + arguments[0];
        }

        let value = "";
        for (let i = 1; i < arguments.length; i++) {
            let as = arguments[i];

            if (this.#alias.existKey(as)) {
                value += this.#alias.getValue(as);
            } else {
                value += as;
            }
        }

        this.#alias.add(arguments[0], value);

        return true;
    }

    /**
     * Atualiza o conjunto
     * @returns {boolean}
     */
    update() {
        if (arguments.length < 2) {
            throw "PiAs: numero insulficiente de parametros";
        }

        if (this.#alias.existKey(arguments[0])) {
            this.remove(arguments[0]);
            return false;
        }

        let value = "";
        for (let i = 1; i < arguments.length; i++) {
            let as = arguments[i];

            if (this.#alias.existKey(as)) {
                value += this.#alias.getValue(as);
            } else {
                value += as;
            }
        }

        this.#alias.add(arguments[0], value);

        return true;
    }

    /**
     * Remove um item do conjunto
     * 
     * @param {string} as - Item
     * @returns {boolean}
     */
    remove(as) {
        this.#alias.remove(as);

        return this;
    }

    /**
     * Retorna se existe o item no conjunto
     * 
     * @param {string} as 
     * @returns {boolean}
     */
    exist(as) {
        return this.#alias.existKey(as);
    }

    /**
     * Retorna o valor do item
     * 
     * @param {string} as 
     * @returns {object}
     */
    getValue(as) {
        let v = this.#alias.getValue(as);

        if (this.exist(as) == false) {
            return null;
        } else if (this.#alias.existKey(v)) {
            return this.getValue(v);
        } else {
            return v;
        }
    }

};

/***/ }),

/***/ "./node_modules/pyllar/app.js":
/*!************************************!*\
  !*** ./node_modules/pyllar/app.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiApp)
/* harmony export */ });
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./url */ "./node_modules/pyllar/url.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _url_hash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./url_hash */ "./node_modules/pyllar/url_hash.js");





if ((0,_env__WEBPACK_IMPORTED_MODULE_2__.location)().host.length == 0) {
    _url__WEBPACK_IMPORTED_MODULE_1__["default"].add('localhost', 'http://localhost');
} else {
    _url__WEBPACK_IMPORTED_MODULE_1__["default"].add('localhost', _url__WEBPACK_IMPORTED_MODULE_1__["default"].create((0,_env__WEBPACK_IMPORTED_MODULE_2__.location)().toString()).href());
}

/**
 * @class
 */
class PiApp extends _class__WEBPACK_IMPORTED_MODULE_0__["default"] {
    page = null;
    services = [];
    _totalRouteNotFound = 0;

    init(){
        super.init();

        _url_hash__WEBPACK_IMPORTED_MODULE_3__["default"].onWillChange(() => {
            this._totalRouteNotFound = 0;
        });
    }

    register() {
        for (let i = 0; i < arguments.length; i++) {
            const cpo = arguments[i];
            (0,_env__WEBPACK_IMPORTED_MODULE_2__.register)(cpo);
        }

        return this;
    }

    addServices() {
        for (let i = 0; i < arguments.length; i++) {
            const service = arguments[i];

            service.onRouteNotFound((route) => {
                this._totalRouteNotFound++;

                if (this._totalRouteNotFound == this.services.length) {
                    this.#routeNotFound(route);
                }
            });

            this.services.push(service);
        }

        return this;
    }
    
    startServices() {
        for (let i = 0; i < this.services.length; i++) {
            const service = this.services[i];
            service.start();
        }

        return this;
    }

    stopServices() {
        for (let i = 0; i < this.services.length; i++) {
            const service = this.services[i];
            service.stop();
        }

        return this;
    }

    setPage(page) {
        if (this.page) {
            this.page.destroy();
        }

        page.render(this.element);

        this.page = page;

        return this;
    }

    getPage(){
        return this.page;
    }

    openModal(modal) {
        modal.render(this.element, true);
    }

    #routeNotFound(route) {
        for (let i = 0; i < this.services.length; i++) {
            const service = this.services[i];
            if (service.routeNotFound) {
                service.routeNotFound(route);
            }
        }

        return this;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/array.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/array.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiArray)
/* harmony export */ });
/**
 * @class
 * @name PiArray
 */
class PiArray {
    static addMethod(array, name, cb) {
        const cbs = [];
        if (array[name] != undefined) {
            cbs.push(cb);
            return;
        }

        Object.defineProperty(array, name, {
            enumerable: false,
            configurable: false,
            writable: false,
            value: function (...params) {
                cb.call(array, ...params);
                return this;
            }
        })
    }
};

/***/ }),

/***/ "./node_modules/pyllar/boot.js":
/*!*************************************!*\
  !*** ./node_modules/pyllar/boot.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiBoot)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app */ "./node_modules/pyllar/app.js");
/* harmony import */ var _tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tree */ "./node_modules/pyllar/tree.js");
/* harmony import */ var _virtual_tree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./virtual_tree */ "./node_modules/pyllar/virtual_tree.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");







/**
 * @class
 */
class PiBoot extends _class__WEBPACK_IMPORTED_MODULE_5__["default"] {

    createApp() {
        if ((0,_env__WEBPACK_IMPORTED_MODULE_1__.app)() == undefined) {
            _env__WEBPACK_IMPORTED_MODULE_1__.global.app = new _app__WEBPACK_IMPORTED_MODULE_2__["default"]();
            _env__WEBPACK_IMPORTED_MODULE_1__.global.app._scope = { context: _env__WEBPACK_IMPORTED_MODULE_1__.app };
        } else {
            _env__WEBPACK_IMPORTED_MODULE_1__.global.app = new App();
            _env__WEBPACK_IMPORTED_MODULE_1__.global.app._scope = { context: _env__WEBPACK_IMPORTED_MODULE_1__.app };
        }

        return _env__WEBPACK_IMPORTED_MODULE_1__.global.app;
    }

    loadApp() {
        if (_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('app.parse.enable')) {
            this.#createVirtualTree();
        }
    }

    #createVirtualTree() {
        const element = document.querySelector(_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('app.parse.selector'));
        if (element == null) {
            throw `PiBoot: Não foi possível encontrar o elemento pelo seletor informado ${_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('app.parse.selector')}`;
        }

        const root = _tree__WEBPACK_IMPORTED_MODULE_3__["default"].parse(element.innerHTML);
        element.innerHTML = '';
        element.append(root);

        const vtree = new _virtual_tree__WEBPACK_IMPORTED_MODULE_4__["default"](element, (0,_env__WEBPACK_IMPORTED_MODULE_1__.app)()._scope, (0,_env__WEBPACK_IMPORTED_MODULE_1__.app)());
        vtree.load();

        (0,_env__WEBPACK_IMPORTED_MODULE_1__.app)().element = element;
        (0,_env__WEBPACK_IMPORTED_MODULE_1__.app)().$element = $(element);
    }
};

/***/ }),

/***/ "./node_modules/pyllar/bootstrap.js":
/*!******************************************!*\
  !*** ./node_modules/pyllar/bootstrap.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Bootstrap)
/* harmony export */ });
/* harmony import */ var _boot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./boot */ "./node_modules/pyllar/boot.js");
/* harmony import */ var _initialize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./initialize */ "./node_modules/pyllar/initialize.js");
/* harmony import */ var _callback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./callback */ "./node_modules/pyllar/callback.js");
/* harmony import */ var _native_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./native_element */ "./node_modules/pyllar/native_element.js");
/* harmony import */ var _native_element__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_native_element__WEBPACK_IMPORTED_MODULE_3__);





class Bootstrap {
    #hooks = new _callback__WEBPACK_IMPORTED_MODULE_2__["default"]();

    onInit(fn){
        this.#hooks.add('init', fn);

        return this;
    }

    onLoad(fn){
        this.#hooks.add('load', fn);

        return this;
    }

    onReady(fn){
        this.#hooks.add('ready', fn);

        return this;
    }

    async load() {
        const boot = new _boot__WEBPACK_IMPORTED_MODULE_0__["default"]();
        let app = null;

        _initialize__WEBPACK_IMPORTED_MODULE_1__["default"]
            .init(() => {
                this.#hooks.trigger('init', app);
                app = boot.createApp();
            })
            .start(() => {
                this.#hooks.trigger('load', app);
                boot.loadApp();
                this.#hooks.trigger('ready', app);
            });
        
        await _initialize__WEBPACK_IMPORTED_MODULE_1__["default"].load();
    }
}

/***/ }),

/***/ "./node_modules/pyllar/callback.js":
/*!*****************************************!*\
  !*** ./node_modules/pyllar/callback.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiCallback)
/* harmony export */ });
/**
 * @class
 */
class PiCallback {
    #list = [];

    /**
     * Remove todos os listeners
     * 
     * @returns {PiCallback}
     */
    clear() {
        this.#list = [];

        return this;
    }

    /**
     * Adiciona um callback
     * 
     * @param {string} name - Nome do callback
     * @param {function} fn - Função de callback
     * @param {object} ctx - Contexto onde o callback será chamado
     * @returns {PiCallback}
     */
    add(name, fn, ctx) {
        if (this.#list[name] == null) {
            this.#list[name] = [];
        }

        this.#list[name].push({ name: name, fn: fn, ctx: ctx });

        return this;
    }

    /**
     * Remove um callback por nome
     * 
     * @param {string} name - Nome do callback
     * @returns {PiCallback}
     */
    remove(name) {
        if (!this.exist(name)) return this;

        this.#list[name] = [];

        return this;
    }

    /**
     * Verifica se existe um callback adicionado
     * 
     * @param {string} name - Nome do callback
     * @returns {boolean}
     */
    exist(name) {
        return this.#list[name] != null;
    }

    /**
     * Returna uma lista com todos os callbacks adicionado pelo nome
     * 
     * @param {string} name - Nome do callback
     * @returns {array}
     */
    get(name) {
        if (!this.exist(name)) return [];
        return this.#list[name];
    }

    /**
     * Alias para get(name)
     * 
     * @param {string} name - Nome do callback
     * @returns {array}
     */
    findAll(name) {
        return this.get(name);
    }

    /**
     * Dispara os callback adicionados pelo nome
     * 
     * @param {string} name - Nome
     * @param  {...any} args - Lista de parametros passado para o callback
     * @returns {object}
     */
    trigger(name, ...args) {
        let arr = this.findAll(name);
        let r = undefined;

        for (let i = 0; i < arr.length; i++) {
            let item = arr[i];

            r = item.fn.apply(item.ctx, args);
        }

        return r;
    }
};

/***/ }),

/***/ "./node_modules/pyllar/class.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/class.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiClass)
/* harmony export */ });
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");



/**
 * @class
 */
class PiClass {
    #parameters = null;

    constructor(...args) {
        this.instances(...args);

        if (_type__WEBPACK_IMPORTED_MODULE_0__["default"].isObject(args[0])) {
            _object__WEBPACK_IMPORTED_MODULE_1__["default"].extendAndCall(this, args[0]);
        }

        this.#parameters = args[0] == undefined ? {} : args[0];

        this.init(...args);
    }

    instances() {

    }

    /**
     * Retorna o parametro fornecido na criação do objeto
     * 
     * @returns {object}
     */
    get parameters() {
        return this.#parameters;
    }

    /**
     * Injeta as propriedades do objeto
     * 
     * @param {json} json - Objeto a ser injetado no objeto atual
     * @returns {this}
     */
    inject(json) {
        for (var property in json) {
            this[property] = json[property];
        }

        return this;
    }

    init() {

    }

    jsonWillConvert() {

    }

    /**
     * Converte o objeto em um json
     * 
     * @returns {object}
     */
    toJson() {
        this.jsonWillConvert();
        let json = JSON.parse(JSON.stringify(this));
        this.jsonDidConvert(json);

        return json;
    }

    jsonDidConvert(json) {

    }

    cloneWillLoad() {

    }

    /**
     * Clona o objeto atual
     * 
     * @returns {this}
     */
    clone() {
        this.cloneWillLoad();
        let json = this.toJson();
        let clone = new this.constructor(json);
        this.cloneDidLoad(clone);

        return clone;
    }

    cloneDidLoad() {

    }

    /**
     * Cria uma nova instancia da classe
     * 
     * @param  {...any} args 
     * @returns {this}
     */
    static create(...args) {
        return new this(...args);
    }

    create(...args) {
        return new this.constructor(...args);
    }
};

/***/ }),

/***/ "./node_modules/pyllar/component.js":
/*!******************************************!*\
  !*** ./node_modules/pyllar/component.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiComponent)
/* harmony export */ });
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./event */ "./node_modules/pyllar/event.js");
/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./string */ "./node_modules/pyllar/string.js");
/* harmony import */ var _model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model */ "./node_modules/pyllar/model.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _tree__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tree */ "./node_modules/pyllar/tree.js");
/* harmony import */ var _virtual_tree__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./virtual_tree */ "./node_modules/pyllar/virtual_tree.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./promise */ "./node_modules/pyllar/promise.js");
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./random */ "./node_modules/pyllar/random.js");













const $ = _env__WEBPACK_IMPORTED_MODULE_8__.global.$;

/**
 * @class
 */
class PiComponent extends _class__WEBPACK_IMPORTED_MODULE_1__["default"] {
    event = new _event__WEBPACK_IMPORTED_MODULE_2__["default"]();

    #vtrees = [];
    #watchs = [];
    #scope = null;
    #$element = null;
    #isParentElement = false;
    #elementId = '';

    constructor(...args) {
        super(...args);

        this.#scope = {
            context: this
        };

        this.#elementId = _random__WEBPACK_IMPORTED_MODULE_10__["default"].uuid('xx-xx');
    }

    init(...args) {
        super.init(...args);

        this._loadPromise = new _promise__WEBPACK_IMPORTED_MODULE_9__["default"]();
        this.willLoad(this._loadPromise);
    }

    /**
     * Injeta o modelo em todos os elementos de pagina com o atributo 'data-model'
     * Caso o parametro seja um json, seu valor será embutido no component
     * 
     * @param {PiModel} model - Modelo a ser injetado
     * @returns {PiComponent}
     */
    inject(model) {
        if (model instanceof _model__WEBPACK_IMPORTED_MODULE_4__["default"]) {
            const names = _string__WEBPACK_IMPORTED_MODULE_3__["default"].clips(this.view, 'data-model="', '"');
            for (let i = 0; i < names.length; i++) {
                const name = names[i];
                const element = this.element.querySelector('[data-model="' + name + '"]');
                const value = _object__WEBPACK_IMPORTED_MODULE_5__["default"].extractValue(model, name);

                if (element._hasComponent) {
                    element._component.set(value);
                } else if (element.firstChild && element.firstChild._hasComponent) {
                    element.firstChild._component.set(value);
                } else {
                    element.set(value);
                }
            }
        } else {
            super.inject(model);
        }

        return this;
    }

    /**
     * Retorna o valor que representa o component
     * 
     * @returns {string}
     */
    get() {
        return '';
    }

    /**
     * Define um valor para o component
     * Dispara o evento 'change'
     * 
     * @returns {PiComponent}
     */
    set(value) {
        if (this.element == null) {
            return this;
        }

        this.dispatchEvent('change', value);

        return this;
    }

    /**
     * Dispara um evento nativo sobre o elemento
     * 
     * @param {string} eventName - Nome do evento
     * @param {Object} param - Objeto a ser passado pelo evento
     * @returns {PiComponent}
     */
    dispatchEvent(eventName, param, newEvent = true) {
        if (this.element == null) {
            return this;
        }

        var event = param;
        if (newEvent) {
            event = new CustomEvent(eventName, {
                bubbles: true,
                cancelable: true,
                composed: false,
                detail: param,
            });
        }

        if (this.#isParentElement) {
            this.element.dispatchEvent(event);
        } else {
            this.element.parentElement.dispatchEvent(event);
        }

        return this;
    }

    /**
     * Retorna wrapper jquery
     * 
     * @returns {jQueryElement}
     */
    get $element() {
        if (this.#$element) return this.#$element;
        return this.#$element = $(this.element);
    }

    /**
     * Renderiza o elemento anexando ou inserindo no elemento
     * 
     * @param {Element} element - Elemento html onde o componente será renderizado
     * @param {boolean} append 
     * @returns {PiComponent}
     */
    render(element, append = false) {
        if (element instanceof $) {
            element = element.get(0);
        }

        this._loadPromise.once(() => {
            this.#loadAttributes(element);

            if (element.mount) {
                element.mount(this);
            }

            this.viewWillLoad();
            this.viewWillRender();
            this.viewRender(element, append);
            this.viewDidRender();
            this.#listen();
            this.viewDidLoad();

            if (element.didMount) {
                element.didMount(this);
            }

            this.element.setAttribute('data-id', this.#elementId);
        });

        return this;
    }

    get isRendered() {
        const elemento = document.querySelector(`[data-id="${this.#elementId}"]`);
        return document.contains(elemento);
    }

    willLoad(promise) {
        promise.resolve();
    }

    didLoad() {

    }

    viewWillLoad() {

    }

    viewWillRender() {

    }

    viewDidRender() {

    }

    viewRender(element, append = false) {
        if (!append) {
            element.innerHTML = '';
        }

        if (this.view) {
            const elements = this.loadView(this.view, element);

            if (elements.length == 1) {
                this.element = elements[0];
                this.#isParentElement = false;
            } else {
                this.element = element;
                this.#isParentElement = true;
            }

        } else {
            this.element = element;
        }
    }

    viewDidLoad() {

    }

    /**
     * Monitora alteração sobre propriedade 
     * 
     * @param {string} property - Nome da propriedade a ser monitorada
     * @param {function} fn - Função de callback
     * @returns {PiElement}
     */
    watch(property, fn) {
        const ids = _object__WEBPACK_IMPORTED_MODULE_5__["default"].on(this.#scope, 'context.' + property, fn)
        this.#watchs = this.#watchs.concat({
            property: property,
            ids: ids
        });

        return this;
    }

    /**
     * Para de monitorar uma proprieade do contexto
     * 
     * @param {string} property - Nome da propriedade
     * @returns {PiElement}
     */
    unWatch(property) {
        const arr = this.#watchs;

        for (let i = 0; i < arr.length; i++) {
            if (arr[i].property == property) {
                _object__WEBPACK_IMPORTED_MODULE_5__["default"].off(this.#scope, arr[i].ids);
                break;
            }
        }

        return this;
    }

    destroy() {
        for (let i = 0; i < this.#vtrees.length; i++) {
            const vtree = this.#vtrees[i];
            vtree.destroy();
        }
        this.#vtrees = [];

        this.#clearContextWatch();
    }

    loadView(view, element) {
        const root = _tree__WEBPACK_IMPORTED_MODULE_6__["default"].parse(view);
        const children = [];

        for (; root.childElementCount;) {
            const child = root.children[0];
            element.append(child);
            children.push(child);
        }

        this.#loadTree(children);

        return children;
    }

    #loadTree(tree) {
        const vtree = new _virtual_tree__WEBPACK_IMPORTED_MODULE_7__["default"](tree, this.#scope, this);
        vtree.load();
        this.#vtrees.push(vtree);
    }

    #listen() {
        if (this.element == null) {
            return this;
        }

        const self = this;
        const observer = new MutationObserver(function (mutations) {
            mutations.forEach(function (mutation) {
                if (mutation.type == 'childList') {
                    for (var i = 0; i < mutation.addedNodes.length; i++) {
                        const element = mutation.addedNodes[i];
                        self.#loadTree(element);
                    }
                }
            });
        });

        observer.observe(this.element, {
            childList: true,
            attributes: false,
            characterData: false,
            subtree: false,
            attributeOldValue: false,
            characterDataOldValue: false
        });
    }

    #clearContextWatch() {
        let ids = [];

        for (let i = 0; i < this.#watchs.length; i++) {
            ids = ids.concat(this.#watchs[i].ids);
        }

        _object__WEBPACK_IMPORTED_MODULE_5__["default"].off(this.#scope, ids);
        this.#watchs = [];
    }

    #loadAttributes(element) {
        if (element.getAttributeNames == undefined) {
            return;
        }

        const attrs = element.getAttributeNames();

        for (let i = 0; i < attrs.length; i++) {
            const name = attrs[i];
            let value = element.getAttribute(name);

            if (name.indexOf('prop-') == -1) {
                continue
            }

            if (_type__WEBPACK_IMPORTED_MODULE_0__["default"].isString(value) && (_type__WEBPACK_IMPORTED_MODULE_0__["default"].isObject(value) || _type__WEBPACK_IMPORTED_MODULE_0__["default"].isArray(value))) {
                value = JSON.parse(value);
            }

            const cname = name.replace('prop-', '');
            this[cname] = value;
        }
    }

    static register(cpo) {
        (0,_env__WEBPACK_IMPORTED_MODULE_8__.register)(cpo);
    }
}

/***/ }),

/***/ "./node_modules/pyllar/config.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/config.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");



const defaults = {
    app: {
        parse: {
            enable: true,
            selector: 'body'
        }
    },
    html: {
        loader: 'Carregando ...'
    },
    expression: {
        xlanguage: /(\{>?)([^\}]+)(\})/gi,
        xvariable: /(@)([\w\.]+)/gi,
        xhtml: /(\{>)([^\}]+)(\})/gi,
    },
    history: {
        popstate: false,
        prefixHashtag: true
    },
    services: [],
    request: {
        fetch: null
    }
};

/**
 * @class
 */
class PiConfig {
    /**
     * Define uma configuração
     * 
     * @param {string} key - Parametro da configuração
     * @param {object} value - Valor da configuração
     * @returns {PiConfig}
     */
    static set(key, value) {
        _object__WEBPACK_IMPORTED_MODULE_0__["default"].setProperty(defaults, key, value);

        return PiConfig;
    }

    /**
     * Retorna uma configuração
     * 
     * @param {string} key - Path da configuração
     * @returns {object||string}
     */
    static get(key) {
        return _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(defaults, key);
    };

    /**
     * Carrega um conjunto de configurações
     * 
     * @param {object} settings - Objeto contendo configurações
     * @returns {PiConfig}
     */
    static load(settings) {
        _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(defaults, settings);
        return PiConfig;
    }

    /**
     * Mescla a configuração atual com a nova configuração informada por parametro
     * 
     * @param {object} settings - Configuração
     * @param {object} value - Valor da configuração
     * @returns {object}
     */
    static extend(settings, value = false) {
        if (value == false) return _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(defaults, settings);
        else return _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(defaults, { settings: value });
    }

};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PiConfig);

(0,_env__WEBPACK_IMPORTED_MODULE_1__.register)(PiConfig);

/***/ }),

/***/ "./node_modules/pyllar/dictionary.js":
/*!*******************************************!*\
  !*** ./node_modules/pyllar/dictionary.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiDictionary)
/* harmony export */ });
/**
 * @class
 */
class PiDictionary {
    #list = [];

    /**
     * Adiciona o par chave valor
     * 
     * @param {string} key - Chave
     * @param {string} value - Valor
     * @returns {PiDictionary}
     */
    add(key, value) {
        this.#list[key] = value;

        return this;
    }

    /**
     * Verifica se existe a chave
     * 
     * @param {string} key - Chave
     * @returns {boolean}
     */
    existKey(key) {
        return this.#list[key] != undefined;
    }

    /**
     * Verifica se existe o valor
     * 
     * @param {string} value - Valor
     * @returns {boolean}
     */
    existValue(value) {
        for (let i = this.#list.length - 1; i >= 0; i--) {
            if (this.#list[i] == value) return true;
        }

        return false;
    }

    /**
     * Retorna o valor
     * 
     * @param {string} key - Chave
     * @returns {string}
     */
    getValue(key) {
        return this.#list[key];
    }

    /**
     * Remove a chave
     * 
     * @param {string} key - Chave
     * @returns {PiDictionary}
     */
    remove(key) {
        delete this.#list[key];

        return this;
    }

    /**
     * Limpa o dicionario
     * 
     * @returns {PiDictionary}
     */
    clear() {
        this.#list = [];

        return this;
    }

    /**
     * Convert o dicionario em array
     * 
     * @returns {array}
     */
    toArray() {
        return this.#list;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/element.js":
/*!****************************************!*\
  !*** ./node_modules/pyllar/element.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiElement)
/* harmony export */ });
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _expression__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./expression */ "./node_modules/pyllar/expression.js");
/* harmony import */ var _statement__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./statement */ "./node_modules/pyllar/statement.js");
/* harmony import */ var _virtual_tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./virtual_tree */ "./node_modules/pyllar/virtual_tree.js");
/* harmony import */ var _for_directive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./for_directive */ "./node_modules/pyllar/for_directive.js");
/* harmony import */ var _foreach_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./foreach_directive */ "./node_modules/pyllar/foreach_directive.js");
/* harmony import */ var _array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./array */ "./node_modules/pyllar/array.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./promise */ "./node_modules/pyllar/promise.js");












/**
 * @class
 */
class PiElement {
    /**
     * Constroi PiElement baseado no elemento html
     * 
     * @param {Element} element - Elemento html
     * @param {object} [scope = {context: {}}] - Classe de escopo
     */
    constructor(element, scope = { context: {} }, componentParent = null) {
        this._element = element;

        this._attrNames = element.getAttributeNames();
        this._destroyed = false;
        this._directives = [];
        this._autoBind = true;

        this._element._component = null;
        this._element._hasComponent = false;
        this._element._componentParent = componentParent;

        this._foreachContext = {};

        this._defaultVariablesNames = [];
        this._defaultVariablesValues = [];

        this._scope = scope;
        this._watchs = [];
        this._children = [];
        this._events = {
            'enter': this._eventEnter
        };

        this._orderAttributeNames();
        this._loadDirectivesBase();

        this._element._pie = true;
    }

    /**
     * 
     * @param {string} name - Adiciona propriedade ao contexto do foreach
     * @param {obj} value - Objeto associado a propriedade de contexto do foreach
     * @returns {PiElement}
     */
    addForeachContext(name, value) {
        this._foreachContext[name] = value;

        return this;
    }

    setComponent(cx) {
        this._element._hasComponent = true;
        this._element._component = cx;

        return this;
    }

    extendForeachContext(foreachContext) {
        _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(this._foreachContext, foreachContext);

        return this;
    }

    /**
     * Monitora alteração sobre propriedade 
     * 
     * @param {string} propertyName - Nome da propriedade a ser monitorada
     * @param {function} fn - Função de callback
     * @returns {PiElement}
     */
    watch(propertyName, fn) {
        this._addContextWatch(propertyName, fn);

        return this;
    }

    /**
     * Para de monitorar uma proprieade do contexto
     * 
     * @param {string} propertyName - Nome da propriedade
     * @returns {PiElement}
     */
    unWatch(propertyName) {
        this._removeContextWatch(propertyName);

        return this;
    }

    /**
     * Carrega e analisa todas as diretivas juntamente com o template
     * 
     * @returns {PiElement}
     */
    load(wrapper) {
        this._loadDefaultVariables();
        this._runDirectives(wrapper);
        this._loadTemplate();

        return this;
    }

    _loadDefaultVariables() {
        let variablesForeachNames = Object.keys(this._foreachContext);
        let variablesForeachValues = Object.values(this._foreachContext);
        let contextPropertyNames = [];
        let contextPropertyValues = [];

        const cpo = this._element._componentParent;
        if (cpo != null) {
            contextPropertyNames = Object.getOwnPropertyNames(cpo.__proto__);
            for (let i = 0; i < contextPropertyNames.length; i++) {
                if (cpo[contextPropertyNames[i]] instanceof Function) {
                    contextPropertyValues.push(cpo[contextPropertyNames[i]].bind(cpo));
                }
            }
        }

        this._defaultVariablesNames = variablesForeachNames.concat(contextPropertyNames);
        this._defaultVariablesValues = variablesForeachValues.concat(contextPropertyValues);
    }

    /**
     * Adiciona uma directiva para um atributo do elemento
     * 
     * @param {string} name - nome da diretiva
     * @param {function} fn - Função de callback
     * @returns {this}
     */
    addDirective(name, fn) {
        this._directives[name] = fn;

        return this;
    }

    /**
     * Retorna se existe uma diretiva adicionada pelo seu nome
     * 
     * @param {string} name - Nome da diretiva
     * @returns {boolean}
     */
    existDirective(name) {
        return this._directives[name] != null;
    }

    /**
     * Retorna wrapper jquery
     * 
     * @returns {jQueryElement}
     */
    get $() {
        if (this._$element) return this._$element;
        return this._$element = $(this._element);
    }

    /**
     * Alias para listen
     * 
     * @param {string} eventName - Nome do evento
     * @param {function} fn - Função de callback
     * @param  {...any} args - Argumentos enviados ao callback quando ocorrer o evento
     * @returns {PiElement}
     */
    on(eventName, fn, ...args) {
        return this.listen(eventName, fn, ...args);
    }

    _eventEnter(fn, ...args) {
        this._element.addEventListener('keyup', (e) => {
            if (e.keyCode == 13) {
                fn.apply(this, [e, ...args]);
            }
        });
    }

    _eventDefault(eventName, fn, ...args) {
        this._element.addEventListener(eventName, (e) => {
            fn.apply(this, [e, ...args]);
        });
    }

    /**
     * Adiciona um callback sobre um evento do elemento
     * 
     * @param {string} eventName - Nome do evento
     * @param {function} fn - Função de callback
     * @param  {...any} args - Argumentos enviados ao callback quando ocorrer o evento
     * @returns {PiElement}
     */
    listen(eventName, fn, ...args) {
        const event = this._events[eventName];

        if (event) {
            event.call(this, fn, ...args);
        } else {
            this._eventDefault(eventName, fn, ...args);
        }

        return this;
    }

    /**
     * Alias para unlisten
     * 
     * @param {string} eventName - Nome do evento
     * @param {function} fn - Função de callback
     * @returns {PiElement}
     */
    off(eventName, fn) {
        return this.unlisten(eventName, fn);
    }

    /**
     * Remove callback sobre um evento do elemento
     * 
     * @param {string} eventName - Nome do evento
     * @param {function} fn - Função de callback
     * @returns {PiElement}
     */
    unlisten(eventName, fn) {
        this._element.removeEventListener(eventName, fn);

        return this;
    }

    _dispose() {
        if (this._destroyed) {
            return;
        }

        this._destroyed = true;
        this._element.remove();

        for (let i = 0; i < this._children.length; i++) {
            this._children[i].destroy();
        }
        this._children = [];

        return this;
    }

    /**
     * Remove elemento do DOM
     * 
     * @returns {PiElement}
     */
    destroy() {
        if (this._destroyed) {
            return;
        }

        this._dispose();
        this._clearContextWatch();

        return this;
    }

    /**
     * Insere elemento depois
     * 
     * @param {PiElement} element - Elemento a ser inserido
     * @returns {PiElement}
     */
    insertBefore(element) {
        this._element.parentNode.insertBefore(element._element, this._element.nextElementSibling);

        return this;
    }

    /**
     * Insere elemento antes
     * 
     * @param {PiElement} element - Elemento a ser inserido
     * @returns {PiElement}
     */
    insertAfter(element) {
        this._element.parentNode.insertBefore(element._element, this._element.nextSibling);

        return this;
    }

    /**
     * Adiciona um elemento 
     * 
     * @param {PiElement} element 
     * @returns {PiElement}
     */
    append(element) {
        this._element.parentNode.append(element._element);

        return this;
    }

    /**
     * Executa uma statement dentro do contexto sempre que o evento associado for disparado
     * 
     * @param {string} statement - Statement executada sempre que o ocorrer o evento
     * @param {strin} event - Nome do evento a ser observado
     * @returns {PiElement}
     */
    addEventStatement(statement, _, event) {
        const expression = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](statement);

        this.listen(event, function (e) {
            const ctx = this._getContext();
            const variables = this._getDefaultVariables();

            variables[0].push('$event');
            variables[1].push(e);

            const stmt = expression.parse(ctx, variables);

            return _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(stmt, variables, ctx);
        });

        return this;
    }

    setChangeDirective(statement) {
        const expression = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](statement);

        this.listen('change', function (e) {
            const ctx = this._getContext();
            const variables = this._getDefaultVariables();

            variables[0].push('$event');
            variables[1].push(e);

            const stmt = expression.parse(ctx, variables);

            return _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(stmt, variables, ctx);
        });

        return this;
    }

    /**
     * Retorna o valor do elemento
     * 
     * @returns {string|number|boolean}
     */
    get value() {
        const e = this._element;

        if (e instanceof HTMLInputElement && e.type == 'checkbox') {
            return e.checked;
        }

        if (e instanceof HTMLInputElement && e.type == 'radio') {
            return e.checked;
        }

        return e.value;
    }

    /**
     * Define o valor do elemento
     * 
     * @param {string|boolean} value - Valor
     * @returns {PiElement}
     */
    set value(value) {
        const e = this._element;

        if (e instanceof HTMLInputElement && (e.type == 'checkbox' || e.type == 'radio')) {
            e.checked = value;
            return this;
        }

        e.value = value;

        return this;
    }

    /**
     * Adiciona um vinculo de direção dupla entre uma propriedade do contexto e o elemento virtual
     * 
     * @param {string} propertyName - Nome da propriedade do contexto que será vinculada ao elemento
     * @param {string} eventName - Nome da propriedade do contexto que será vinculada ao elemento
     * @returns {PiElement}
     */
    addBind(propertyName, _, eventName) {
        if (propertyName == null || propertyName.length == 0) {
            return;
        }

        this._addBindToElementContext(propertyName, eventName);

        return this;
    }

    /**
     * Retorna verdadeiro se o elemento estiver destruido
     * 
     * @returns {boolean}
     */
    get isDestroyed() {
        return this._destroyed;
    }

    /**
     * Define uma expression de inicialização
     * 
     * @param {string} expression
     * @returns {PiElement}
     */
    setInitDirective(expression) {
        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();
        const defaultVariables = this._getDefaultVariables();
        const stmt = ex.parse(ctx, defaultVariables);

        _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables('this.' + stmt, defaultVariables, ctx);

        return this;
    }

    /**
     * Adiciona bind fullduplex do elemento a propriedade da model
     * 
     * @param {string} propertyName - Nome da propriedade da model que será vinculada ao elemento
     * @returns {PiElement}
     */
    setModelDirective(propertyName) {
        let event = 'change';

        if (this._element instanceof HTMLInputElement) {
            event = 'keyup';
        }

        this._addBindToElementContext(propertyName, event);

        return this;
    }

    /**
     * Define o valor do elemento baseado em uma expression language avaliada dentro do contexto do elemento
     * 
     * @param {string} expression - Expressão a ser avaliada dentro do contexto
     * @returns {PiElement}
     */
    setValueDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();

        this.value = ex.parse(ctx, this._getDefaultVariables());

        return this;
    }

    /**
     * Define se o elemento terá o atributo 'selected' baseado na expression language
     * 
     * @param {string} expression - Expressão a ser avaliada dentro do contexto
     * @returns {PiElement}
     */
    setSelectedDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();
        const value = ex.parse(ctx, this._getDefaultVariables());

        if (value === true || value === "true") {
            this._element.setAttribute('selected', true);
        } else {
            this._element.removeAttribute('selected');
        }

        return this;
    }

    setCheckedDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();
        const variables = ex.variables;
        let value = ex.parse(ctx, this._getDefaultVariables());

        this._element.checked = value == 'true';

        if (variables.length > 0) {
            for (let i = 0; i < variables.length; i++) {
                const variable = variables[i];
                this._addContextWatch(variable, () => {
                    value = ex.parse(ctx, this._getDefaultVariables());

                    this._element.checked = value == 'true';
                });
            }
        }
    }

    setSrcDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();
        const variables = ex.variables;
        let value = ex.parse(ctx, this._getDefaultVariables());

        this._element.setAttribute('src', value);

        if (variables.length > 0) {
            for (let i = 0; i < variables.length; i++) {
                const variable = variables[i];
                this._addContextWatch(variable, () => {
                    value = ex.parse(ctx, this._getDefaultVariables());

                    this._element.setAttribute('src', value);
                });
            }
        }
    }

    setConditionalDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const variables = ex.variables;

        this._updateConditional(ex);

        if (variables.length > 0) {
            for (let i = 0; i < variables.length; i++) {
                const variable = variables[i];
                this._addContextWatch(variable, () => {
                    this._updateConditional(ex);
                });
            }
        }
    }

    /**
     * Define se o elemento terá o atributo 'disabled' baseado na expression language
     * 
     * @param {string} expression - Expressão a ser avaliada dentro do contexto
     * @returns {PiElement}
     */
    setDisabledDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        this._updateDisabled(ex);

        for (let i = 0; i < ex.variables.length; i++) {
            const variableName = ex.variables[i];

            this._addContextWatch(variableName, () => {
                this._updateDisabled(ex);
            });
        }

        return this;
    }

    /**
     * Define a manipulação do estilo do elemento por meio de uma expression language
     * 
     * @param {string} expression 
     * @returns {PiElement}
     */
    setStyleDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        this._expressionStyle = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);

        this._updateStyle();

        const variableNames = this._expressionStyle.variables;
        for (let i = 0; i < variableNames.length; i++) {
            const variableName = variableNames[i];

            this._addContextWatch(variableName, () => {
                this._updateStyle();
            });
        }

        return this;
    }

    /**
     * Define a manipulação das classes do elemento por meio de uma expression language
     * 
     * @param {string} expression
     * @returns {PiElement}
     */
    setClassDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        this._expressionClass = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);

        this._updateClass();

        const variables = this._expressionClass.variables;
        for (let i = 0; i < variables.length; i++) {
            const v = variables[i];

            this._addContextWatch(v, () => {
                this._updateClass();
            });
        }

        return this;
    }

    setForDirective(stmt) {
        const exp = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](stmt);
        const ctx = this._getContext();
        const variables = this._getDefaultVariables();
        const _stmt = exp.parse(ctx, variables);
        const forDirective = new _for_directive__WEBPACK_IMPORTED_MODULE_4__["default"](_stmt);
        const attrNodes = this._getPiAttributeNodes([':for']);

        let nodes = [];
        let refNode = document.createTextNode('');
        this._element.parentNode.insertBefore(refNode, this._element.nextSibling);

        forDirective
            .loop((ixn, index) => {
                const cpoParent = this._element.componentParent;
                this._setAttributeNodes(attrNodes);

                const clonedElement = this._element.cloneNode(true);
                const newElement = new PiElement(clonedElement, this._scope, cpoParent);
                newElement.extendForeachContext(this._foreachContext);
                newElement._autoBind = false;
                newElement.addForeachContext(ixn, index);
                newElement.load(cpoParent);

                const vtree = new _virtual_tree__WEBPACK_IMPORTED_MODULE_3__["default"](clonedElement.children, this._scope, cpoParent);
                vtree.hook('did:create:velement', (ve) => {
                    newElement._children.push(ve);
                    ve.extendForeachContext(newElement._foreachContext);
                });
                vtree.load();

                nodes.push(newElement);
            })
            .end(() => {
                for (let i = nodes.length - 1; i >= 0; i--) {
                    const newNode = nodes[i]._element;
                    refNode.parentNode.insertBefore(newNode, refNode.nextSibling);
                }
            })
            .run();

        if (exp.variables.length > 0) {
            for (let i = 0; i < exp.variables.length; i++) {
                const variableName = exp.variables[i];
                this._addContextWatch(variableName, (value) => {
                    for (let i = 0; i < nodes.length; i++) {
                        nodes[i].destroy();
                    }

                    nodes = [];
                    forDirective.run(value);
                });
            }
        }

        this._element.parentElement.dispatchEvent(new CustomEvent('fordone', {
            bubbles: true,
            cancelable: true,
            composed: false,
        }));

        this._dispose();

        return this;

    }

    /**
     * Define a diretiva foreach do elemento
     * 
     * @param {stmt} stmt - Declaração foreach
     * @returns {PiElement}
     */
    setForEachDirective(stmt) {
        const exp = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](stmt);
        const ctx = this._getContext();
        const variables = this._getDefaultVariables();
        const _stmt = exp.parse(ctx, variables);
        const foreach = new _foreach_directive__WEBPACK_IMPORTED_MODULE_5__["default"](_stmt);
        const propertyName = foreach.objectInterableName;
        const attrNodes = this._getPiAttributeNodes([':foreach']);
        let array = _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(this._scope, 'context.' + propertyName);

        if (array == undefined) {
            array = (0,_env__WEBPACK_IMPORTED_MODULE_7__.findClass)(propertyName);
        }

        if (array == undefined) {
            array = _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(this._foreachContext, propertyName);
        }

        if (array == undefined) {
            throw `ForEach: propriedade não encontrada '${propertyName}'`;
        }

        let nodes = [];
        let currentElements = [];

        var refNode = document.createTextNode('');
        this._element.parentNode.insertBefore(refNode, this._element.nextSibling);

        foreach
            .loop((arr, index, vn, ixn) => {
                const cpoParent = this._element._componentParent;
                const foreachPropertyName = vn;
                const forearchProperyValue = array[index];
                const forearchIndexName = ixn;

                this._setAttributeNodes(attrNodes);

                const clonedElement = this._element.cloneNode(true);
                const newElement = new PiElement(clonedElement, this._scope, cpoParent);
                newElement.extendForeachContext(this._foreachContext);
                newElement._autoBind = false;

                newElement.addForeachContext(foreachPropertyName, forearchProperyValue);
                if (forearchIndexName) {
                    newElement.addForeachContext(forearchIndexName, index);
                }
                newElement.load(cpoParent);

                const vtree = new _virtual_tree__WEBPACK_IMPORTED_MODULE_3__["default"](clonedElement.children, this._scope, cpoParent);
                vtree.hook('did:create:velement', (ve) => {
                    newElement._children.push(ve);
                    ve.extendForeachContext(newElement._foreachContext);
                });
                vtree.load();

                nodes.push(clonedElement);
                currentElements.push(newElement);
            })
            .end(() => {
                for (let i = 0; i < nodes.length; i++) {
                    const newNode = nodes[i];
                    refNode.parentNode.insertBefore(newNode, refNode);
                }

                nodes = [];
            }).
            run(array);

        const splice = function (array, index, deleteCount, ...items) {
            if (deleteCount > 0) {
                const length = index + deleteCount > currentElements.length ? currentElements.length : index + deleteCount;

                // destroy os elementos
                for (let i = index; i < length; i++) {
                    currentElements[i].destroy();
                }

                Array.prototype.splice.call(array, index, deleteCount);
                currentElements.splice(index, deleteCount);
            }

            if (items.length > 0) {
                Array.prototype.splice.call(array, index, 0, ...items);
                foreach.run(array, index);
            }

            return array;
        };

        if (_type__WEBPACK_IMPORTED_MODULE_8__["default"].isArray(array)) {

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'load', function (array, index = 0) {
                splice(this, index, 0, ...array);

                return this;
            });

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'add', function (item) {
                splice(this, this.length, 0, item);

                return this;
            });

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'clear', function () {
                splice(this, 0, this.length);

                return this;
            });

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'remove', function (index) {
                splice(this, index, 1);

                return this;
            });

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'reload', function () {
                for (let i = 0; i < this.length; i++) {
                    currentElements[i].destroy();
                }
                currentElements = [];

                foreach.run(this, 0);
            });
        }

        this._element.parentElement.dispatchEvent(new CustomEvent('fordone', {
            bubbles: true,
            cancelable: true,
            composed: false,
        }));

        this.destroy();

        return this;
    }

    setRenderDirective(directiva, propName, eventName, context) {
        const ctx = this._getContext();
        const variables = this._getDefaultVariables();

        const create = _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(directiva, variables, ctx);
        let fn;
        if (create.name == directiva) {
            fn = new create();
        } else if (create.call) {
            fn = create.call(context);
        } else {
            fn = create;
        }

        this._loadLoader();

        if (fn instanceof Promise) {
            fn.then((c) => {
                this.setComponent(c);
                c.render(this._element);
            });
        } else if (fn instanceof _promise__WEBPACK_IMPORTED_MODULE_10__["default"]) {
            fn.ok((c) => {
                this.setComponent(c);
                c.render(this._element);
            })
        } else {
            this.setComponent(fn);
            fn.render(this._element);
        }
    }

    _getValueFromDefaultVariables(name) {
        const { defaultNames, defaultValues } = this._getDefaultVariables();

        for (let i = 0; i < defaultNames.length; i++) {
            const vname = defaultNames[i];
            if (vname == name) {
                return defaultValues[i];
            }
        }

        return null;
    }

    _getDefaultVariables() {
        const self = this._element._component || this._element._componentParent;
        const elementValue = this._element.get ? this._element.get() : '';
        const variablesNames = ['$this', '$element', '$value'];
        const variablesValues = [self, this._element, elementValue];

        this._loadDefaultVariables();
        (0,_env__WEBPACK_IMPORTED_MODULE_7__.getClasses)().forEach(c => { variablesNames.push(c.name); variablesValues.push(c) });

        return [this._defaultVariablesNames.concat(variablesNames), this._defaultVariablesValues.concat(variablesValues)];
    }

    _addBindToElementContext(propertyName, eventName) {
        let isChangePropertyByEvent = false;

        const value = _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(this._scope, 'context.' + propertyName);
        this._element.set(value);

        this._addContextWatch(propertyName, () => {
            if (isChangePropertyByEvent) {
                return;
            }

            const value = _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(this._scope, 'context.' + propertyName);
            this._element.set(value);

            this._updateView();
        });

        if (eventName !== false) {
            this.listen(eventName, function () {
                isChangePropertyByEvent = true;
                _object__WEBPACK_IMPORTED_MODULE_0__["default"].setProperty(this._scope.context, propertyName, this.value);
                isChangePropertyByEvent = false;
            });
        } else {
            this.listen('change', function (e) {
                isChangePropertyByEvent = true;
                _object__WEBPACK_IMPORTED_MODULE_0__["default"].setProperty(this._scope.context, propertyName, e.detail);
                isChangePropertyByEvent = false;
            });
        }

        return this;
    }

    _getPiAttributeNodes(excepts = []) {
        const attrs = [];

        for (let i = 0; i < this._attrNames.length; i++) {
            const name = this._attrNames[i];
            const firstCharacter = name[0];

            if (excepts.indexOf(name) == -1 && (firstCharacter == ':' || firstCharacter == '#' || firstCharacter == '@')) {
                attrs.push(this._element.getAttributeNode(name));
            }
        }

        return attrs;
    }

    _setAttributeNodes(attrNodes = []) {
        for (let i = 0; i < attrNodes.length; i++) {
            const attrNode = attrNodes[i];
            if (attrNode == null) {
                continue;
            }
            this._element.setAttributeNode(attrNode);
        }

        return this;
    }

    setMountDirective(expression) {
        this._element.mount = (component) => {
            const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
            const ctx = this._getContext();
            const defaultVariables = this._getDefaultVariables();
            const stmt = ex.parse(ctx, defaultVariables);
            defaultVariables['$this'] = component;

            _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables('this.' + stmt, defaultVariables, ctx);
        };

        return this;
    }

    setDidMountDirective() {

    }

    setWillMountDirective() {

    }

    setForEndValueDirective(expression, propName, eventName, context) {
        if (eventName == 'value' || eventName == 'setValue') {
            this.listen(propName, function (e) {
                const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
                const ctx = this._getContext();
                const defaultVariables = this._getDefaultVariables();
                this.value = ex.parse(ctx, defaultVariables);
            });
            return;
        }
    }

    _loadDirectivesBase() {
        this.addDirective('for', this.setForDirective);
        this.addDirective('foreach', this.setForEachDirective);
        this.addDirective('loader', this.setLoaderDirective);
        this.addDirective('class', this.setClassDirective);
        this.addDirective('style', this.setStyleDirective);
        this.addDirective('init', this.setInitDirective);
        this.addDirective('bind', this.addBind);
        this.addDirective('on', this.addEventStatement);
        this.addDirective('value', this.setValueDirective);
        this.addDirective('selected', this.setSelectedDirective);
        this.addDirective('disabled', this.setDisabledDirective);
        this.addDirective('if', this.setConditionalDirective);
        this.addDirective('model', this.setModelDirective);
        this.addDirective('change', this.setChangeDirective);
        this.addDirective('src', this.setSrcDirective);
        this.addDirective('checked', this.setCheckedDirective);
        this.addDirective('mount', this.setMountDirective);
        this.addDirective('render', this.setRenderDirective);
        this.addDirective('forend', this.setForEndValueDirective);
        this.addDirective('fordone', this.setForEndValueDirective);
    }

    setLoaderDirective(directiva, propName, eventName, context) {
        const ctx = this._getContext();
        const variables = this._getDefaultVariables();

        const create = _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(directiva, variables, ctx);
        if (create.name == directiva) {
            const loader = new create();
            loader.render(this._element);
        } else if (create.call) {
            const loader = create.call(context);
            loader.render(this._element);
        } else {
            create.render(this._element);
        }

        this._hasLoader = true;
    }

    _loadLoader() {
        if (this._hasLoader == undefined) {
            const loader = _config__WEBPACK_IMPORTED_MODULE_9__["default"].get('html.loader');
            let html = loader;

            if (loader.constructor.name == 'Function') {
                html = loader();
            }

            this._element.innerHTML = html;
        }
    }

    _(context) {
        const contextPropertyNames = Object.keys(context);
        const contextPropertyValues = Object.values(context);

        for (let i = 0; i < contextPropertyValues.length; i++) {
            const value = contextPropertyValues[i];
            if (value instanceof Function) {
                contextPropertyValues[i] = value.bind(context);
            }
        }
    }

    _createExpression(value, node) {
        const exp = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](value);
        node._piex = exp;

        if (this._autoBind) {
            for (let i = 0; i < exp.variables.length; i++) {
                const variableName = exp.variables[i];
                this._addContextWatch(variableName, () => {
                    this._updateView();
                });
            }
        }
    }

    _loadTemplate() {
        if (this._destroyed) {
            return;
        }

        const nodes = this._element.childNodes;
        const xhtml = _config__WEBPACK_IMPORTED_MODULE_9__["default"].get('expression.xhtml');

        for (let i = 0; i < nodes.length; i++) {
            let node = nodes[i];
            let value = node.nodeValue;
            if (value && xhtml.test(value)) {
                const el = document.createElement('span');
                el.innerHTML = value;

                node.parentNode.insertBefore(el, node.nextSibling);

                this._element.removeChild(node);
                this._createExpression(value, el);

                i--;
                continue;
            }

            if (value && value.indexOf('{') > -1 && node instanceof Text) {
                this._createExpression(value, node);
            }
        }

        this._updateView();
    }

    _updateConditional(ex) {
        const ctx = this._getContext();
        const defaultVariables = this._getDefaultVariables();
        const value = _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(ex.parse(ctx, defaultVariables), defaultVariables, ctx);
        const nextElement = this._element.nextElementSibling;

        if (nextElement && nextElement.hasAttribute(':else')) {
            nextElement.__pielse = true;
            nextElement.removeAttribute(':else');
        }

        const hasElse = nextElement && nextElement.__pielse;

        if (value) {
            this.$.show();

            if (hasElse) {
                $(nextElement).hide();
            }
        } else {
            this.$.hide();

            if (hasElse) {
                $(nextElement).show();
            }
        }
    }

    _updateDisabled(ex) {
        const ctx = this._getContext();
        const value = ex.parse(ctx, this._getDefaultVariables());

        if (value == 'true' || value === true) {
            this._element.setAttribute('disabled', true);
        } else {
            this._element.removeAttribute('disabled');
        }
    }

    _updateView() {
        if (this._destroyed) {
            return;
        }

        const nodes = this._element.childNodes;
        for (let i = 0; i < nodes.length; i++) {
            const node = nodes[i];
            if (node._piex) {
                const text = node._piex.parse(this._getContext(), this._getDefaultVariables());
                if (node instanceof Text) {
                    node.nodeValue = text;
                } else {
                    node.innerHTML = text;
                }

            }
        }
    }

    _updateStyle() {
        if (this._destroyed) {
            return;
        }

        if (this._expressionStyle) {
            const styleInline = this._expressionStyle.parse(this._getContext(), this._getDefaultVariables());
            const styles = styleInline.split(';');

            for (let i = 0; i < styles.length; i++) {
                const style = styles[i].split(':');
                if (style.length != 2) {
                    continue;
                }

                const styleName = style[0].trim();
                const styleValue = style[1].trim();

                this.$.css(styleName, styleValue);
            }
        }
    }

    _updateClass() {
        if (this._destroyed) {
            return;
        }

        if (this._expressionClass) {
            const classList = this._expressionClass.parse(this._getContext(), this._getDefaultVariables()).trim();
            if (classList == this._element.className) {
                return
            }

            this._element.className = '';
            if (classList.length > 0) {
                this._element.classList.add(...classList.split(' ').filter(e => e !== ''));
            }
        }
    }

    _orderAttributeNames(){
        let i = this._attrNames.indexOf('foreach');
        if (i > -1) {
            this._attrNames.splice(i, 1);
            this._attrNames.unshift('foreach');
        }

        i = this._attrNames.indexOf('for');
        if (i > -1) {
            this._attrNames.splice(i, 1);
            this._attrNames.unshift('for');
        }
    }

    _runDirectives(wrapper) {
        if (this._destroyed) {
            return;
        }

        for (let i = 0; i < this._attrNames.length; i++) {
            const attrName = this._attrNames[i];
            const attrValue = this._element.getAttribute(attrName);
            const { propName, eventName } = this._extractPiAttributeNameAndProperty(attrName);

            if (this.existDirective(propName)) {
                this._element.removeAttribute(attrName);
                this._directives[propName].call(this, attrValue, propName, eventName, wrapper);
                continue;
            }

            if (propName == 'foreach') {
                return;
            }

            if (propName == 'for') {
                return;
            }

            if (attrName.indexOf('#') == 0) {
                const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](attrValue);
                const value = ex.parse(this._getContext(), this._getDefaultVariables());
                if (value) {
                    this._element.setAttribute(attrName.substr(1), value);
                }

                this._element.removeAttribute(attrName);
                continue;
            }

            if (attrName.indexOf(':') == 0) {
                const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](attrValue);
                const ctx = this._getContext();
                const variables = ex.variables;
                let value = ex.parse(ctx, this._getDefaultVariables());

                if (value) {
                    this._element.setAttribute(attrName.substr(1), value);
                }

                this._element.removeAttribute(attrName);

                if (variables.length > 0) {
                    for (let i = 0; i < variables.length; i++) {
                        const variable = variables[i];
                        this._addContextWatch(variable, () => {
                            value = ex.parse(ctx, this._getDefaultVariables());

                            this._element.setAttribute(attrName.substr(1), value);
                        });
                    }
                }

                continue;
            }
        }
    }

    _extractPiAttributeNameAndProperty(attribute) {
        let propName = '';
        let eventName = false;

        if (attribute.indexOf('@') > -1) {
            propName = 'on';
            eventName = attribute.replace('@', '');

            const nameAndEvent = eventName.split(':');
            if (nameAndEvent.length > 1) {
                propName = nameAndEvent[0];
                eventName = nameAndEvent[1];
            }
        } else if (attribute.indexOf(':') > -1) {
            propName = attribute.replace(':', '');

            const nameAndEvent = propName.split('.');
            if (nameAndEvent.length > 1) {
                propName = nameAndEvent[0];
                eventName = nameAndEvent[1];
            }
        }

        return { propName, eventName };
    }

    _getContext() {
        return this._scope.context;
    }

    _clearContextWatch() {
        let ids = [];

        for (let i = 0; i < this._watchs.length; i++) {
            ids = ids.concat(this._watchs[i].ids);
        }

        _object__WEBPACK_IMPORTED_MODULE_0__["default"].off(this._scope, ids);
        this._watchs = [];
    }

    _addContextWatch(property, fn) {
        const ids = _object__WEBPACK_IMPORTED_MODULE_0__["default"].on(this._scope, 'context.' + property, fn)
        this._watchs = this._watchs.concat({
            property: property,
            ids: ids
        });

        return this;
    }

    _removeContextWatch(propertyName) {
        const arr = this._watchs;

        for (let i = 0; i < arr.length; i++) {
            if (arr[i].property == propertyName) {
                _object__WEBPACK_IMPORTED_MODULE_0__["default"].off(this._scope, arr[i].ids);
                break;
            }
        }

        return this;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/env.js":
/*!************************************!*\
  !*** ./node_modules/pyllar/env.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ $),
/* harmony export */   app: () => (/* binding */ app),
/* harmony export */   findClass: () => (/* binding */ findClass),
/* harmony export */   getClasses: () => (/* binding */ getClasses),
/* harmony export */   global: () => (/* binding */ global),
/* harmony export */   location: () => (/* binding */ location),
/* harmony export */   register: () => (/* binding */ register),
/* harmony export */   setLocation: () => (/* binding */ setLocation)
/* harmony export */ });
/***
 * Copyright Manoel Neco 2022, Todos os direitos reservados
 *
 * @autor: Manoel Neco
 * @create: 2012-present
 * @version: v11.2.6-beta
 */

const global = window;
const components = [];

function registerObject(name, obj) {
    obj.name = name;
    components.push(obj);
}

function register(name, obj) {
    if (name != null && name.constructor.name == 'String' && obj != null) {
        registerObject(name, obj);
        return;
    }

    for (let i = 0; i < arguments.length; i++) {
        let obj = arguments[i];
        const cName = obj.constructor.name;

        if (findClass(obj) == undefined) {
            if (cName == 'Function' || cName == 'Object') {
                obj = Object.freeze(obj);
            }

            components.push(obj);
        }
    }
}

function getClasses() {
    return components;
}

function findClass(cName) {
    return components.find(c => c.name == cName || (c.constructor && c.constructor.name == cName));
}

function app() {
    return global.app;
}

function location() {
    return global.location;
}

function setLocation(url) {
    global.location = url;
}

function $() {
    return global.$
}



/***/ }),

/***/ "./node_modules/pyllar/event.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/event.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiEvent)
/* harmony export */ });
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./random */ "./node_modules/pyllar/random.js");


/**
 * @class
 */
class PiEvent {
    #list = [];

    /**
     * Adiciona um evento para ser observado
     * 
     * @param {string} event - Nome do evento
     * @param {function} callback - Callback
     * @param {object} ctx - Contexto do callback
     * @param {boolean} once - Se o callback deverá ser chamado apenas uma vez
     * @returns {PiEvent}
     */
    listen(event, callback, ctx, once = false) {
        const uuid = _random__WEBPACK_IMPORTED_MODULE_0__["default"].uuid('xxx-xx');
        callback.id = uuid;

        this.#list.push({ uuid: uuid, event: event, cb: callback, ctx: ctx, once: once });

        return uuid;
    }

    /**
     * Deixa de observar um evento
     * 
     * @param {string} event - Nome do evento
     * @param {function} cb - Callback
     * @returns {PiEvent}
     */
    unlisten(event, cb = '*') {
        for (let i = this.#list.length - 1; i >= 0; i--) {
            let item = this.#list[i];
            if (item.event == event) {
                if (cb === item.uuid) {
                    this.#list.splice(i, 1);
                    break;
                }

                if (cb == '*' || cb.id == item.cb.id) {
                    this.#list.splice(i, 1);
                    i--;
                }
            }
        }

        return this;
    }

    /**
     * Adiciona um evento para ser observado apenas uma vez
     * 
     * @param {string} event - Nome do evento
     * @param {function} callback - Callback
     * @param {object} ctx - Contexto do callback
     * @returns {PiEvent}
     */
    once(event, callback, ctx) {
        return this.listen(event, callback, ctx, true);
    }

    /**
     * Dispara os callback associados ao evento
     * 
     * @param {string} event - Nome do evento
     * @param  {...any} args - Parametros enviados ao callback do evento
     * @returns {PiEvent}
     */
    trigger(event, ...args) {
        let eventsOnce = [];

        for (let i = 0; i < this.#list.length; i++) {
            if (this.#list[i].event == event) {
                let item = this.#list[i];
                item.cb.apply(item.ctx, args);

                if (item.once) {
                    eventsOnce.push(item);
                }
            }
        }

        for (let i = eventsOnce.length - 1; i >= 0; i--) {
            this.unlisten(eventsOnce[i].event, eventsOnce[i].cb);
        }

        return this;
    }

    /**
     * Verifica se foi adicionado um evento
     * 
     * @param {string} event - Nome do evento
     * @returns {boolean}
     */
    exist(event) {
        for (let i = this.#list.length - 1; i >= 0; i--) {
            if (this.#list[i].event == event) return true;
        }

        return false;
    }

    reseed(name, event) {
        if (name instanceof PiEvent) {
            this._reseedAll(event);
            return this;
        }

        this.listen(name, function() {
            event.trigger.call(event, name, ...arguments);
        });

        return this;
    };

    _reseedAll(event){
        for (let i = this.#list.length - 1; i >= 0; i--) {
            const eventName = this.#list[i].event;
            this.reseed(eventName, event);
        }
    }

    /**
     * Remove todos os eventos
     * 
     * @returns {PiEvent}
     */
    clear() {
        this.#list = [];

        return this;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/expression.js":
/*!*******************************************!*\
  !*** ./node_modules/pyllar/expression.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiExpression)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _statement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./statement */ "./node_modules/pyllar/statement.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helpers */ "./node_modules/pyllar/helpers.js");






const hps = _helpers__WEBPACK_IMPORTED_MODULE_4__.helpers;

/**
 * @class
 */
class PiExpression {

    /**
     * 
     * @param {string} template - Template base
     */
    constructor(template) {
        this._template = template;

        this._rxExpression = _config__WEBPACK_IMPORTED_MODULE_0__["default"].get('expression.xlanguage');
        this._rxVariable = _config__WEBPACK_IMPORTED_MODULE_0__["default"].get('expression.xvariable');

        this._load();
    }

    setDelimiters(pattern){
        this._rxExpression = pattern;

        return this;
    }

    /**
     * Retorna todas as expressões encontradas no template base
     * 
     * @returns {array}
     */
    get all() {
        const expressions = [];

        for (let i = 0; i < this._expressions.length; i++) {
            expressions.push(this._clear(this._expressions[i].value));
        }

        return expressions;
    }

    /**
     * Retorna todas as variáveis encontradas dentro das expressões
     * 
     * @returns {array}
     */
    get variables() {
        if (this._variables == undefined) {
            this._variables = this._extractAllVariables();
        }

        return this._variables;
    }

    /**
     * Retorna resultado do template parseado com o contexto informado
     * 
     * @param {object} context 
     * @returns {string}
     */
    parse(context, variables = [[], []]) {
        let expressions = this._expressions;
        let phrase = this._phrase;

        const contextPropertyNames = Object.keys(context);
        const contextPropertyValues = Object.values(context);

        for (let i = 0; i < contextPropertyValues.length; i++) {
            const value = contextPropertyValues[i];
            if (value instanceof Function) {
                contextPropertyValues[i] = value.bind(context);
            }
        }

        variables[0] = contextPropertyNames.concat(variables[0]);
        variables[1] = contextPropertyValues.concat(variables[1]);

        for (let i = 0; i < hps.all.length; i++) {
            const hook = hps.all[i];

            variables[0].push(hook[0]);
            variables[1].push(hook[1]);
        }

        for (let i = 0; i < expressions.length; i++) {
            const expression = expressions[i];
            const stmt = this._clear(expression.value);

            let value = _statement__WEBPACK_IMPORTED_MODULE_1__["default"].execWithVariables(stmt, variables, context);

            if (_type__WEBPACK_IMPORTED_MODULE_2__["default"].isNumber(value) && value == 0) {
                value = '0';
            } else if (_type__WEBPACK_IMPORTED_MODULE_2__["default"].isObject(value)) {
                value = JSON.stringify(value);
            }

            phrase = phrase.replace(expression.key, _type__WEBPACK_IMPORTED_MODULE_2__["default"].isBoolean(value) ? value : value || '');
        }

        return phrase;
    }

    _load() {
        var { phrase, expressions } = this._extractPhraseAndExpressions();
        this._phrase = phrase;
        this._expressions = expressions;
    }

    _clear(expression) {
        expression = expression.replace(this._rxExpression, function (_, dbegin, body, dend) {
            return body;
        });

        expression = expression.replace(this._rxVariable, function (_, dbegin, body, dend) {
            return body;
        });

        return expression.trim();
    }

    _extractPhraseAndExpressions() {
        var expressions = [];
        var counter = 1;
        var phrase = this._template.replace(this._rxExpression, function (expressionFounded) {
            const variable = `_$${counter++}_`;

            expressions.push({
                value: expressionFounded,
                key: variable
            });

            return variable;
        });

        return { phrase, expressions };
    }

    _extractAllVariables() {
        var variables = this._template.match(this._rxVariable) || [];

        for (let i = 0; i < variables.length; i++) {
            const v = variables[i];
            variables[i] = v.substr(1);
        }

        return variables;
    }

    _extractVariables(expression) {
        var variables = expression.match(this._rxVariable) || [];

        for (let i = 0; i < variables.length; i++) {
            const v = variables[i];
            variables[i] = v.substr(1);
        }

        return variables;
    }

    _extractVariablesValues(variableNames, context) {
        const variables = [];

        for (let i = 0; i < variableNames.length; i++) {
            const name = variableNames[i];

            variables.push(_object__WEBPACK_IMPORTED_MODULE_3__["default"].extractValue(context, name));
        }

        return variables;
    }

}

/***/ }),

/***/ "./node_modules/pyllar/for_directive.js":
/*!**********************************************!*\
  !*** ./node_modules/pyllar/for_directive.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiForDirective)
/* harmony export */ });
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");


const stmtRange1 = /^(\w+)\s+in\s+range\(\s*(-?\d+)\s*\)$/gi;
const stmtRange2 = /^(\w+)\s+in\s+range\(\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/gi;
const stmtRange3 = /^(\w+)\s+in\s+range\(\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/gi;
const stmtLiteral = /^(\w+)\s+in\s+([0-9]+)$/gi;
const stmtProperty = /^(\w+)\s+in\s+(\w+)$/gi;

class PiForDirective {
    constructor(stmt) {
        this._stmt = stmt;

        this._iterableCount = null;
        this._iterableProperty = null;
        this._iterableStart = 0;
        this._iterableStep = 1;
        this._indexName = null;
        this._loop = null;
        this._end = null;

        this._load();
    }

    get objectInterableName() {
        return this._iterableProperty;
    }

    loop(fn) {
        this._loop = fn;

        return this;
    }

    end(fn) {
        this._end = fn;

        return this;
    }

    run(count = null) {
        let length = 0;

        if (count != null) {
            length = count;
        } else if (this._iterableCount) {
            length = this._iterableCount;
        }

        if (this._iterableStep < 0) {
            for (let i = this._iterableCount - this._iterableStart; i >= 0; i += this._iterableStep) {
                this._loop(this._indexName, i);
            }
        } else {
            for (let i = this._iterableStart; i < length; i += this._iterableStep) {
                this._loop(this._indexName, i);
            }
        }

        this._end();

        return this;
    }

    _loadNumber(n) {
        const number = parseInt(n);
        const isNumber = _type__WEBPACK_IMPORTED_MODULE_0__["default"].isNumber(number);

        if (isNumber) {
            this._iterableCount = number;
            this._iterableProperty = null;
        } else {
            this._iterableCount = null;
            this._iterableProperty = n;
        }
    }

    _load() {
        if (stmtRange1.test(this._stmt)) {
            this._loadForRange1();
        } else if (stmtRange2.test(this._stmt)) {
            this._loadForRange2();
        } else if (stmtRange3.test(this._stmt)) {
            this._loadForRange3();
        } else if (stmtLiteral.test(this._stmt)) {
            this._loadForLiteral();
        } else if (stmtProperty.test(this._stmt)) {
            this._loadForProperty();
        } else {
            throw `PiForDirective: Statement inválida para laço for = ${this._stmt}. Padrão esperado: (variável in literal) ou (variável in range(total[, inicio[, passo]]))`;
        }
    }

    _loadForRange1() {
        this._stmt.replace(stmtRange1, (stmt, indexName, propertyName) => {
            this._loadNumber(propertyName);
            this._indexName = indexName;

            return stmt;
        });
    }

    _loadForRange2() {
        this._stmt.replace(stmtRange2, (stmt, indexName, propertyName, start) => {
            this._loadNumber(propertyName);
            this._indexName = indexName;
            this._iterableStart = parseInt(start);

            return stmt;
        });
    }

    _loadForRange3() {
        this._stmt.replace(stmtRange3, (stmt, indexName, propertyName, start, step) => {
            this._loadNumber(propertyName);
            this._indexName = indexName;
            this._iterableStart = parseInt(start);
            this._iterableStep = parseInt(step);

            return stmt;
        });
    }

    _loadForProperty() {
        this._stmt.replace(stmtProperty, (stmt, indexName, propertyName) => {
            this._loadNumber(propertyName);
            this._indexName = indexName;

            return stmt;
        });
    }

    _loadForLiteral() {
        this._stmt.replace(stmtLiteral, (stmt, indexName, propertyName) => {
            this._iterableCount = parseInt(propertyName);
            this._indexName = indexName;

            return stmt;
        });
    }
};

/***/ }),

/***/ "./node_modules/pyllar/foreach_directive.js":
/*!**************************************************!*\
  !*** ./node_modules/pyllar/foreach_directive.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiForEachDirective)
/* harmony export */ });
/* harmony import */ var _function__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./function */ "./node_modules/pyllar/function.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");



const stmtForearchWithIndex = /^\((\w+)\s*,\s*(\w+)\)\s+in\s+(\w+(\.\w+)*)$/gi;

class PiForEachDirective {
    constructor(stmt, context = {}, fn = _function__WEBPACK_IMPORTED_MODULE_0__["default"].noop) {
        this._stmt = stmt;
        this._context = context;
        this._fn = fn;
        this._end = _function__WEBPACK_IMPORTED_MODULE_0__["default"].noop;

        this._load();
    }

    get variableInterableName() {
        return this._variableInterableName;
    }

    get objectInterableName() {
        return this._objectInterableName;
    }

    loop(fn) {
        this._fn = fn;

        return this;
    }

    run(array = null, indexBegin = 0, indexEnd = -1, step = 1) {
        const objectInterable = array || _object__WEBPACK_IMPORTED_MODULE_1__["default"].extractValue(this._context, this._objectInterableName);

        if (objectInterable.constructor.name == 'Function' || objectInterable.constructor.name == 'Object') {
            const foreachFn = new Function('_this', 'obj', 'vn', 'ixn', 'fn', `for(const i in obj){fn(obj, i, vn, ixn);}`);
            foreachFn(this, objectInterable, this._variableInterableName, this._variableIndexName, this._fn)
            this._end();
            return this;
        }
        
        const foreachFn = new Function('_this', 'arr', 'indexBegin', 'indexEnd', 'step', 'vn', 'ixn', 'fn', `for(var i = indexBegin ; i < indexEnd ; i += step){fn(arr, i, vn, ixn);}`);
        if (indexEnd == -1) {
            indexEnd = objectInterable.length;
        }

        foreachFn(this, objectInterable, indexBegin, indexEnd, step, this._variableInterableName, this._variableIndexName, this._fn)
        this._end();

        return this;
    }

    end(fn) {
        this._end = fn;

        return this;
    }

    _load() {
        if (stmtForearchWithIndex.test(this._stmt)) {
            this._loadForeachIndexAndProperties();
        } else {
            this._loadForeachProperties();
        }

    }

    _loadForeachIndexAndProperties() {
        this._stmt.replace(stmtForearchWithIndex, (stmt, indexName, propertyName, interableName) => {
            this._variableInterableName = propertyName;
            this._objectInterableName = interableName;
            this._variableIndexName = indexName;

            return stmt;
        });
    }

    _loadForeachProperties() {
        const stmt = this._stmt;
        const tokens = stmt.trim().split(' ');

        if (tokens.length != 3) {
            throw `PiForEachDirective: Statement inválida para laço foreach = ${stmt}. Padrão esperado: [variável in iterável] ou [(index, variável) in iterável]`;
        }

        this._variableIndexName = null;
        this._variableInterableName = tokens[0];
        this._objectInterableName = tokens[2];
    }
};

/***/ }),

/***/ "./node_modules/pyllar/function.js":
/*!*****************************************!*\
  !*** ./node_modules/pyllar/function.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiFunction)
/* harmony export */ });
/**
 * @class
 */
class PiFunction {
    /**
     * Função vazia
     */
    static noop() { }
};

/***/ }),

/***/ "./node_modules/pyllar/helpers.js":
/*!****************************************!*\
  !*** ./node_modules/pyllar/helpers.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   debounce: () => (/* binding */ debounce),
/* harmony export */   helpers: () => (/* binding */ helpers),
/* harmony export */   timeout: () => (/* binding */ timeout),
/* harmony export */   timeoutSec: () => (/* binding */ timeoutSec)
/* harmony export */ });
/* harmony import */ var _translate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./translate */ "./node_modules/pyllar/translate.js");


function timeout(time, fn, ctx) {
    setTimeout(() => {
        fn.call(ctx);
    }, time);
}

function timeoutSec(time, fn, ctx) {
    timeout(time * 1000, fn, ctx);
}

function debounce(time) {
    return function (fn, ctx) {
        timeout(time, fn, ctx);
    }
}

const helpers = {
    _all: [],

    register(name, fn) {
        this._all.push([name, fn]);
    },

    get all() {
        return this._all;
    }
};

helpers.register('_', function () {
    return _translate__WEBPACK_IMPORTED_MODULE_0__["default"].get.apply(_translate__WEBPACK_IMPORTED_MODULE_0__["default"], arguments);
});



/***/ }),

/***/ "./node_modules/pyllar/initialize.js":
/*!*******************************************!*\
  !*** ./node_modules/pyllar/initialize.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");


/**
 * @class
 */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new class PiInitialize {
    #readyFn = [];
    #bootFn = [];
    #bootInit = [];
    #bootStart = [];
    #isLoaded = false;

    /**
     * 
     * @param {function} fn - Função que será executada no inicio do boot
     * 
     * @returns {PiInitialize}
     */
    boot(fn) {
        this.#bootFn.unshift(fn);

        return this;
    }

    /**
     * Função executada apos o boot
     * 
     * @param {function} fn - Callback
     * @returns {PiInitialize}
     */
    init(fn) {
        this.#bootInit.unshift(fn);

        return this;
    }

    /**
     * Função executada após a inicialização
     * @param {function} fn - Callback
     * @returns {PiInitialize}
     */
    start(fn) {
        this.#bootStart.unshift(fn);

        return this;
    }

    /**
     * Executa a sequencia de incialização: boot -> callback -> ready
     * 
     * @returns {Promise}
     */
    load() {
        return new Promise((ok) => {
            _env__WEBPACK_IMPORTED_MODULE_0__.global.$(() => {
                this.#dispatch(this.#bootFn);
                this.#dispatch(this.#bootInit);
                this.#dispatch(this.#bootStart);
                this.#dispatch(this.#readyFn);

                this.#isLoaded = true;
                console.log(';)')
                ok();
            });
        });
    }

    /**
     * Função executada após todo processo de inicialização
     * 
     * @param {function} fn - Função que será executada depois que o sistema estiver inicializado
     * @returns {Promise}
     */
    ready() {
        return new Promise((ok, err) => {
            if (this.#isLoaded) {
                ok();
                return;
            }

            this.#readyFn.unshift(ok);
        });
    }

    #dispatch(arr) {
        for (let i = 0; i < arr.length; i++) {
            arr[i]();
        }
    }
});

/***/ }),

/***/ "./node_modules/pyllar/model.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/model.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiModel)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action */ "./node_modules/pyllar/action.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./component */ "./node_modules/pyllar/component.js");
/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./string */ "./node_modules/pyllar/string.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./url */ "./node_modules/pyllar/url.js");
/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app */ "./node_modules/pyllar/app.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");











/**
 * @class
 */
class PiModel {
    #parameters = null;
    #actionList = [];
    #validatorList = [];
    #baseUrl = '';

    constructor(...args) {
        this.#actionList = [];
        this.#validatorList = [];
        this.#baseUrl = '';

        if (_type__WEBPACK_IMPORTED_MODULE_9__["default"].isObject(args[0])) {
            _object__WEBPACK_IMPORTED_MODULE_3__["default"].extendAndCall(this, args[0]);
        }

        this.#parameters = args[0] == undefined ? {} : args[0];

        this.init(...args);
    }

    getBaseUrl() {
        return this.#baseUrl;
    }

    /**
     * Injeta as propriedades do objeto
     * 
     * @param {json} json - Objeto a ser injetado no objeto atual
     * @returns {this}
     */
    _inject(json) {
        for (var property in json) {
            this[property] = json[property];
        }

        return this;
    }

    /**
     * Clona o objeto atual
     * 
     * @returns {this}
     */
    clone() {
        this.cloneWillLoad();
        let json = this.toJson();
        let clone = new this.constructor(json);
        this.cloneDidLoad(clone);

        return clone;
    }

    cloneDidLoad() {

    }

    cloneWillLoad() {

    }

    /**
     * Cria uma nova instancia da classe
     * 
     * @param  {...any} args 
     * @returns {this}
     */
    static create(...args) {
        return new this(...args);
    }

    create(...args) {
        return new this.constructor(...args);
    }

    toJson() {
        this.jsonWillConvert();
        let json = JSON.parse(JSON.stringify(this));
        this.jsonDidConvert(json);

        return json;
    }

    jsonDidConvert(json) {

    }

    jsonWillConvert() {

    }

    instances() {

    }

    /**
     * Initializa as rotas
     * 
     * @param {string} url - Url base utilizada pelas actions para as requests
     */
    init(url) {
        this._loadActions();
        this._loadValidations();

        this._configUrl(url || this.#parameters.url || '');
    }

    /**
     * Injeta o json dentro da model
     * 
     * @param {object} json - Json a ser injetado no modelo
     * @returns {PiModel}
     */
    initWithJson(json) {
        this._inject(json);

        return this;
    }

    /**
     * Adiciona uma action
     * 
     * @param {string} name - Nome da rota
     * @param {string} stmt - Rota no formato: METHOD:/route?querystring
     * @returns {PiModel}
     */
    addAction(name, stmt) {
        const action = new _action__WEBPACK_IMPORTED_MODULE_2__["default"]({
            actionName: name,
            actionStmt: stmt,
            model: this
        });

        this.#actionList[name] = action;

        return this;
    }

    /**
     * Adiciona uma regra de validação para uma propriedade da model
     * 
     * @param {string} name - Propriedade da model
     * @param {PiValidator} rule - Classe que implementa a regra de validação
     * @returns {PiModel}
     */
    addValidator(name, rule) {
        this.#validatorList[name] = rule;

        return this;
    }

    /**
     * Retorna um objeto literal contendo todas as regras de validação
     * 
     * @returns {object}
     */
    validators() {
        return {};
    }

    /**
     * Retorna um objeto literal contendo todas as actions
     * 
     * @returns {object}
     */
    actions() {
        return {};
    }

    /**
     * Define um valor para uma propriedade.
     * Este método dispara a execução da validação 
     * de propriedade antes de inserir o valor
     * 
     * @param {string} key - Nome da propriedade
     * @param {object} value - Valor da propriedade
     * @returns {PiModel}
     */
    setProperty(key, value, type) {
        const names = key.split('.');
        let isComposed = names.length > 1,
            rule = this.#validatorList[key];

        switch (type) {
            case 'int':
                value = parseInt(value);
                if(isNaN(value)) {
                    value = 0;
                }
                break;
        }
        
        if (isComposed) {
            let last = names[names.length - 1],
                property = _object__WEBPACK_IMPORTED_MODULE_3__["default"].extractPropertyContext(this, key);

            if (property instanceof PiModel) {
                property.setProperty(last, value);
            } else {
                if (property[last] instanceof Function) {
                    property[last](value);
                } else {
                    property[last] = value;
                }
            }

        } else {
            if (rule == undefined) {
                if (this[key] instanceof Function) {
                    this[key](value);
                } else {
                    this[key] = value;
                }
            } else {
                rule.load(this, key, value);

                if (rule.isValid()) {
                    this[key] = value;
                } else {
                    throw rule.label;
                }
            }
        }

        return this;
    }

    /**
     * Insere a model caso id seja zero ou atualiza a model 
     * caso o valor do id seja maior que zero
     * 
     * @returns {PiPromise}
     */
    save() {
        if (this.id == undefined) return this.insert()
        else if (this.id == 0) return this.insert();
        else return this.update();
    }

    /**
     * Retorna uma action pelo nome
     * 
     * @param {string} name - Nome da action
     * @returns {PiAction}
     */
    getAction(name) {
        return this.#actionList[name];
    }

    /**
     * Tentar injetar os data-models do component na model caso o parametro seja um PiComponent.
     * Retorna em um array string com todos os erros encontrados.
     * Se o parametro for um json ele ira injetar as propriedades na model.
     * 
     * @param {PiComponent} component
     * @param {object} options 
     * @returns {array}
     */
    inject(component, options = {}) {
        if (component instanceof _component__WEBPACK_IMPORTED_MODULE_4__["default"] || component instanceof _app__WEBPACK_IMPORTED_MODULE_8__["default"]) {
            let names = _string__WEBPACK_IMPORTED_MODULE_5__["default"].clips(component.element.innerHTML, 'data-model="', '"'),
                isComponent = false,
                errors = [];

            options = _object__WEBPACK_IMPORTED_MODULE_3__["default"].extend({}, {
                invalidInputClass: 'invalid-feedback'
            }, options);

            for (let i = 0; i < names.length; i++) {
                let property = names[i],
                    element = component.element.querySelector('[data-model="' + property + '"]'),
                    value = undefined,
                    parent = element.parentNode;

                if (element.firstChild && element.firstChild._hasComponent) {
                    value = element.firstChild._component.get();
                    isComponent = true;
                } else if (element._hasComponent) {
                    value = element._component.get();
                    isComponent = true;
                } else {
                    isComponent = false;
                    value = element.get();
                }

                var nextElement = element.nextElementSibling;
                var elementMessage = null;
                if (nextElement && nextElement.hasAttribute('validation-message')) {
                    elementMessage = nextElement;
                } else {
                    elementMessage = document.createElement('div');
                    elementMessage.setAttribute('validation-message', '');
                    parent.insertBefore(elementMessage, element.nextSibling);
                }

                if (element.setCustomValidity) {
                    element.setCustomValidity('');
                }

                elementMessage.style.display = 'none';
                elementMessage.innerHTML = '';
                elementMessage.classList.remove(options.invalidInputClass);
                parent.classList.remove('was-validated');

                try {
                    this.setProperty(property, value, element.getAttribute('data-type'));
                } catch (msg) {
                    elementMessage.innerHTML = msg;
                    elementMessage.classList.add(options.invalidInputClass);
                    elementMessage.style.display = 'block';

                    if (element.setCustomValidity) {
                        element.setCustomValidity(msg);
                    }

                    if (!isComponent) {
                        parent.classList.add('was-validated');
                    }

                    errors.push(msg);
                }
            }

            return errors;
        } else {
            if (component instanceof PiModel) {
                this._inject(component.toJson());
            } else {
                this._inject(component);
            }
        }

        return [];
    }

    requestWillGet(json) {

    }

    jsonDidConvert(json) {

    }

    requestDidGet(json) {

    }

    requestWillPost(json) {

    }

    requestDidPost(json) {

    }

    responseSuccessWillLoad(action, url, data) {
        this.responseSuccess.apply(this, arguments);
    }

    responseSuccess(action, url, ...args) {
        action.processSuccessResponse.apply(action, args);
        this.responseSuccessDidLoad.apply(this, arguments);
    }

    responseSuccessDidLoad() {

    }

    responseErrorWillLoad(action, url, data) {
        this.responseError.apply(this, arguments);
    }

    responseError(action, url, ...args) {
        action.processErrorResponse.apply(action, args);
        this.responseErrorDidLoad.apply(this, arguments);
    }

    responseErrorDidLoad() {

    }

    _loadActions() {
        const userActions = this.actions();
        const defaultActions = {
            'add': 'POST:/',
            'insert': 'POST:/',
            'update': 'PUT:/:id',
            'remove': 'REMOVE:/:id',
            'get': 'GET:/:id',
            'find': 'GET:/find/:id',
            'all': 'GET:/'
        };
        const actions = _object__WEBPACK_IMPORTED_MODULE_3__["default"].extend({}, defaultActions, userActions);

        for (let name in actions) {
            this.addAction(name, actions[name]);
        }
    }

    _configUrl(url) {
        const modelUrl = _config__WEBPACK_IMPORTED_MODULE_6__["default"].get('model.url');

        if (modelUrl == undefined) {
            this.setBaseUrl(url);
        } else {
            this.setBaseUrl(modelUrl + url);
        }
    }

    setBaseUrl(url) {
        if (url == undefined) {
            this.#baseUrl = _url__WEBPACK_IMPORTED_MODULE_7__["default"].create('localhost').href();
        } else {
            this.#baseUrl = url;
        }

        return this;
    }

    _loadValidations() {
        const validators = this.validators();
        for (var v in validators) {
            this.addValidator(v, validators[v]);
        }
    }

    static register(model) {
        (0,_env__WEBPACK_IMPORTED_MODULE_0__.register)(model)
    }
};

/***/ }),

/***/ "./node_modules/pyllar/native_element.js":
/*!***********************************************!*\
  !*** ./node_modules/pyllar/native_element.js ***!
  \***********************************************/
/***/ (() => {

HTMLElement.prototype.get = function () {
    if (this instanceof HTMLImageElement) {
        return this.getAttribute('src');
    }

    if (this instanceof HTMLLinkElement) {
        return this.getAttribute('href');
    }

    if (this instanceof HTMLInputElement && this.type == 'checkbox') {
        return this.checked;
    }

    if (this instanceof HTMLInputElement && this.type == 'radio') {
        return this.checked;
    }

    return this.value;
};

HTMLPreElement.prototype.get = function () {
    return this.innerHTML;
};

HTMLPreElement.prototype.set = function (v) {
    this.innerHTML = v;
};

HTMLElement.prototype.set = function (v) {
    if (this instanceof HTMLImageElement) {
        this.setAttribute('src', v);
        return;
    }

    if (this instanceof HTMLLinkElement) {
        this.setAttribute('href', v);
        return;
    }

    if (this instanceof HTMLInputElement && this.type == 'checkbox') {
        this.checked = v;
        return;
    }

    if (this instanceof HTMLInputElement && this.type == 'radio') {
        this.checked = v;
        return;
    }

    this.value = v;
};

/***/ }),

/***/ "./node_modules/pyllar/object.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/object.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiObject)
/* harmony export */ });
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./random */ "./node_modules/pyllar/random.js");
/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./string */ "./node_modules/pyllar/string.js");



/**
 * @class
 * @name PiObject
 */
class PiObject {

    /**
     * Adiciona e chama todas as propriedades com nome de função dos argumentos no primeiro parametro
     * 
     * @returns {object}
     */
    static extendAndCall = function () {
        let dst = arguments[0];

        for (let i = arguments.length - 1; i > 0; i--) {
            let obj = arguments[i];

            for (let p in obj) {
                if (typeof dst[p] == 'function') {
                    dst[p](obj[p]);
                } else {
                    dst[p] = obj[p];
                }
            }
        }

        return dst;
    }

    /**
     * Extrai o contexto onde propriedade existe
     * 
     * @param {object} obj - objeto
     * @param {string} property - path da propriedade
     * @returns {object}
     */
    static extractPropertyContext = function (obj, property) {
        let p = property.split('.');

        if (p.length > 1) {
            for (let i = 0; i < p.length - 1; i++) {
                let m = p[i];
                if (obj[m] == undefined) obj[m] = {};
                obj = obj[m];
            }
        }

        return obj;
    }

    /**
     * Chama uma função de callback sempre que a propriedade do objeto for alterada
     * 
     * @param {object} obj - Objeto base
     * @param {string} property - Nome da propriedade a ser monitorada
     * @param {function} callback - Callback executado sempre a a propriedade é alterada
     * @param {boolean} [deep = true] deep - Define se as propriedades acima tambem serão observadas
     */
    static on = function (obj, property, callback, deep = true) {
        let currentValue = PiObject.extractValue(obj, property);
        let path = property.split('.');

        if (obj.__onSetList == undefined) {
            obj.__onSetList = [];
            obj.__onSetFn = [];
        }

        if (obj.__onSetFn[property] == undefined) {
            obj.__onSetFn[property] = [];
        }

        const exist = obj.__onSetList.find(p => p == property) !== undefined;
        if (!exist) {
            const _obj = PiObject.extractPropertyContext(obj, property);
            const _property = _string__WEBPACK_IMPORTED_MODULE_1__["default"].last(property, '.');

            if (!(_property == 'length' && PiType.isArray(_obj))) {
                Object.defineProperty(_obj, _property, {
                    set: function (value) {
                        currentValue = value;

                        const arrFn = obj.__onSetFn[property];
                        for (let i = 0; i < arrFn.length; i++) {
                            arrFn[i].cb(value, property);
                        }

                        return value;
                    },

                    get: function () {
                        return currentValue;
                    }
                });

                obj.__onSetList.push(property);
            }
        }

        const id = _random__WEBPACK_IMPORTED_MODULE_0__["default"].uuid('xxx-xxx');
        let ids = [id];
        obj.__onSetFn[property].push({
            id: id,
            cb: callback
        });

        if (deep && path.length > 1) {
            path.pop();
            const _ids = PiObject.on(obj, path.join('.'), callback);
            ids = ids.concat(_ids);
        }

        return ids;
    }

    static off = function (obj, ids) {
        if (obj.__onSetFn == undefined) {
            return;
        }

        for (const property in obj.__onSetFn) {
            const arr = obj.__onSetFn[property];
            for (let i = 0; i < arr.length; i++) {
                const item = arr[i];
                if (ids.find(e => e == item.id)) {
                    i--;
                    arr.splice(i, 1);
                }
            }
        }
    }

    /**
     * Extrai o valor de uma propriedade
     * 
     * @param {object} obj - objeto
     * @param {string} property - path da propriedade
     * @returns {object}
     */
    static extractValue = function (obj, property) {
        const p = property.split('.');

        if (p.length > 1) {
            for (let i = 0; i < p.length; i++) {
                obj = obj[p[i]]
                if (obj == undefined) break;
            }

            return obj;
        } else {
            return obj[property];
        }
    }

    /**
     * Atribui um valor a uma propriedade
     * 
     * @param {object} obj - objeto
     * @param {string} property - path da propridade
     * @param {object} value - valor a ser inserido na propriedade
     */
    static setProperty = function (obj, property, value) {
        const p = property.split('.');

        if (p.length > 1) {
            const lastProperty = p[p.length - 1];
            for (let i = 0; i < p.length - 1; i++) {
                obj = obj[p[i]]
                if (obj == undefined) break;
            }

            obj[lastProperty] = value;
        } else {
            obj[property] = value;
        }
    }

    /**
     * Adiciona todas as propriedades e metodos de todos os parametros no primeiro
     * 
     * @method PiObject.extend
     * @param {arguments} arg
     * @return {object}
     */
    static extend = function () {
        for (let i = 1; i < arguments.length; i++) {
            let obj = arguments[i];
            for (let v in obj) {
                arguments[0][v] = obj[v];
            }
        }

        return arguments[0];
    }
};

/***/ }),

/***/ "./node_modules/pyllar/promise.js":
/*!****************************************!*\
  !*** ./node_modules/pyllar/promise.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiPromise)
/* harmony export */ });
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");



/**
 * @class
 */
class PiPromise extends _class__WEBPACK_IMPORTED_MODULE_0__["default"] {
    #isOnce = false;
    #promise = this.newPromise();

    instances() {
        this.clear();
    }

    /**
     * Espera até que todas as promises informadas por parametro
     * sejam resolvidas. Chama o callback de ok caso haja sucesso
     * em todos os retornos. Caso haja um erro retorna o callback de error
     * 
     * @returns {PiPromise}
     */
    static wait(promises = null) {
        var promise = new PiPromise();
        var count = 0;
        var success = true;
        var arr = promises || arguments;

        for (let i = 0; i < arr.length; i++) {
            arr[i].finally(() => {
                count++;
                if (count == arr.length) {
                    success ? promise.resolve() : promise.reject();
                }
            }).catch(() => {
                success = false;
            });
        }

        return promise;
    }

    /**
     * Retorna uma promise nativa associada a instancia
     * 
     * @returns Promise
     */
    get() {
        return this.#promise;
    }

    /**
     * Cria uma promise nativa associada a instancia
     * 
     * @returns Promise
     */
    newPromise() {
        return new Promise((resolve, reject) => {
            this.ok(resolve);
            this.error(reject);
        });
    }

    /**
     * Resolve a promise
     * 
     * @returns {PiPromise}
     */
    resolve() {
        this._argOk = arguments;

        this._callOk();
        this._callOnce();
        this._callDone();

        if (this.#isOnce) {
            this.reset();
        }

        return this;
    }

    /***
     * Vincula uma promise à promise atual
     * 
     * @returns {PiPromise}
     */
    link(promise) {
        const self = this;

        promise.ok(function () {
            self.resolve.apply(self, arguments);
        });

        promise.error(function () {
            self.reject.apply(self, arguments);
        });

        return this;
    }

    /**
     * Rejeita a promise
     * 
     * @returns {PiPromise}
     */
    reject() {
        this._argErr = arguments;

        this._callErr();
        this._callDone();

        if (this.#isOnce) {
            this.reset();
        }

        return this;
    }

    /**
     * Adiciona callback disparado quando a promise for resolvida
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    ok(cb, context) {
        this._cbOk.push({ cb: cb, context: context });

        if (this._isOk) {
            this._callOk();
        }

        return this;
    }

    /**
     * Alias para método ok
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    then() {
        return this.ok.apply(this, arguments);
    }

    /**
     * Adiciona callback disparado apenas uma vez quando a promise for resolvida
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    once(cb, context) {
        this._cbOnce.push({ cb: cb, context: context });

        if (this._isOk) {
            this._callOnce();
        }

        return this;
    }

    /**
     * Adiciona callback disparado quando a promise for rejeitada
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    error(cb, context) {
        this._cbErr.push({ cb: cb, context: context });

        if (this._isErr) {
            this._callErr();
        }

        return this;
    }

    /***
     * Alias para método error
     */
    catch() {
        return this.error.apply(this, arguments);
    }

    /**
     * Adiciona callback disparado sempre que a promise é resolvida ou rejeitada
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    done(cb, context) {
        this._cbDone.push({ cb: cb, context: context });

        if (this._isDone) {
            this._callDone();
        }

        return this;
    }

    /**
     * Alias para método done
     */
    finally() {
        return this.done.apply(this, arguments);
    }

    /**
     * Limpa todos os callbacks
     * 
     * @returns {PiPromise}
     */
    reset() {
        this._cbOk = [];
        this._cbErr = [];
        this._cbDone = [];

        return this;
    }

    /**
     * Reseta todos os valores
     * 
     * @returns {PiPromise}
     */
    clear() {
        this._cbOk = [];
        this._cbErr = [];
        this._cbDone = [];
        this._cbOnce = [];

        this._isOk = false;
        this._isErr = false;
        this._isDone = false;

        this._argOk = [];
        this._argErr = [];

        return this;
    }

    toPromise() {
        return this.#promise;
    }

    _call(arr, args) {
        for (let i = arr.length - 1; i >= 0; i--) {
            arr[i].cb.apply(arr[i].context, args);
        }
    }

    _callOnce() {
        this._isOk = true;
        this._call(this._cbOnce, this._argOk);
        this._cbOnce = [];
    }

    _callOk() {
        this._isOk = true;
        this._call(this._cbOk, this._argOk);
    }

    _callErr() {
        this._isErr = true;
        this._call(this._cbErr, this._argErr);
    }

    _callDone() {
        this._isDone = true;
        this._call(this._cbDone, []);
    }
};

(0,_env__WEBPACK_IMPORTED_MODULE_1__.register)(PiPromise);

/***/ }),

/***/ "./node_modules/pyllar/random.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/random.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiRandom)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");


/**
 * @class
 */
class PiRandom {
    static #seed = 0;
    /**
     * Gera um número aleatório
     * 
     * @returns {number}
     */
    static generator() {
        return PiRandom.range(0, Number.MAX_VALUE);
    }

    /**
     * Gera um número aleatório entre {min} e {max}
     * 
     * @param {number} _min - Valor mínimo
     * @param {number} _max - Valor máximo
     * @returns {number}
     */
    static range(_min, _max) {
        _min = _min || 0;
        _max = _max || Number.MAX_VALUE;

        let random = Math.floor(Math.random() * (1 + _max - _min)) + _min;

        if (random > _max) return _max;
        else return random;
    }

    static uuid(format) {
        let d = new Date().getTime();
        let uuid = (format || 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx').replace(/[xy]/g, function (c) {
            let r = (d + Math.random() * 16) % 16 | 0;
            d = Math.floor(d / 16);
            return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);
        });

        return uuid + (PiRandom.#seed++);
    }

};

(0,_env__WEBPACK_IMPORTED_MODULE_0__.register)(PiRandom);

/***/ }),

/***/ "./node_modules/pyllar/request.js":
/*!****************************************!*\
  !*** ./node_modules/pyllar/request.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiRequest)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./url */ "./node_modules/pyllar/url.js");




class ChainRequestItem {
    next = null;
    #fn = null;

    constructor(fn) {
        this.#fn = fn;
    }

    invoke() {
        this.#fn.call(this.#fn, ...arguments, () => {
            this.next.invoke(...arguments);
        });
    }
}

class ChainRequest {
    #requests = [];

    first() {
        if (this.#requests.length == 0) {
            return null;
        }

        return this.#requests[0];
    }

    last() {
        if (this.#requests.length == 0) {
            return null;
        }

        return this.#requests[this.#requests.length - 1];
    }

    add(fn) {
        if (fn == null) {
            return this;
        }

        const last = this.last();
        const current = new ChainRequestItem(fn);
        if (last != null) {
            last.next = current;
        }

        this.#requests.push(current);

        return this;
    }

    invoke() {
        const first = this.first();
        if (first == null) {
            return this;
        }

        first.invoke.apply(first, arguments);

        return this;
    }
}


/**
 * @class
 */
class PiRequest extends _class__WEBPACK_IMPORTED_MODULE_1__["default"] {
    #sending = false;
    #xhr = null;
    #chainRequest = new ChainRequest();
    #method = 'POST';

    constructor() {
        super();

        this.#chainRequest
            .add(_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('request.fetch'))
            .add((url, settings, success, error) => {
                try {
                    fetch(url, settings).then((response) => {
                        this.#sending = false;

                        if (response.status >= 200 && response.status < 300) {
                            response.text().then((text) => {
                                success(text, response.status);
                            });
                        } else {
                            response.text().then((text) => {
                                error(text, response.status);
                            });
                        }

                        this.#xhr = null;
                    }).catch(function (e) {
                        if (e.message == 'Failed to fetch') {
                            error(`{ "message": "${e.message}", "status": "error" }`, 503);
                        }
                    });
                } catch (error) {
                    error(`{ "message": "offline", "status": "error" }`, 503);
                }
            });
    }

    addHandler(fn) {
        this.#chainRequest.add(fn);

        return this;
    }

    /**
     * Aborta o request caso a solicitação tenha sido enviada
     * 
     * @returns {PiRequest}
     */
    abort() {
        if (this.#xhr) {
            this.#xhr.abort();
            this.#xhr = null;
            this.#sending = false;
        }

        return this;
    }

    /**
     * Retorna se a request esta sendo enviada
     * 
     * @returns {boolean}
     */
    isSending() {
        return this.#sending;
    }

    setMethod(method) {
        this.#method = method;

        return this;
    }

    /**
     * Envia uma request do tipo GET
     * 
     * @param {string} url - Url da request
     * @param {object} obj - Query string como objeto
     * @returns {Promise}
     */
    get(url, obj, config = (xhr) => { return xhr; }) {
        return new Promise((resolve, reject) => {
            let qs = '';

            if (obj != undefined) qs = '?' + this.#convertObjectToFormData(obj);

            this.#requestGet(url + qs, (text, statusCode) => {
                resolve(text, statusCode);
            }, (text, statusCode) => {
                reject(text, statusCode);
            }, config);
        });
    }

    /**
     * Envia uma solicitação do tipo GET e faz o parse JSON da resposta
     * 
     * @param {string} url - Url da request
     * @param {object} obj - Query string como objeto
     * @returns {Promise}
     */
    getJson(url, obj, config = (xhr) => { return xhr; }) {
        return new Promise((resolve, reject) => {
            let qs = '';

            if (obj != undefined) qs = '?' + this.#convertObjectToFormData(obj);

            this.#requestGet(url + qs,
                (text, statusCode) => {
                    if (text.length == 0) {
                        resolve({});
                        return
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'ok') resolve(json);
                        else reject(json.message, statusCode);
                    } else {
                        resolve(json);
                    }
                },
                (text, statusCode) => {
                    if (text.length == 0) {
                        reject({}, statusCode);
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'error') {
                            reject(json.message, statusCode);
                        }
                    } else {
                        reject(json, statusCode);
                    }
                }, config);
        });
    }

    /**
     * Envia uma solicitação do tipo POST.
     * 
     * @param {string} url - Url da requeset
     * @param {object} obj - Objeto a ser enviado no formato value=key
     * @returns {Promise}
     */
    post(url, obj, config = null) {
        return new Promise((resolve, reject) => {
            let formData = this.#convertObjectToFormData(obj);

            this.#requestPost(url, encodeURI(formData),
                (text, statusCode) => {
                    resolve(text, statusCode);
                },
                (text, statusCode) => {
                    reject(text, statusCode);
                },
                (xhr) => {
                    xhr.headers.append('Content-Type', 'application/x-www-form-urlencoded');
                    if (config) {
                        config(xhr);
                    }

                    return xhr;
                });
        });
    }

    /**
     * Envia para a url informada array de File
     * 
     * @param {string} url - Url da request e faz o parse JSON da resposta
     * @param {array} files - Array File
     * @returns {Promise}
     */
    sendFiles(url, files, config = null) {
        return new Promise((resolve, reject) => {
            var formData = new FormData();

            for (var i = 0; i < files.length; i++) {
                formData.append(`file${i}`, files[i]);
            };

            this.#requestPost(url, formData,
                (text, statusCode) => {
                    if (text.length == 0) {
                        resolve({});
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'ok') resolve(json);
                        else reject(json.message, statusCode);
                    } else {
                        resolve(json);
                    }
                },
                (text, statusCode) => {
                    if (text.length == 0) {
                        reject({}, statusCode);
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'error') reject(json.message, statusCode);
                    } else {
                        reject(json, statusCode);
                    }
                },
                (xhr) => {
                    if (config) {
                        config(xhr);
                    }

                    return xhr;
                });
        });
    }

    /**
     * Envia uma solicitação do tipo POST e faz o parse JSON da resposta
     * 
     * @param {string} url - Url da request
     * @param {object} obj - Objeto a ser enviado no formato json
     * @returns {Promise}
     */
    postJson(url, obj, config = null) {
        return new Promise((resolve, reject) => {
            this.#requestPost(url, JSON.stringify(obj),
                (text, statusCode) => {
                    if (text.length == 0) {
                        resolve({});
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'ok') resolve(json);
                        else reject(json.message, statusCode);
                    } else {
                        resolve(json);
                    }
                },
                (text, statusCode) => {
                    if (text.length == 0) {
                        reject({}, statusCode);
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'error') {
                            reject(json.message, statusCode);
                        }
                    } else {
                        reject(json, statusCode);
                    }
                },
                (xhr) => {
                    xhr.headers.append('Content-Type', 'application/json');
                    if (config) {
                        config(xhr);
                    }

                    return xhr;
                });
        });
    }

    #requestGet(url, success, error, config) {
        this.#method = 'GET';
        this.#createRequest(url,
            (text, statusCode) => {
                success(text, statusCode);
            },
            (text, statusCode) => {
                error(text, statusCode);
            },
            (xhr) => {
                xhr.method = this.#method;
                xhr.headers.append('X-Requested-With', 'XMLHttpRequest');

                return config(xhr);
            }
        );
    }

    #requestPost(url, formData, success, error, config) {
        // let auth = Pi.getConfig('request.Authorization');

        this.#createRequest(url,
            (text, statusCode) => {
                success(text, statusCode);
            },
            (text, statusCode) => {
                error(text, statusCode);
            },
            (xhr) => {
                xhr.method = this.#method;
                xhr.headers.append('X-Requested-With', 'XMLHttpRequest');
                xhr.body = formData;

                return config(xhr);
            }
        );
    }

    #createRequest(url, success, error, config) {
        var headers = new Headers();
        headers.append('Accept', 'application/json, text/plain, */*');

        this.#xhr = new AbortController();
        var settings = config({
            signal: this.#xhr.signal,
            mode: 'cors',
            headers: headers
        });

        var _url = url instanceof _url__WEBPACK_IMPORTED_MODULE_2__["default"] ? url : _url__WEBPACK_IMPORTED_MODULE_2__["default"].create(url);

        this.#sending = true;
        this.#chainRequest.invoke(_url, settings, success, error);
    }

    #existProtocol(json) {
        return json.status;
    }

    #convertObjectToFormData(obj) {
        let encodedString = '';

        for (let prop in obj) {
            if (obj.hasOwnProperty(prop)) {
                if (encodedString.length > 0) {
                    encodedString += '&';
                }
                encodedString += prop + '=' + obj[prop];
            }
        }

        return encodedString;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/statement.js":
/*!******************************************!*\
  !*** ./node_modules/pyllar/statement.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiStatement)
/* harmony export */ });
/**
 * @class
 */
class PiStatement {

    /**
     * Executa uma statement iniciando em um contexto
     * 
     * @param {string} statement - Statement que será executada dentro do contexto
     * @param {object} context - Contexto de execução
     * @returns {object}
     */
    static exec(statement, context) {
        return PiStatement.execWithVariables(statement, [[], []], context);
    }

    /**
     * Executa uma statement dentro de um contexto com variavéis de escopo
     * 
     * @param {string} statement - Statement
     * @param {array} variables - Array com os nomes e valores das variáveis
     * @param {object} context - Objeto de contexto
     * @returns {object}
     */
    static execWithVariables(statement, variables, context) {
        const variableNames = variables[0];
        const variableValues = variables[1];

        for (let i = 0; i < variableNames.length; i++) {
            const variableName = variableNames[i];
            if (variableName == 'this') {
                variableNames.splice(i, 1);
                i--;
                continue;
            }

            variableNames[i] = variableNames[i].replaceAll('.', '');
            statement = statement.replaceAll(variableName, variableNames[i])
        }

        const func = new Function('_this', ...variableNames, `return (function(){return ${statement}}).call(_this);`);
        return func(context, ...variableValues);
    }
};


/***/ }),

/***/ "./node_modules/pyllar/string.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/string.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiString)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");


/**
 * @class 
 */
class PiString {
    /**
     * Converte todas as palavras da string para capital. As palavras podem estar seperadas por espaço ou _ ou -
     * 
     * @param {string} str - string 
     * @return {string}
     */
    static capital(str) {
        if (!_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str)) return '';

        str = str.toLowerCase();

        let p = /(^[\s_\.-]*\w|[\s\._-]\w)+/gi,
            m = str.match(p);

        for (let v in m) {
            str = str.replace(m[v], m[v].toUpperCase());
        }

        return str;
    };

    /**
     * Retorna última palavra separada por caracter
     * 
     * @param {string} str - String
     * @param {string} separator - Separador de palavras
     * @returns {string}
     */
    static last(str, separator = ' ') {
        const tokens = str.split(separator);

        if (tokens.length == 0) {
            return str;
        }

        return tokens[tokens.length - 1];
    }

    /**
     * Retorna a primeira palavra separada por caracter
     * 
     * @param {string} str - String
     * @param {string} separator - Separador de palavras
     * @returns {string}
     */
    static first(str, separator = ' ') {
        const tokens = str.split(separator);

        if (tokens.length == 0) {
            return str;
        }

        return tokens[0];
    }

    /**
     * Retorna uma string formatada segundo os marcadores de texto
     * 
     * @param {strin} format - String com marcadores de texto
     * @param  {...any} args - Lista de valoers para os marcadores de texto
     * @returns {string}
     */
    static format(format, ...args) {
        return format.replace(/{(\d+)}/g, function (match, number) {
            return typeof args[number] != 'undefined'
                ? args[number]
                : match
                ;
        });
    };

    /**
     * Faz o recorte no texto baseado nos caracteres informados nos parametros beginWord e endWord
     * 
     * @param {string} text - Texto
     * @param {string} beginWord - Palavra que inicia o clipping
     * @param {string} endWord - Palavra que finaliza o clipping
     * @returns {string}
     */
    static clips(text, beginWord, endWord) {
        let arr = [];
        let i = -1;

        while (true) {
            i = text.indexOf(beginWord, i + 1);
            if (i == -1) break;
            i += beginWord.length;

            let f = text.indexOf(endWord, i + 1);
            if (f == -1) break;

            arr.push(text.substr(i, f - i));
            i = f + 1;
        }

        return arr;
    };

    /**
     * Verifica se o objeto event fornecido contém apenas caracteres alphanuméricos
     * 
     * @method isAlphaNumeric
     * @param {event} e 
     * @return {boolean}
     */
    static isAlphaNumeric(e) {
        let charCode = (e.which) ? e.which : e.keyCode;
        if (charCode == 8) return true;

        let keynum;
        let keychar;
        let charcheck = /[a-zA-Z0-9]/;
        if (window.event) // IE
        {
            keynum = e.keyCode;
        }
        else {
            if (e.which) // Netscape/Firefox/Opera
            {
                keynum = e.which;
            }
            else return true;
        }

        keychar = String.fromCharCode(keynum);
        return charcheck.test(keychar);
    };

    /**
     * Convert todos os espaços para código html &nbsp;
     * 
     * @method space2nbsp
     * @param {string} str 
     * @return {string}
     */
    static space2nbsp(str) {
        if (str == null) return '';
        return str.replace(/\s/gi, '&nbsp;').replace(/\-/gi, '&nbsp;-&nbsp;');
    };

    /**
     * Adiciona três pontos ao final da string de seu tamanho exceder o limite fornecido
     * 
     * @method reticencias
     * @param {string} str 
     * @param {int} length 
     * @return {string}
     */
    static reticencias(str, length) {
        if (str.length > length) return str.substring(0, length) + '...';
        else return str;
    }
    ;
    /**
     * Remove todos os espaços da string
     * 
     * @method removeSpace
     * @param {string} str 
     * @return {string}
     */
    static removeSpace(str) {
        return (str || '').replace(/\s*/gi, '');
    };

    /**
     * Retorna a primeira palavra da string
     * 
     * @method firtWord
     * @param {string} str 
     * @return {string}
     */
    static firstWord(str) {
        if (_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str)) {
            return str.split(' ')[0];
        } else {
            return '';
        }
    };

    /**
     * Retorna a última palavra da string
     * 
     * @method lastWord
     * @param {string} str 
     * @return {string}
     */
    static lastWord(str) {
        if (_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str)) {
            let p = str.split(' ');
            return p[p.length - 1];
        } else {
            return '';
        }

    };

    /**
     * Retorna a primeira e última palavras da string
     * 
     * @method firstAndlastWord
     * @param {string} str 
     * @return {string}
     */
    static firstAndlastWord(str) {
        let p = str.split(' ');
        let first = '';

        if (p.length == 1) return str;

        first = str.split(' ')[0];

        return first + ' ' + p[p.length - 1];
    };

    /**
     * Converte todas as palavras da string para capital. As palavras podem estar seperadas por espaço ou _
     * 
     * @method capital
     * @param {string} str 
     * @return {string}
     */
    static capital(str) {
        if (!_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str)) return '';

        str = str.toLowerCase();

        let p = /(^[\s_\.-]*\w|[\s\._-]\w)+/gi,
            m = str.match(p);

        for (let v in m) {
            str = str.replace(m[v], m[v].toUpperCase());
        }

        return str;
    };

    static replace(input, search, replacement) {
        return input.replace(new RegExp(search, 'g'), replacement);
    };

    /**
     * Reduz um nome em n - 1 palavras iniciais mais a ultima palavra
     * 
     * @method cut
     * @param {string} str 
     * @param {int} total 
     * @return {string}
     */
    static cut(str, total) {
        if (!_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str) || total < 0) return str;

        let p = str.split(' '),
            arr = [];

        //adiciona a primeira palavra
        arr.push(p[0]);

        if (total > p.length) total = p.length;

        for (let i = 1; i < total; i++) {
            arr.push(p[i]);
        }

        //adiciona a ultima palavra
        if (p.length > total) {
            arr.push(p[p.length - 1]);
        }

        return arr.join(' ');
    }
};

(0,_env__WEBPACK_IMPORTED_MODULE_0__.register)(PiString);

/***/ }),

/***/ "./node_modules/pyllar/translate.js":
/*!******************************************!*\
  !*** ./node_modules/pyllar/translate.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");

/**
 * class
 */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new class PiTranslate {
    #table = {};

    /**
     * 
     * @param {object} table - Carrega uma tabela de tradução para o translate
     * @returns {PiTranslate}
     */
    load(table) {
        _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(this.#table, table);

        return this;
    }

    /**
     * Define um valor para uma chave
     * 
     * @param {string} key - Chave
     * @param {string} value - Valor
     * @returns {PiTranslate}
     */
    set(key, value) {
        this.#table[key] = value;

        return this;
    }

    /**
     * Retorna um valor de uma dada chave
     * 
     * @param {string} key - Chave
     * @returns {string}
     */
    get(key) {
        return this.#table[key] || '';
    }

    /**
     * Verifica se existe uma chave na tabela de tradução
     * 
     * @param {string} key - Chave
     * @returns {boolean}
     */
    exist(key) {
        return this.#table[key] != undefined;
    }

    /**
     * Apaga toda a tabela de tradução
     * 
     * @returns {PiTranslate}
     */
    clear() {
        this.#table = {};
        return this;
    }
});

/***/ }),

/***/ "./node_modules/pyllar/tree.js":
/*!*************************************!*\
  !*** ./node_modules/pyllar/tree.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiTree)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");


/**
 * @class
 * @name PiTree
 */
class PiTree {
    /**
     * Cria uma arvóre virtual onde todos os elementos serão instancias de PiElement
     */
    constructor() {

    }

    static parse(html) {
        const tree = new PiTree();
        if (html instanceof Element) html = html.innerHTML;

        const doc = tree._loadDocument(html);
        const root = tree._loadElementRoot(doc);

        return root;
    }

    _loadDocument(html) {
        try {
            const wp = new _env__WEBPACK_IMPORTED_MODULE_0__.global.DOMParser();
            return wp.parseFromString(html, 'text/html'); //Vai fazer o parse de string para Element
        } catch (error) {
            console.log('PiTree: O html informado esta formatado incorretamente');
            console.log(html);
        }

        return null;
    }

    _loadElementRoot(doc) {
        if (doc == null) {
            return null;
        }

        const root = document.createDocumentFragment(); // Vai criar um fragmento da DOM principal
        const element = doc.getElementsByTagName('body')[0];
        const elements = [...element.children];

        for (let i = 0; i < elements.length; i++) {
            root.appendChild(elements[i]); // Vai adicional todos os elementos da DOM principal para a DOM fragmentada
        }

        return root;
    }
};


/***/ }),

/***/ "./node_modules/pyllar/type.js":
/*!*************************************!*\
  !*** ./node_modules/pyllar/type.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiType)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");


/**
 * @class
 */
class PiType {
    /**
     * Returna se o parametro é exatamente 'undefined'
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isUndefined(obj) {
        if (obj === null) return false;
        else if (obj == undefined) return true;
        else return false;
    }

    /**
     * Retorna o nome do construtor do objeto
     * 
     * @param {object} obj 
     * @returns {string}
     */
    static typeof(obj) {
        let v = null;

        if (obj != undefined && obj != null && !PiType.isNumber(obj)) {
            try {
                v = obj.constructor.name;
                if (v == '') v = 'Object';
            } catch (ex) {

            }
        } else if (PiType.isNumber(obj)) {
            return 'Number';
        } else if (obj === undefined) {
            return 'Undefined'
        } else if (obj === null) {
            return 'Null';
        }

        return v;
    }

    /**
     * Retorna true se o parametro é um número ou false caso contrário
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isNumber(obj) {
        if (typeof obj == 'number' && isFinite(obj) && !isNaN(obj)) return true;
        else return false;
    }

    /**
    * Returna true se o parametro é null ou undefined
    * 
    * @param {object} obj 
    * @returns {boolean}
    */
    static isNullOrUndefined(obj) {
        if (obj == null || obj == undefined) return true;
        else return false;
    }

    /**
     * Returna true se o parametro é uma função
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isFunction(obj) {
        if (typeof obj == 'function') return true;
        else return false;
    }

    /**
     * Returna true se o parametro é um array
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isArray(obj) {
        if (PiType.typeof(obj) == 'Array') return true;

        if (PiType.typeof(obj) == 'String') {
            if (/^\[.*\]$/gi.test(obj)) {
                return true;
            }
        }

        return false;
    }

    /**
     * Retorna true se o parametro é um Object
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isObject(obj) {
        if (PiType.typeof(obj) == 'Object') return true;
        if (typeof obj == 'object') return true;

        if (PiType.typeof(obj) == 'String') {
            if (/^\{.*\}$/gi.test(obj)) {
                return true;
            }
        }

        return false;
    }

    /**
     * Returna true se o parametro é uma string
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isString(obj) {
        if (typeof obj == 'string') return true;
        else return false;
    }

    /**
     * Returna true se o parametro é um Boolean
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isBoolean(obj) {
        if (typeof obj == 'boolean') return true;
        else return false;
    }
};

(0,_env__WEBPACK_IMPORTED_MODULE_0__.register)(PiType);

/***/ }),

/***/ "./node_modules/pyllar/url.js":
/*!************************************!*\
  !*** ./node_modules/pyllar/url.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiUrl)
/* harmony export */ });
/* harmony import */ var _alias__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./alias */ "./node_modules/pyllar/alias.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./string */ "./node_modules/pyllar/string.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");






/**
 * @class
 */
class PiUrl extends _class__WEBPACK_IMPORTED_MODULE_1__["default"] {
    static alias = new _alias__WEBPACK_IMPORTED_MODULE_0__["default"]();

    init() {
        let arr = arguments,
            url = '';

        for (let i = 0; i < arr.length; i++) {
            let alias = arr[i];

            if (PiUrl.alias.exist(arr[i])) {
                alias = PiUrl.alias.getValue(arr[i]);
            }

            if (alias[0] == '/' && url[url.length - 1] == '/') {
                url += alias.substring(1);
            } else {
                url += alias;
            }

        }

        this.setUrl(url);
    }

    /**
     * Define a url
     * 
     * @param {string} url
     * @returns {PiUrl}
     */
    setUrl(url) {
        if (PiUrl.alias.exist(url)) {
            url = PiUrl.alias.getValue(url);
        }

        if (PiUrl.isValid(url)) this._url = url;

        return this;
    }

    /**
     * Obtem o scheme da url
     * 
     * @returns {string}
     */
    scheme() {
        let url = this.getUrl(),
            i = url.indexOf(':');

        if (i < 0) return '';
        return url.substr(0, i);
    }

    /**
     * Define ou obtem o host da url
     * 
     * @param {string} host
     * @returns {string}
     */
    host(host) {
        let url = this.getUrl(),
            h = this._parse(url, 'host');

        if (host === undefined) {
            return h;
        } else {
            this.setUrl(url.replace(h, host));
            return this;
        }
    }

    /**
     * Define ou obtem a porta da url
     * 
     * @param {string|int} port 
     * @returns {PiUrl|int}
     */
    port(port) {
        let url = this.getUrl(),
            p = this._parse(url, 'port') || '';

        if (_type__WEBPACK_IMPORTED_MODULE_2__["default"].isUndefined(port)) {
            return p;
        }

        let pt = this.port() || '',
            href = this.href();

        if (pt.length == 0) {
            url = url.replace(href, href + ':' + port);
        } else {
            url = url.replace(p, port);
        }

        this.setUrl(url);

        return this;
    }

    /**
     * Define ou obtem o href da url
     * 
     * @param {string} url - Href
     * @returns {PiUrl|string}
     */
    href(url) {
        let u = this.host(),
            h = u,
            s = this._parse(this.getUrl(), 'scheme');

        if (url === undefined) {
            let p = this.port();

            if (p.length == 0) p = '';
            else p = ':' + p;

            if (s.length > 0) {
                h = s + '://' + u + p;
            } else {
                h = u + p;
            }

            return h;
        }

        this.setUrl(url);

        return this;
    }

    /**
     * Define ou obtem o hash da url
     * 
     * @param {string} hash 
     * @returns {PiUrl|string}
     */
    hash(hash) {
        let url = this.getUrl(),
            hh = this._parse(url, 'hash');

        if (hash === undefined) {
            return hh;
        } else {

            if (hh.length == 0) {
                this.setUrl(url + '#' + hash);
            } else {
                this.setUrl(url.replace(hh, hash));
            }

            return this;
        }
    }

    /**
     * Anexa ao path da url o path informado
     * 
     * @param {string} path 
     * @returns {PiUrl}
     */
    appendPath(path) {
        let url = this.getUrl(),
            p = this._parse(url, 'path');

        if (PiUrl.alias.exist(path)) {
            path = PiUrl.alias.getValue(path);
        }

        if (url.substring(url.length - 1) != '/') url += '/';
        this.setUrl(url + path);
        return this;
    }

    /**
     * Define ou obtem o path da url
     * 
     * @param {string} path 
     * @returns {PiUrl|string}
     */
    path(path) {
        let url = this.getUrl(),
            p = this._parse(url, 'path'),
            pp = '/' + p;

        if (path === undefined) {
            return pp;
        }

        if (PiUrl.alias.exist(path)) {
            path = PiUrl.alias.getValue(path);
        }

        if (p.length == 0) {
            if (url.substring(url.length - 1) != '/' && path.charAt(0) != '/') url += '/' + path;
            else url += path;
        } else {
            url = url.replace(pp, path);
        }

        this.setUrl(url);

        return this;
    }

    /**
     * Define ou obtem o filename da url
     * 
     * @param {string} filename 
     * @returns {PiUrl|strin}
     */
    filename(filename) {
        let url = this.getUrl();

        if (filename === undefined) {
            return url.replace(/\\/g, '/').replace(/.*\//, '').replace(/\?.*/, '') || '';
        } else {
            let u = this.getUrl(),
                f = this.filename();

            this.setUrl(u.replace(f, filename));
            return this;
        }
    }

    /**
     * Define ou obtem a query string da url
     * 
     * @param {string} query 
     * @returns {PiUrl|string}
     */
    query(query) {
        let url = this.getUrl(),
            p = this._parse(url, 'query');

        if (query === undefined) {
            return p;
        } else {
            let q = this.query();
            this.setUrl(url.replace(q, query));
            return this;
        }
    }

    /**
     * Adiciona uma valor a query string
     * 
     * @param {string} key - Chave
     * @param {string} value - Valor
     * @returns {PiUrl}
     */
    addQuery(key, value) {
        let q = this.query(),
            url = this.getUrl(),
            qs = _string__WEBPACK_IMPORTED_MODULE_3__["default"].format('{1}={2}', url, key, encodeURIComponent(value));

        if (q.length == 0) {
            this.setUrl(url + '?' + qs);
        } else {
            this.setUrl(url + '&' + qs);
        }

        return this;
    }

    /**
     * Obtem um valor da query string pela sua chave
     * 
     * @param {string} key - Chave
     * @returns {string}
     */
    getQuery(key) {
        let qs = this.query().split('&');

        for (var i = 0; i < qs.length; i++) {
            let q = qs[i].split('=');
            if (q[0] == key) {
                return decodeURIComponent(q[1]);
            }
        }

        return '';
    }

    /**
     * Obtem o dirname da url
     * 
     * @returns {string}
     */
    dirname() {
        return this.getUrl().replace(/\\/g, '/').replace(/\/[^\/]*$/, '');
    }

    /**
     * Retorna a url formatada
     * 
     * @returns {string}
     */
    getUrl() {
        // var m = this.options;

        // if (PiSubdomains.exist(m)) {
        //     var s = PiSubdomains.next(m);
        //     return PiString.format(this.url, s);
        // }

        return this._url || '';
    }

    /**
     * Alias to getUrl
     * 
     * @returns {strin}
     */
    toString() {
        return this.getUrl();
    }

    _parse(url, parte) {
        let p = { 'url': 0, 'scheme': 1, 'slash': 2, 'host': 3, 'port': 4, 'path': 5, 'query': 6, 'hash': 7 },
            pattern = /^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,
            s = pattern.exec(url || '');

        if (s == null) return '';
        return s[p[parte]] || '';
    }

    /**
     * Verifica se a url informada é valida
     * 
     * @param {string} url 
     * @returns {boolean}
     */
    static isValid(url) {
        return /(http|https|)(:\/\/|)([\w-]+\.?)+[\w-]+(\/[\w- .\/?%&=]*)?/.test(url || '');
    }

    /**
     * Adiciona a lista de parametros a url
     * 
     */
    static add() {
        PiUrl.alias.add.apply(PiUrl.alias, arguments);
    }

    /**
     * 
     * @param {string} name 
     * @returns {string}
     */
    static get(name) {
        return PiUrl.alias.getValue(name);
    }

    static to() {
        let arr = arguments,
            url = '';

        for (let i = 0; i < arguments.length; i++) {
            let alias = arr[i];

            if (PiUrl.alias.exist(arr[i])) {
                alias = PiUrl.alias.getValue(arr[i]);
            }

            if (alias[0] == '/' && url[url.length - 1] == '/') {
                url += alias.substring(1);
            } else {
                url += alias;
            }

        }

        (0,_env__WEBPACK_IMPORTED_MODULE_4__.setLocation)(url);
    }

    static query(query) {
        let q = PiUrl.create((0,_env__WEBPACK_IMPORTED_MODULE_4__.location)()).query(),
            p = q.split('&');

        for (let i in p) {
            let pp = p[i].split('=');
            if (pp[0] == query) return pp[1];
        }
    }

};

(0,_env__WEBPACK_IMPORTED_MODULE_4__.register)(PiUrl);

/***/ }),

/***/ "./node_modules/pyllar/url_hash.js":
/*!*****************************************!*\
  !*** ./node_modules/pyllar/url_hash.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiUrlHash)
/* harmony export */ });
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./random */ "./node_modules/pyllar/random.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");




/**
 * @class
 */
class PiUrlHash {
    static _callbacks = [];
    static _fnWillChanges = [];
    static _fnDidChanges = [];
    #hashId = 0;

    /**
     * Disparado sempre que a hash da url for alterada
     */
    hashDidChange() {

    }

    /**
     * Observa mudanças no hash da url
     * 
     * @returns {PiUrlHash}
     */
    listen() {
        this.#hashId = _random__WEBPACK_IMPORTED_MODULE_0__["default"].uuid('xxx-xxx');

        PiUrlHash._callbacks.push({
            id: this.#hashId,
            cb: () => {
                return this.hashDidChange(PiUrlHash.get());
            }
        });

        return this;
    }

    /**
     * Deixa de observar mudanças no hash da url
     * 
     * @returns {PiUrlHash}
     */
    unlisten() {
        const arr = PiUrlHash._callbacks;

        for (let i = 0; i < arr.length; i++) {
            const item = arr[i];
            if (item.id == this.#hashId) {
                PiUrlHash._callbacks.splice(i, 1);
                return this;
            }

        }

        return this;
    }

    /**
     * Retorna o valor atual do hash da url
     * 
     * @returns {string}
     */
    static get() {
        let h = (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash;
        h = h.length == 0 ? h : h.substr(1);

        return h;
    }

    /**
     * Define o valor do hash da url
     * 
     * @param {string} hash - Valor do hash
     */
    static to(hash) {
        let h = PiUrlHash.get();
        let q = h.indexOf('?');

        if (q > -1) {
            q = h.substr(q);
            h = h.substr(0, q);
        } else {
            q = '';
        }

        if ('!' + h == hash || '!' + hash == h) {
            return this;
        }

        if (q.length > 0) {
            hash += q;
        }

        (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = hash;

        return PiUrlHash;
    }

    /**
     * Retorna o valor da query string no hash da url
     * 
     * @param {string} key - Chave da query string
     * @returns {string}
     */
    static getQueryString(key) {
        let h = PiUrlHash.get();
        let ps = h.split('?');

        if (ps.length < 2) return '';
        let kv = ps[1].split('&');
        for (let i = 0; i < kv.length; i++) {
            var k = kv[i].split('=');
            if (k[0] == key) return decodeURIComponent(k[1]);
        }

        return '';
    }

    static getQueryInt(key) {
        return parseInt(PiUrlHash.getQueryString(key));
    }

    static getQueryFloat(key) {
        return parseFloat(PiUrlHash.getQueryString(key));
    }

    /**
     * Remove um par chave-valor da query string do hash da url
     * 
     * @param {string} key - Chave da query string
     */
    static removeQueryString(key) {
        let h = PiUrlHash.get();
        let ps = h.split('?');

        if (key == undefined) {
            (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = ps[0];
            return PiUrlHash;
        }

        let p = [];
        let map = [];

        if (ps.length > 1) {
            p = ps[1].split('&');
            for (let i = 0; i < p.length; i++) {
                if (p[i].length == 0) continue;

                let _ps = p[i].split('=');
                map[_ps[0]] = _ps[1];
            }
        }

        delete map[key];

        var arr = [];
        for (const key in map) {
            arr.push(`${key}=${map[key]}`);
        }

        (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = `${ps[0]}?${arr.join('&')}`;

        return PiUrlHash;
    }

    /**
     * Adiciona um par chave-valor para a query string do hash da url
     * 
     * @param {string} key - Chave da query string
     * @param {string} value - Valor da query string
     */
    static addQueryString(key, value = '') {
        let h = PiUrlHash.get();
        let ps = h.split('?');
        let p = [];
        let map = [];

        if (ps.length > 1) {
            p = ps[1].split('&');
            for (let i = 0; i < p.length; i++) {
                if (p[i].length == 0) continue;

                let _ps = p[i].split('=');
                map[_ps[0]] = _ps[1];
            }
        }

        map[key] = value || '';
        var arr = [];
        for (const key in map) {
            arr.push(`${key}=${map[key]}`);
        }

        (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = `${ps[0]}?${arr.join('&')}`;

        return PiUrlHash;
    }

    /**
     * Adiciona array de paths para o hash da url
     * 
     * @param  {...any} args - Array de paths
     */
    static add(...args) {
        let h = PiUrlHash.get();

        if (h.length > 0) {
            PiUrlHash.to(h + '/' + args.join('/'));
        } else {
            PiUrlHash.to(args.join('/'));
        }
    }

    /**
     * Remove do hash da url o valor informado
     * 
     * @param {string} str - String a ser removida
     * @returns {PiUrlhash}
     */
    static remove(str) {
        (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash.replace(str, '');

        return this;
    }

    static onWillChange(fn) {
        PiUrlHash._fnWillChanges.push(fn);
    }

    static onDidChange(fn) {
        PiUrlHash._fnDidChange.push(fn);
    }

};

var lastHash = null;
_env__WEBPACK_IMPORTED_MODULE_1__.global.onhashchange = function () {
    if (lastHash == PiUrlHash.get()) {
        return;
    }
    lastHash = PiUrlHash.get();

    const arr = PiUrlHash._callbacks;

    for (let i = 0; i < PiUrlHash._fnWillChanges.length; i++) {
        PiUrlHash._fnWillChanges[i](lastHash);
    }

    for (var i = 0; i < arr.length; i++) {
        arr[i].cb();
    }

    for (let i = 0; i < PiUrlHash._fnDidChanges.length; i++) {
        PiUrlHash._fnDidChanges[i](lastHash);
    }
};

(0,_env__WEBPACK_IMPORTED_MODULE_1__.register)(PiUrlHash);

/***/ }),

/***/ "./node_modules/pyllar/virtual_tree.js":
/*!*********************************************!*\
  !*** ./node_modules/pyllar/virtual_tree.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiVirtualTree)
/* harmony export */ });
/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./node_modules/pyllar/element.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");



/**
 * @class
 */
class PiVirtualTree {
    #elementsParent = null;
    #velements = [];
    #components = [];
    #componentsParams = [];
    #componentParent = null;
    #hook = [];
    #scope = { context: {} };

    constructor(element, scope = { context: {} }, componentParent = null) {
        if (element instanceof Array) {
            this.#elementsParent = element;
        } else if (element instanceof HTMLCollection) {
            this.#elementsParent = element;
        } else {
            this.#elementsParent = [element];
        }

        this.#componentParent = componentParent;
        this.#scope = scope;
    }

    hook(name, fn) {
        this.#hook[name] = fn;

        return this;
    }

    load() {
        this._createVirtualElements(this.#elementsParent);
        this._createComponents();

        return this;
    }

    destroy() {
        for (let i = 0; i < this.#velements.length; i++) {
            const element = this.#velements[i];
            element.destroy();
        }

        for (let i = 0; i < this.#components.length; i++) {
            this.#components[i].destroy();
        }

        this.#velements = [];
        this.#components = [];
        this.#componentsParams = [];

        return this;
    }

    _createComponent(componentName) {
        const __constructor = (0,_env__WEBPACK_IMPORTED_MODULE_1__.findClass)(componentName);

        if (__constructor == undefined) {
            throw `Component não localizado: ${componentName}`;
        }

        return new __constructor();
    }

    _createComponents() {
        for (let i = 0; i < this.#componentsParams.length; i++) {
            const params = this.#componentsParams[i];
            const componentName = params.componentName;
            const velement = params.velement;
            const element = velement._element;
            const name = element.getAttribute('name');

            var component = null;

            if (this.#componentParent) {
                if (name) {
                    component = this.#componentParent[name];
                    if (component == null) {
                        component = this._createComponent(componentName);
                        this.#componentParent[name] = component;
                    }
                } else {
                    component = this._createComponent(componentName);
                }
            } else {
                component = this._createComponent(componentName);
            }

            velement.setComponent(component);
            component.render(element);
            this.#components.push(component);
        }
    }

    _createVirtualElements(elements) {
        if (elements == null) {
            return;
        }

        if (elements.length == 1 && elements[0] instanceof DocumentFragment) {
            this._createVirtualElements(elements[0].children);
            return;
        }

        for (let i = 0; i < elements.length; i++) {
            const element = elements[i];

            if (element instanceof Text) {
                continue;
            }

            if (element instanceof HTMLScriptElement) {
                continue;
            }

            if (element instanceof HTMLStyleElement) {
                continue;
            }

            if (element._pie == undefined) {
                this._invokeHook('will:create:velement');
                const velement = new _element__WEBPACK_IMPORTED_MODULE_0__["default"](element, this.#scope, this.#componentParent);
                this._invokeHook('did:create:velement', velement);
                this._invokeHook('will:load:velement', velement);
                velement.load(this.#componentParent);
                this._invokeHook('did:load:velement', velement);

                if (velement.isDestroyed) {
                    i--;
                    continue;
                }

                const componentName = element.getAttribute('component');
                if (componentName != null) {
                    this.#componentsParams.push({
                        velement: velement,
                        componentName: componentName
                    });
                }

                this.#velements.push(velement);
            }

            this._createVirtualElements(element.children);
        }
    }

    _invokeHook(name, ...params) {
        if (this.#hook[name]) {
            this.#hook[name](...params);
        }

        return this;
    }
};

/***/ }),

/***/ "./src/app.css":
/*!*********************!*\
  !*** ./src/app.css ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./app.css */ "./node_modules/css-loader/dist/cjs.js!./src/app.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/cifra/CifraAnime.css":
/*!**********************************!*\
  !*** ./src/cifra/CifraAnime.css ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_CifraAnime_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./CifraAnime.css */ "./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraAnime.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_CifraAnime_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_CifraAnime_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_CifraAnime_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_CifraAnime_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/cifra/CifraView.css":
/*!*********************************!*\
  !*** ./src/cifra/CifraView.css ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./CifraView.css */ "./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraView.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/homepage/HomePage.css":
/*!***********************************!*\
  !*** ./src/homepage/HomePage.css ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./HomePage.css */ "./node_modules/css-loader/dist/cjs.js!./src/homepage/HomePage.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";


var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";


var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./src/cifra/CifraAnime.js":
/*!*********************************!*\
  !*** ./src/cifra/CifraAnime.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CifraAnime)
/* harmony export */ });
/* harmony import */ var pyllar_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/component */ "./node_modules/pyllar/component.js");
/* harmony import */ var _CifraAnime_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CifraAnime.css */ "./src/cifra/CifraAnime.css");




class CifraAnime extends pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
    view = /*html*/`<div class="cifra-preview">
        <div class="box">
            <div class="box-inner"></div>
        </div>
    </div>`
}

/***/ }),

/***/ "./src/cifra/CifraModel.js":
/*!*********************************!*\
  !*** ./src/cifra/CifraModel.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CifraModel)
/* harmony export */ });
/* harmony import */ var pyllar_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/config */ "./node_modules/pyllar/config.js");
/* harmony import */ var pyllar_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/model */ "./node_modules/pyllar/model.js");



class CifraModel extends pyllar_model__WEBPACK_IMPORTED_MODULE_1__["default"] {
    init(){
        super.init(pyllar_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('endpoint.cifra'));
    }

    initWithJson(json){
        super.initWithJson(json);

        return this;
    }

    actions(){
        return {
            'insert': 'POST:/',
            'save': 'PUT:/',
            'get': 'GET:/:id',
            'all': 'GET:/',
            'import': 'GET:/import?url=:url'
        }
    }
}

/***/ }),

/***/ "./src/cifra/CifraStream.js":
/*!**********************************!*\
  !*** ./src/cifra/CifraStream.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CifraStream)
/* harmony export */ });
/* harmony import */ var _CifraModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CifraModel */ "./src/cifra/CifraModel.js");


class CifraStream {
    fnNewCifra = null;
    fnNewNote = null;

    constructor(host) {
        this.host = host;
    }

    onNewCifra(fn) {
        this.fnNewCifra = fn
    }

    onNewNote(fn) {
        this.fnNewNote = fn;
    }

    _processEvent(e) {
        try {
            const event = JSON.parse(e.data);

            if (event.type == 'new:cifra') {
                (new _CifraModel__WEBPACK_IMPORTED_MODULE_0__["default"]()).get(event.id).then((cifra) => {
                    if(this.fnNewCifra){
                        this.fnNewCifra(cifra);
                    }
                });

                return;
            }

            if (event.type == 'note') {
                if(this.fnNewNote){
                    this.fnNewNote(event.note);
                }
            }
        } catch (error) {

        }
    }

    connect() {
        const socket = new WebSocket(this.host);

        socket.addEventListener('open', event => {
            console.log('Conectado ao servidor WebSocket');

            // Envia uma mensagem ao servidor
            socket.send('Olá servidor!');
        });

        // Quando uma mensagem é recebida do servidor
        socket.addEventListener('message', event => {
            this._processEvent(event);
            console.log('Recebido do servidor:', event);
        });

        // Quando a conexão é fechada
        socket.addEventListener('close', event => {
            console.log('Desconectado do servidor WebSocket');
            this.connect();
        });
    }
};

/***/ }),

/***/ "./src/cifra/CifraView.js":
/*!********************************!*\
  !*** ./src/cifra/CifraView.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CifraView)
/* harmony export */ });
/* harmony import */ var pyllar_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/component */ "./node_modules/pyllar/component.js");
/* harmony import */ var _CifraModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CifraModel */ "./src/cifra/CifraModel.js");
/* harmony import */ var _marcador_Marcador__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../marcador/Marcador */ "./src/marcador/Marcador.js");
/* harmony import */ var _note_NoteCollection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../note/NoteCollection */ "./src/note/NoteCollection.js");
/* harmony import */ var _CifraView_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CifraView.css */ "./src/cifra/CifraView.css");








class CifraView extends pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
    view = /*html*/`<div :class="cifra-view {@_mostrarAcordes ?  '' : 'no-chords'}">
        <div class="titulo">
            {@_titulo}
        </div>

        <div class="options">
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="mostrarAcordes" @change="_saveMostrarAcordes($value)" :checked="{@_mostrarAcordes}">
                <label class="form-check-label" for="mostrarAcordes">Mostrar Acordes</label>
            </div>

            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="barraRolagem" @change="_saveRolagemAutomatica($value)" :checked="{@_rolagemAutomatica}">
                <label class="form-check-label" for="barraRolagem">Barra de Rolagem Automática</label>
            </div>

            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="evidenciar" @change="_saveEvidenciarNotas($value)" :checked="{@_evidenciarAcordes}">
                <label class="form-check-label" for="evidenciar">Evidênciar acordes</label>
            </div>
        </div>

        <div id="marcador" class="marcador"></div>
        
        <pre id="content"></pre>
    </div>`;

    _titulo = '';
    _mostrarAcordes = true;
    _rolagemAutomatica = true;
    _evidenciarAcordes = true;

    viewDidLoad() {
        this._loadConfig();
    }

    setStream(stream) {
        stream.onNewNote(note => {
            this.setMarcadorPosicao(note.position);
        });
    }

    async loadCifra(id, fn) {
        const cifra = await (new _CifraModel__WEBPACK_IMPORTED_MODULE_1__["default"]()).get(id);
        this.setCifra(cifra, fn);
    }

    setCifra(cifra, fn) {
        this.$element.find("#content").html(this._formatNotes(this._formatTag(cifra.texto)));

        this._titulo = cifra.titulo;

        this._loadNotes();
        this._loadMarcador();
        this._loadConfig();

        this.setMarcadorPosicao(0);
        if (fn) fn();
    }

    setMarcadorPosicao(position) {
        this.marcador.move(this.notes.getNoteByPosition(position));
    }

    _saveMostrarAcordes(v) {
        this._mostrarAcordes = v;

        this._saveConfig();
    }

    _saveRolagemAutomatica(v) {
        this._rolagemAutomatica = v;

        if (this.marcador) {
            this.marcador.setRolagemAutomatica(v);
        }

        this._saveConfig();
    }

    _saveEvidenciarNotas(v) {
        this._evidenciarAcordes = v;

        if (this.marcador) {
            v ? this.marcador.show() : this.marcador.hide();
        }

        this._saveConfig();
    }

    _formatNotes(cifra) {
        return cifra.replace(/\([^)]+\)/gi, (note) => {
            return `<b>${note}</b>`
        });
    }

    _formatTag(cifra) {
        return cifra.replace(/\[[^\]]+\]/gi, (note) => {
            return `<i>${note}</i>`
        });
    }

    _loadMarcador() {
        this.marcador = new _marcador_Marcador__WEBPACK_IMPORTED_MODULE_2__["default"](this.$element.find("#marcador"));
    }

    _loadNotes() {
        this.notes = new _note_NoteCollection__WEBPACK_IMPORTED_MODULE_3__["default"](this.$element.find("#content").find('b'));
    }

    _saveConfig() {
        window.localStorage.setItem('mostrar_acordes', this._mostrarAcordes);
        window.localStorage.setItem('rolagem_automatica', this._rolagemAutomatica);
        window.localStorage.setItem('evidenciar_acordes', this._evidenciarAcordes);
    }

    _loadConfig() {
        const config = this._getConfig();

        this._saveMostrarAcordes(config.mostrarAcordes);
        this._saveRolagemAutomatica(config.rolagemAutomatica);
        this._saveEvidenciarNotas(config.evidenciarAcordes);
    }

    _getConfig() {
        const mostrarAcordes = window.localStorage.getItem('mostrar_acordes');
        const rolagemAutomatica = window.localStorage.getItem('rolagem_automatica');
        const evidenciarAcordes = window.localStorage.getItem('evidenciar_acordes');

        if (mostrarAcordes === null || rolagemAutomatica === null || evidenciarAcordes === null) {
            this._saveConfig();

            mostrarAcordes = true;
            rolagemAutomatica = true;
            evidenciarAcordes = true;
        }

        return {
            mostrarAcordes: mostrarAcordes === 'true',
            rolagemAutomatica: rolagemAutomatica === 'true',
            evidenciarAcordes: evidenciarAcordes === 'true'
        }
    }
}

pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"].register(CifraView);

/***/ }),

/***/ "./src/homepage/HomePage.js":
/*!**********************************!*\
  !*** ./src/homepage/HomePage.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ HomePage)
/* harmony export */ });
/* harmony import */ var pyllar_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/component */ "./node_modules/pyllar/component.js");
/* harmony import */ var pyllar_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _cifra_CifraView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cifra/CifraView */ "./src/cifra/CifraView.js");
/* harmony import */ var _cifra_CifraAnime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../cifra/CifraAnime */ "./src/cifra/CifraAnime.js");
/* harmony import */ var _cifra_CifraStream__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../cifra/CifraStream */ "./src/cifra/CifraStream.js");
/* harmony import */ var _transporte_TransporteModel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../transporte/TransporteModel */ "./src/transporte/TransporteModel.js");
/* harmony import */ var _HomePage_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./HomePage.css */ "./src/homepage/HomePage.css");











class HomePage extends pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
    view = /*html*/`<div class="container homepage">
        <div class="content">
            <div id="view"></div>
        </div>
    </div>`;

    instances() {
        this.cifraStream = new _cifra_CifraStream__WEBPACK_IMPORTED_MODULE_4__["default"](pyllar_config__WEBPACK_IMPORTED_MODULE_1__["default"].get('cifraStream'));
    }

    viewDidLoad() {
        this.cifraStream.connect();

        this._loadTransporte();
        this._loadEvents();
    }

    setView(view) {
        view.render(this.$element.find('#view'));
    }

    _loadTransporte() {
        (new _transporte_TransporteModel__WEBPACK_IMPORTED_MODULE_5__["default"]()).get().then((transporte) => {
            if (transporte == null) {
                this.setView(new _cifra_CifraAnime__WEBPACK_IMPORTED_MODULE_3__["default"]());
                return;
            }

            if (transporte.cifraId == 0) {
                this.setView(new _cifra_CifraAnime__WEBPACK_IMPORTED_MODULE_3__["default"]());
                return;
            }

            const cifraView = new _cifra_CifraView__WEBPACK_IMPORTED_MODULE_2__["default"]();
            this.setView(cifraView);
            cifraView.setStream(this.cifraStream);
            cifraView.loadCifra(transporte.cifraId, () => {
                cifraView.setMarcadorPosicao(transporte.posicao);
                cifraView.setMarcadorPosicao(0);
            });
        });
    }

    _loadEvents() {
        this.cifraStream.onNewCifra(cifra => {
            const cifraView = new _cifra_CifraView__WEBPACK_IMPORTED_MODULE_2__["default"]();
            this.setView(cifraView);
            cifraView.setStream(this.cifraStream);
            cifraView.setCifra(cifra);
        });
    }
}

/***/ }),

/***/ "./src/marcador/Marcador.js":
/*!**********************************!*\
  !*** ./src/marcador/Marcador.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Marcador)
/* harmony export */ });
class Marcador {

    constructor($marcador) {
        this.$marcador = $marcador;
        this.note = null;
        this.rolagemAutomatica = true;
    }

    move(note) {
        if (note == null) return;

        const position = note.position();
        const w = note.width();
        const h = note.height();

        this.$marcador.css('top', position.top - 2).css('left', position.left - 7);
        this.$marcador.css('width', w + 13).css('height', h + 4);

        note.save();
        setTimeout(() => {
            note.highlight();
        }, 200);

        if (this.note) {
            this.note.restore();
        }

        this.note = note;

        setTimeout(() => {
            this._moveScroll();
        }, 200);
    }

    setRolagemAutomatica(b) {
        this.rolagemAutomatica = b;
    }

    show() {
        this.$marcador.show();
    }

    hide() {
        this.$marcador.hide();
    }

    _moveScroll() {
        if (!this.rolagemAutomatica) {
            return;
        }

        const rect = this.$marcador.get(0).getBoundingClientRect();
        if ((rect.bottom + 30) > window.innerHeight) {
            window.scrollBy(0, rect.bottom - window.innerHeight + 100);
        } else if (rect.top < 0) {
            window.scrollBy(0, (rect.top - 30));
        }
    }
};

/***/ }),

/***/ "./src/note/Note.js":
/*!**************************!*\
  !*** ./src/note/Note.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Note)
/* harmony export */ });
class Note {
    constructor($note) {
        this.$note = $note;
    }

    highlight() {
        this.$note.css('color', 'white');
    }

    restore() {
        this.$note.css('color', this.$note.attr('data-color'));
    }

    save() {
        this.$note.attr('data-color', this.$note.css('color'));
    }

    position() {
        return this.$note.position();
    }

    width() {
        return this.$note.width();
    }

    height() {
        return this.$note.height();
    }

    get $element() {
        return this.$note;
    }
};

/***/ }),

/***/ "./src/note/NoteCollection.js":
/*!************************************!*\
  !*** ./src/note/NoteCollection.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotesCollection)
/* harmony export */ });
/* harmony import */ var _Note__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Note */ "./src/note/Note.js");


class NotesCollection extends Array {
    constructor($notes) {
        super();

        $notes.get().forEach((note, index) => {
            this.push(new _Note__WEBPACK_IMPORTED_MODULE_0__["default"]($(note)));
        });
    }

    getNoteByPosition(p) {
        return this[p - 1];
    }
};

/***/ }),

/***/ "./src/transporte/TransporteModel.js":
/*!*******************************************!*\
  !*** ./src/transporte/TransporteModel.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ TransporteModel)
/* harmony export */ });
/* harmony import */ var pyllar_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/config */ "./node_modules/pyllar/config.js");
/* harmony import */ var pyllar_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/model */ "./node_modules/pyllar/model.js");



class TransporteModel extends pyllar_model__WEBPACK_IMPORTED_MODULE_1__["default"] {
    init(){
        super.init(pyllar_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('endpoint.transporte'));
    }

    actions(){
        return {
            'get': 'GET:/',
        }
    }
}

/***/ }),

/***/ "data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e";

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// no jsonp function
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!**************************!*\
  !*** ./src/bootstrap.js ***!
  \**************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var pyllar_env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/env */ "./node_modules/pyllar/env.js");
/* harmony import */ var pyllar_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/bootstrap */ "./node_modules/pyllar/bootstrap.js");
/* harmony import */ var pyllar_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pyllar/config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _homepage_HomePage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./homepage/HomePage */ "./src/homepage/HomePage.js");
/* harmony import */ var _cifra_CifraView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cifra/CifraView */ "./src/cifra/CifraView.js");
/* harmony import */ var _app_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./app.css */ "./src/app.css");









if (window.appSettings) {
    pyllar_config__WEBPACK_IMPORTED_MODULE_2__["default"].load(appSettings);
}

pyllar_config__WEBPACK_IMPORTED_MODULE_2__["default"].set('request.fetch', function (url, settings, success, error, next) {
    next();
});

new pyllar_bootstrap__WEBPACK_IMPORTED_MODULE_1__["default"]()
    .onLoad((boot) => {
        
    })
    .onReady((boot) => {
        const homepage = new _homepage_HomePage__WEBPACK_IMPORTED_MODULE_3__["default"]();
        homepage.render(pyllar_env__WEBPACK_IMPORTED_MODULE_0__.global.app.$element);
        homepage.setView(new _cifra_CifraView__WEBPACK_IMPORTED_MODULE_4__["default"]());
    })
    .load();
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFlBQVk7QUFDM0IsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFlBQVksNkNBQU07QUFDbEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVOztBQUVWO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFD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O1dBRUE7O1dBRUE7O1dBRUE7Ozs7O1dDckJBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBb0M7QUFDSztBQUNKO0FBQ3JDO0FBQzJDO0FBQ0Q7QUFDMUM7QUFDa0I7QUFDbEI7QUFDQTtBQUNBLElBQUkscURBQVE7QUFDWjtBQUNBO0FBQ0EscURBQVE7QUFDUjtBQUNBLENBQUM7QUFDRDtBQUNBLElBQUksd0RBQVM7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkJBQTZCLDBEQUFRO0FBQ3JDLHdCQUF3Qiw4Q0FBTTtBQUM5Qiw2QkFBNkIsd0RBQVM7QUFDdEMsS0FBSztBQUNMLFkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9hcHAuY3NzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2NpZnJhL0NpZnJhQW5pbWUuY3NzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2NpZnJhL0NpZnJhVmlldy5jc3MiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvaG9tZXBhZ2UvSG9tZVBhZ2UuY3NzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvYWN0aW9uLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9hbGlhcy5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvYXBwLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9hcnJheS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvYm9vdC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvYm9vdHN0cmFwLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9jYWxsYmFjay5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvY2xhc3MuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvY29uZmlnLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9kaWN0aW9uYXJ5LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9lbGVtZW50LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9lbnYuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2V2ZW50LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9leHByZXNzaW9uLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9mb3JfZGlyZWN0aXZlLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9mb3JlYWNoX2RpcmVjdGl2ZS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2luaXRpYWxpemUuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL21vZGVsLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9uYXRpdmVfZWxlbWVudC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvb2JqZWN0LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9wcm9taXNlLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9yYW5kb20uanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3JlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3N0YXRlbWVudC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvc3RyaW5nLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci90cmFuc2xhdGUuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3RyZWUuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3R5cGUuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3VybC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvdXJsX2hhc2guanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3ZpcnR1YWxfdHJlZS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9hcHAuY3NzP2E2NzIiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvY2lmcmEvQ2lmcmFBbmltZS5jc3M/ZDY5NCIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9jaWZyYS9DaWZyYVZpZXcuY3NzPzI0ZDQiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvaG9tZXBhZ2UvSG9tZVBhZ2UuY3NzPzE2MzMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9jaWZyYS9DaWZyYUFuaW1lLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2NpZnJhL0NpZnJhTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvY2lmcmEvQ2lmcmFTdHJlYW0uanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvY2lmcmEvQ2lmcmFWaWV3LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2hvbWVwYWdlL0hvbWVQYWdlLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL21hcmNhZG9yL01hcmNhZG9yLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL25vdGUvTm90ZS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9ub3RlL05vdGVDb2xsZWN0aW9uLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL3RyYW5zcG9ydGUvVHJhbnNwb3J0ZU1vZGVsLmpzIiwid2VicGFjazovL2NpZnJhLXV4L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NpZnJhLXV4L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2NpZnJhLXV4L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jaWZyYS11eC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NpZnJhLXV4L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2Jvb3RzdHJhcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgOnJvb3R7XHJcbiAgICAtLWFwcC1jb2xvcjogI2EwMDdmZjtcclxufVxyXG5cclxuLmJ0bi1wcmltYXJ5IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWFwcC1jb2xvcikgIWltcG9ydGFudDtcclxuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYXBwLWNvbG9yKSAhaW1wb3J0YW50O1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLDZDQUE2QztJQUM3Qyx5Q0FBeUM7QUFDN0NcIixcInNvdXJjZXNDb250ZW50XCI6W1wiOnJvb3R7XFxyXFxuICAgIC0tYXBwLWNvbG9yOiAjYTAwN2ZmO1xcclxcbn1cXHJcXG5cXHJcXG4uYnRuLXByaW1hcnkge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hcHAtY29sb3IpICFpbXBvcnRhbnQ7XFxyXFxuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYXBwLWNvbG9yKSAhaW1wb3J0YW50O1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fID0gbmV3IFVSTChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PVVURi04LCUzY3N2ZyB4bWxucz0lMjdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyNyB3aWR0aD0lMjcxNjAwJTI3IGhlaWdodD0lMjcxOTglMjclM2UlM2NkZWZzJTNlJTNjbGluZWFyR3JhZGllbnQgaWQ9JTI3YSUyNyB4MT0lMjc1MCUyNSUyNyB4Mj0lMjc1MCUyNSUyNyB5MT0lMjctMTAuOTU5JTI1JTI3IHkyPSUyNzEwMCUyNSUyNyUzZSUzY3N0b3Agc3RvcC1jb2xvcj0lMjclMjNmY2M5MDAlMjcgc3RvcC1vcGFjaXR5PSUyNy4yNSUyNyBvZmZzZXQ9JTI3MCUyNSUyNy8lM2UlM2NzdG9wIHN0b3AtY29sb3I9JTI3JTIzZmNjOTAwJTI3IG9mZnNldD0lMjcxMDAlMjUlMjcvJTNlJTNjL2xpbmVhckdyYWRpZW50JTNlJTNjL2RlZnMlM2UlM2NwYXRoIGZpbGw9JTI3dXJsJTI4JTIzYSUyOSUyNyBmaWxsLXJ1bGU9JTI3ZXZlbm9kZCUyNyBkPSUyN00uMDA1IDEyMUMzMTEgMTIxIDQwOS44OTgtLjI1IDgxMSAwYzQwMCAwIDUwMCAxMjEgNzg5IDEyMXY3N0gwcy4wMDUtNDggLjAwNS03N3olMjcvJTNlJTNjL3N2ZyUzZVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgLmNpZnJhLXByZXZpZXcge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGhlaWdodDogMTAwdmg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDExMDFEO1xyXG59XHJcblxyXG4uY2lmcmEtcHJldmlldyAuYm94IHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgdG9wOiAwcHg7XHJcbiAgICBib3R0b206IDBweDtcclxuICAgIGxlZnQ6IDBweDtcclxuICAgIHJpZ2h0OiAwcHg7XHJcbn1cclxuXHJcbi5jaWZyYS1wcmV2aWV3IC5ib3g6YmVmb3JlIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgd2lkdGg6IGNhbGMoMTAwJSArIDMwcHgpO1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMCUgKyAzMHB4KTtcclxuICAgIHRvcDogNTAlO1xyXG4gICAgbGVmdDogNTAlO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoLjcpO1xyXG4gICAgZmlsdGVyOiBibHVyKDApO1xyXG4gICAgb3BhY2l0eTogMTtcclxuICAgIHRyYW5zaXRpb246IGFsbCA0NTBtcyBjdWJpYy1iZXppZXIoMC4yMywgMSwgMC4zMiwgMSk7XHJcbn1cclxuXHJcbi5jaWZyYS1wcmV2aWV3IC5ib3g6aG92ZXI6YmVmb3JlIHtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDEpO1xyXG4gICAgZmlsdGVyOiBibHVyKDUwcHgpO1xyXG59XHJcblxyXG4uY2lmcmEtcHJldmlldyAuYm94LWlubmVyIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4uY2lmcmEtcHJldmlldyAuYm94OmJlZm9yZSxcclxuLmNpZnJhLXByZXZpZXcgLmJveC1pbm5lciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQwMDk5O1xyXG4gICAgYm94LXNoYWRvdzogMnB4IDJweCAxMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjU4KTtcclxuICAgIC8qIGJvcmRlci1yYWRpdXM6IDIxcHg7ICovXHJcblxyXG4gICAgYmFja2dyb3VuZC1pbWFnZTpcclxuICAgICAgICB1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19ffSksXHJcbiAgICAgICAgdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fX30pLFxyXG4gICAgICAgIHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX199KTtcclxuICAgIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteDtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogMTYwMHB4IDUwJTtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDAgMTMwJSwgLTUwcHggMTMwJSwgNTAwcHggMTMwJTtcclxuXHJcbiAgICBhbmltYXRpb246IDIwcyB3YXZlcyBsaW5lYXIgaW5maW5pdGUgZm9yd2FyZHM7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgd2F2ZXMge1xyXG4gICAgdG8ge1xyXG4gICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IDE2MDBweCAxMzAlLCAzMTUwcHggMTMwJSwgNTMwMHB4IDEzMCU7XHJcbiAgICB9XHJcbn1gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9jaWZyYS9DaWZyYUFuaW1lLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLGFBQWE7SUFDYix5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsV0FBVztJQUNYLFlBQVk7SUFDWixRQUFRO0lBQ1IsV0FBVztJQUNYLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsV0FBVztJQUNYLHdCQUF3QjtJQUN4Qix5QkFBeUI7SUFDekIsUUFBUTtJQUNSLFNBQVM7SUFDVCwwQ0FBMEM7SUFDMUMsZUFBZTtJQUNmLFVBQVU7SUFDVixvREFBb0Q7QUFDeEQ7O0FBRUE7SUFDSSx5Q0FBeUM7SUFDekMsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxZQUFZO0FBQ2hCOztBQUVBOztJQUVJLHlCQUF5QjtJQUN6Qiw4Q0FBOEM7SUFDOUMseUJBQXlCOztJQUV6Qjs7OytDQUc0ZTtJQUM1ZSwyQkFBMkI7SUFDM0IsMkJBQTJCO0lBQzNCLG1EQUFtRDs7SUFFbkQsNkNBQTZDO0FBQ2pEOztBQUVBO0lBQ0k7UUFDSSwwREFBMEQ7SUFDOUQ7QUFDSlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIuY2lmcmEtcHJldmlldyB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICBoZWlnaHQ6IDEwMHZoO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDExMDFEO1xcclxcbn1cXHJcXG5cXHJcXG4uY2lmcmEtcHJldmlldyAuYm94IHtcXHJcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgICB0b3A6IDBweDtcXHJcXG4gICAgYm90dG9tOiAwcHg7XFxyXFxuICAgIGxlZnQ6IDBweDtcXHJcXG4gICAgcmlnaHQ6IDBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmNpZnJhLXByZXZpZXcgLmJveDpiZWZvcmUge1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIGNvbnRlbnQ6ICcnO1xcclxcbiAgICB3aWR0aDogY2FsYygxMDAlICsgMzBweCk7XFxyXFxuICAgIGhlaWdodDogY2FsYygxMDAlICsgMzBweCk7XFxyXFxuICAgIHRvcDogNTAlO1xcclxcbiAgICBsZWZ0OiA1MCU7XFxyXFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKC43KTtcXHJcXG4gICAgZmlsdGVyOiBibHVyKDApO1xcclxcbiAgICBvcGFjaXR5OiAxO1xcclxcbiAgICB0cmFuc2l0aW9uOiBhbGwgNDUwbXMgY3ViaWMtYmV6aWVyKDAuMjMsIDEsIDAuMzIsIDEpO1xcclxcbn1cXHJcXG5cXHJcXG4uY2lmcmEtcHJldmlldyAuYm94OmhvdmVyOmJlZm9yZSB7XFxyXFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDEpO1xcclxcbiAgICBmaWx0ZXI6IGJsdXIoNTBweCk7XFxyXFxufVxcclxcblxcclxcbi5jaWZyYS1wcmV2aWV3IC5ib3gtaW5uZXIge1xcclxcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBoZWlnaHQ6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbi5jaWZyYS1wcmV2aWV3IC5ib3g6YmVmb3JlLFxcclxcbi5jaWZyYS1wcmV2aWV3IC5ib3gtaW5uZXIge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQwMDk5O1xcclxcbiAgICBib3gtc2hhZG93OiAycHggMnB4IDEycHggMCByZ2JhKDAsIDAsIDAsIDAuNTgpO1xcclxcbiAgICAvKiBib3JkZXItcmFkaXVzOiAyMXB4OyAqL1xcclxcblxcclxcbiAgICBiYWNrZ3JvdW5kLWltYWdlOlxcclxcbiAgICAgICAgdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD1VVEYtOCwlM2NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTYwMCcgaGVpZ2h0PScxOTgnJTNlJTNjZGVmcyUzZSUzY2xpbmVhckdyYWRpZW50IGlkPSdhJyB4MT0nNTAlMjUnIHgyPSc1MCUyNScgeTE9Jy0xMC45NTklMjUnIHkyPScxMDAlMjUnJTNlJTNjc3RvcCBzdG9wLWNvbG9yPSclMjNmY2M5MDAnIHN0b3Atb3BhY2l0eT0nLjI1JyBvZmZzZXQ9JzAlMjUnLyUzZSUzY3N0b3Agc3RvcC1jb2xvcj0nJTIzZmNjOTAwJyBvZmZzZXQ9JzEwMCUyNScvJTNlJTNjL2xpbmVhckdyYWRpZW50JTNlJTNjL2RlZnMlM2UlM2NwYXRoIGZpbGw9J3VybCglMjNhKScgZmlsbC1ydWxlPSdldmVub2RkJyBkPSdNLjAwNSAxMjFDMzExIDEyMSA0MDkuODk4LS4yNSA4MTEgMGM0MDAgMCA1MDAgMTIxIDc4OSAxMjF2NzdIMHMuMDA1LTQ4IC4wMDUtNzd6Jy8lM2UlM2Mvc3ZnJTNlXFxcIiksXFxyXFxuICAgICAgICB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PVVURi04LCUzY3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNjAwJyBoZWlnaHQ9JzE5OCclM2UlM2NkZWZzJTNlJTNjbGluZWFyR3JhZGllbnQgaWQ9J2EnIHgxPSc1MCUyNScgeDI9JzUwJTI1JyB5MT0nLTEwLjk1OSUyNScgeTI9JzEwMCUyNSclM2UlM2NzdG9wIHN0b3AtY29sb3I9JyUyM2ZjYzkwMCcgc3RvcC1vcGFjaXR5PScuMjUnIG9mZnNldD0nMCUyNScvJTNlJTNjc3RvcCBzdG9wLWNvbG9yPSclMjNmY2M5MDAnIG9mZnNldD0nMTAwJTI1Jy8lM2UlM2MvbGluZWFyR3JhZGllbnQlM2UlM2MvZGVmcyUzZSUzY3BhdGggZmlsbD0ndXJsKCUyM2EpJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnIGQ9J00uMDA1IDEyMUMzMTEgMTIxIDQwOS44OTgtLjI1IDgxMSAwYzQwMCAwIDUwMCAxMjEgNzg5IDEyMXY3N0gwcy4wMDUtNDggLjAwNS03N3onLyUzZSUzYy9zdmclM2VcXFwiKSxcXHJcXG4gICAgICAgIHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9VVRGLTgsJTNjc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzE2MDAnIGhlaWdodD0nMTk4JyUzZSUzY2RlZnMlM2UlM2NsaW5lYXJHcmFkaWVudCBpZD0nYScgeDE9JzUwJTI1JyB4Mj0nNTAlMjUnIHkxPSctMTAuOTU5JTI1JyB5Mj0nMTAwJTI1JyUzZSUzY3N0b3Agc3RvcC1jb2xvcj0nJTIzZmNjOTAwJyBzdG9wLW9wYWNpdHk9Jy4yNScgb2Zmc2V0PScwJTI1Jy8lM2UlM2NzdG9wIHN0b3AtY29sb3I9JyUyM2ZjYzkwMCcgb2Zmc2V0PScxMDAlMjUnLyUzZSUzYy9saW5lYXJHcmFkaWVudCUzZSUzYy9kZWZzJTNlJTNjcGF0aCBmaWxsPSd1cmwoJTIzYSknIGZpbGwtcnVsZT0nZXZlbm9kZCcgZD0nTS4wMDUgMTIxQzMxMSAxMjEgNDA5Ljg5OC0uMjUgODExIDBjNDAwIDAgNTAwIDEyMSA3ODkgMTIxdjc3SDBzLjAwNS00OCAuMDA1LTc3eicvJTNlJTNjL3N2ZyUzZVxcXCIpO1xcclxcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7XFxyXFxuICAgIGJhY2tncm91bmQtc2l6ZTogMTYwMHB4IDUwJTtcXHJcXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAxMzAlLCAtNTBweCAxMzAlLCA1MDBweCAxMzAlO1xcclxcblxcclxcbiAgICBhbmltYXRpb246IDIwcyB3YXZlcyBsaW5lYXIgaW5maW5pdGUgZm9yd2FyZHM7XFxyXFxufVxcclxcblxcclxcbkBrZXlmcmFtZXMgd2F2ZXMge1xcclxcbiAgICB0byB7XFxyXFxuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAxNjAwcHggMTMwJSwgMzE1MHB4IDEzMCUsIDUzMDBweCAxMzAlO1xcclxcbiAgICB9XFxyXFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgLmNpZnJhLXZpZXcgLm1hcmNhZG9yIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGJhY2tncm91bmQ6IHJlZDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDJweCAxMHB4O1xyXG4gICAgei1pbmRleDogLTE7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICB0cmFuc2l0aW9uOiB0b3AgMC4ycywgbGVmdCAwLjJzLCB3aWR0aCAwLjJzLCBoZWlnaHQgMC4ycztcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuXHJcbi5jaWZyYS12aWV3IGIge1xyXG4gICAgY29sb3I6ICNmNzA7XHJcbn1cclxuXHJcbi5jaWZyYS12aWV3Lm5vLWNob3JkcyBiIHtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuXHJcbn1cclxuXHJcbi5jaWZyYS12aWV3Lm5vLWNob3JkcyAubWFyY2Fkb3Ige1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG5cclxufVxyXG5cclxuLmNpZnJhLXZpZXcgaSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmYjM5O1xyXG4gICAgY29sb3I6ICM1NTU7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMzMzO1xyXG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xyXG59XHJcblxyXG4uY2lmcmEtdmlldyAudGl0dWxvIHtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGZvbnQtZmFtaWx5OiBSb2JvdG87XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWFwcC1jb2xvcik7XHJcbiAgICAvKlxyXG4qIENyZWF0ZWQgd2l0aCBodHRwczovL3d3dy5jc3MtZ3JhZGllbnQuY29tXHJcbiogR3JhZGllbnQgbGluazogaHR0cHM6Ly93d3cuY3NzLWdyYWRpZW50LmNvbS8/YzE9NWUyMWM3JmMyPWEzM2NkMyZndD1sJmdkPWR0bFxyXG4qL1xyXG4gICAgYmFja2dyb3VuZDogIzVFMjFDNztcclxuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM1RTIxQzcsICNBMzNDRDMpO1xyXG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDdweDtcclxuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDdweDtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbn1cclxuXHJcbi5jaWZyYS12aWV3IC5vcHRpb25zIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbn1cclxuXHJcbi5jaWZyYS12aWV3IC5vcHRpb25zIC5mb3JtLWNoZWNrIHtcclxuICAgIG1hcmdpbjogNXB4O1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY2lmcmEvQ2lmcmFWaWV3LmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLHdEQUF3RDtJQUN4RCxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksV0FBVztBQUNmOztBQUVBO0lBQ0ksV0FBVztJQUNYLHNCQUFzQjs7QUFFMUI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsc0JBQXNCOztBQUUxQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsc0JBQXNCO0lBQ3RCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGVBQWU7SUFDZixtQkFBbUI7SUFDbkIsaUJBQWlCO0lBQ2pCLDRCQUE0QjtJQUM1Qjs7O0NBR0g7SUFDRyxtQkFBbUI7SUFDbkIscURBQXFEO0lBQ3JELCtCQUErQjtJQUMvQiw4QkFBOEI7SUFDOUIsV0FBVztJQUNYLGFBQWE7SUFDYixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxXQUFXO0FBQ2ZcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmNpZnJhLXZpZXcgLm1hcmNhZG9yIHtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICBiYWNrZ3JvdW5kOiByZWQ7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG4gICAgcGFkZGluZzogMnB4IDEwcHg7XFxyXFxuICAgIHotaW5kZXg6IC0xO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxyXFxuICAgIHRyYW5zaXRpb246IHRvcCAwLjJzLCBsZWZ0IDAuMnMsIHdpZHRoIDAuMnMsIGhlaWdodCAwLjJzO1xcclxcbiAgICBkaXNwbGF5OiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4uY2lmcmEtdmlldyBiIHtcXHJcXG4gICAgY29sb3I6ICNmNzA7XFxyXFxufVxcclxcblxcclxcbi5jaWZyYS12aWV3Lm5vLWNob3JkcyBiIHtcXHJcXG4gICAgY29sb3I6ICNmZmY7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxyXFxuXFxyXFxufVxcclxcblxcclxcbi5jaWZyYS12aWV3Lm5vLWNob3JkcyAubWFyY2Fkb3Ige1xcclxcbiAgICBjb2xvcjogI2ZmZjtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXHJcXG5cXHJcXG59XFxyXFxuXFxyXFxuLmNpZnJhLXZpZXcgaSB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZiMzk7XFxyXFxuICAgIGNvbG9yOiAjNTU1O1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMzMzO1xcclxcbiAgICBmb250LXN0eWxlOiBub3JtYWw7XFxyXFxufVxcclxcblxcclxcbi5jaWZyYS12aWV3IC50aXR1bG8ge1xcclxcbiAgICBmb250LXNpemU6IDE2cHg7XFxyXFxuICAgIGZvbnQtZmFtaWx5OiBSb2JvdG87XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcclxcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hcHAtY29sb3IpO1xcclxcbiAgICAvKlxcclxcbiogQ3JlYXRlZCB3aXRoIGh0dHBzOi8vd3d3LmNzcy1ncmFkaWVudC5jb21cXHJcXG4qIEdyYWRpZW50IGxpbms6IGh0dHBzOi8vd3d3LmNzcy1ncmFkaWVudC5jb20vP2MxPTVlMjFjNyZjMj1hMzNjZDMmZ3Q9bCZnZD1kdGxcXHJcXG4qL1xcclxcbiAgICBiYWNrZ3JvdW5kOiAjNUUyMUM3O1xcclxcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNUUyMUM3LCAjQTMzQ0QzKTtcXHJcXG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDdweDtcXHJcXG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogN3B4O1xcclxcbiAgICBjb2xvcjogI2ZmZjtcXHJcXG4gICAgcGFkZGluZzogMTBweDtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmNpZnJhLXZpZXcgLm9wdGlvbnMge1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uY2lmcmEtdmlldyAub3B0aW9ucyAuZm9ybS1jaGVjayB7XFxyXFxuICAgIG1hcmdpbjogNXB4O1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5ob21lcGFnZSAubWVudSB7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hcHAtY29sb3IpO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTBweDtcclxuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDEwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcblxyXG4uaG9tZXBhZ2UgLm1lbnUgYXtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvaG9tZXBhZ2UvSG9tZVBhZ2UuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksNEJBQTRCO0lBQzVCLFdBQVc7SUFDWCxnQ0FBZ0M7SUFDaEMsK0JBQStCO0lBQy9CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFdBQVc7QUFDZlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIuaG9tZXBhZ2UgLm1lbnUge1xcclxcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hcHAtY29sb3IpO1xcclxcbiAgICBjb2xvcjogI2ZmZjtcXHJcXG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDEwcHg7XFxyXFxuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDEwcHg7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XFxyXFxufVxcclxcblxcclxcbi5ob21lcGFnZSAubWVudSBhe1xcclxcbiAgICBjb2xvcjogI2ZmZjtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgaWYgKCF1cmwpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIHVybCA9IFN0cmluZyh1cmwuX19lc01vZHVsZSA/IHVybC5kZWZhdWx0IDogdXJsKTtcblxuICAvLyBJZiB1cmwgaXMgYWxyZWFkeSB3cmFwcGVkIGluIHF1b3RlcywgcmVtb3ZlIHRoZW1cbiAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgdXJsID0gdXJsLnNsaWNlKDEsIC0xKTtcbiAgfVxuICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgdXJsICs9IG9wdGlvbnMuaGFzaDtcbiAgfVxuXG4gIC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcbiAgaWYgKC9bXCInKCkgXFx0XFxuXXwoJTIwKS8udGVzdCh1cmwpIHx8IG9wdGlvbnMubmVlZFF1b3Rlcykge1xuICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQodXJsLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKS5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKSwgXCJcXFwiXCIpO1xuICB9XG4gIHJldHVybiB1cmw7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiaW1wb3J0IFBpQ2xhc3MgZnJvbSAnLi9jbGFzcydcbmltcG9ydCBQaVJlcXVlc3QgZnJvbSAnLi9yZXF1ZXN0J1xuaW1wb3J0IFBpUHJvbWlzZSBmcm9tICcuL3Byb21pc2UnXG5pbXBvcnQgUGlUeXBlIGZyb20gJy4vdHlwZSdcbmltcG9ydCBQaVVybCBmcm9tICcuL3VybCdcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlBY3Rpb24gZXh0ZW5kcyBQaUNsYXNzIHtcbiAgICAjcmVxdWVzdCA9IG5ldyBQaVJlcXVlc3QoKTtcbiAgICAjcHJvbWlzZSA9IG5ldyBQaVByb21pc2UoKTtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucylcblxuICAgICAgICB0aGlzLl9sb2FkKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBhIHByb21pc2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIGdldCBwcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaGFkb3cgbWV0aG9kXG4gICAgICovXG4gICAgaW52b2tlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbE1vZGVsTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgcHJvY2Vzc0Vycm9yUmVzcG9uc2UoKSB7XG4gICAgICAgIHRoaXMuI3Byb21pc2UucmVqZWN0LmFwcGx5KHRoaXMuI3Byb21pc2UsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgcHJvY2Vzc1N1Y2Nlc3NSZXNwb25zZShkYXRhLCBwYWdpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lnbm9yZV9yZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy4jcHJvbWlzZS5yZXNvbHZlKHRoaXMubW9kZWwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFBpVHlwZS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBhcnIgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5tb2RlbC5jcmVhdGUoKS5pbml0V2l0aEpzb24oZGF0YVtpXSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobW9kZWwgaW5zdGFuY2VvZiBQaVByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwub2soKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKG1vZGVsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChtb2RlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvbWlzZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNwcm9taXNlLnJlc29sdmUoYXJyLCBwYWdpbmcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBQaVByb21pc2Uud2FpdChwcm9taXNlcykub2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNwcm9taXNlLnJlc29sdmUoYXJyLCBwYWdpbmcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLm1vZGVsLmNyZWF0ZSgpLmluaXRXaXRoSnNvbihkYXRhKTtcblxuICAgICAgICAgICAgaWYgKG1vZGVsIGluc3RhbmNlb2YgUGlQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgbW9kZWwub2soKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jcHJvbWlzZS5yZXNvbHZlKGRhdGEsIHBhZ2luZyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuI3Byb21pc2UucmVzb2x2ZShtb2RlbCwgcGFnaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9sb2FkKCkge1xuICAgICAgICB0aGlzLl9wYXJzZVN0bXQodGhpcy5hY3Rpb25TdG10KTtcbiAgICAgICAgdGhpcy5fYWRkTW9kZWxNZXRob2QoKTtcbiAgICB9XG5cbiAgICBfYWRkTW9kZWxNZXRob2QoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5faXNfc3RhdGljKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLmNvbnN0cnVjdG9yW3RoaXMuYWN0aW9uTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gbmV3IFBpQWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uTmFtZTogc2VsZi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TdG10OiBzZWxmLnN0bXQsXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiBzZWxmLm1vZGVsLmNsb25lKClcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBhY3Rpb24uaW52b2tlLmFwcGx5KGFjdGlvbiwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKG9rLCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLm9rKG9rKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vZGVsW3RoaXMuYWN0aW9uTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlID0gc2VsZi5pbnZva2UuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgob2ssIGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5vayhvayk7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfY2FsbE1vZGVsTWV0aG9kKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy4jcHJvbWlzZSA9IG5ldyBQaVByb21pc2UoKTtcblxuICAgICAgICBpZiAoUGlUeXBlLmlzT2JqZWN0KGFyZ3NbMF0pKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLmluamVjdChhcmdzWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tZXRob2QgPT0gJ0dFVCcgfHwgdGhpcy5fbWV0aG9kID09ICdPUFRJT05TJykge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlUmVxdWVzdEdldC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tZXRob2QgPT0gJ1BVVCcgfHwgdGhpcy5fbWV0aG9kID09ICdQT1NUJyB8fCB0aGlzLl9tZXRob2QgPT0gJ0RFTEVURScgfHwgdGhpcy5fbWV0aG9kID09ICdQQVRIJykge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlUmVxdWVzdFBvc3QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4jcHJvbWlzZTtcbiAgICB9XG5cbiAgICBfY3JlYXRlUmVxdWVzdEdldCguLi5hcmdzKSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLl9jcmVhdGVVcmwoLi4uYXJncyk7XG5cbiAgICAgICAgaWYgKHRoaXMuI3JlcXVlc3QuaXNTZW5kaW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuI3JlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW9kZWwucmVxdWVzdFdpbGxHZXQodXJsKTtcblxuICAgICAgICB0aGlzLiNyZXF1ZXN0LmdldEpzb24odXJsKVxuICAgICAgICAgICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnJlc3BvbnNlU3VjY2Vzc1dpbGxMb2FkLmFwcGx5KHRoaXMubW9kZWwsIFt0aGlzLCB1cmwsIGpzb24uZGF0YSwganNvbi5wYWdpbmddKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGpzb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXJnc1swXSBpbnN0YW5jZW9mIFR5cGVFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwucmVzcG9uc2VFcnJvcldpbGxMb2FkLmFwcGx5KHRoaXMubW9kZWwsIFt0aGlzLCB1cmwsIGpzb24uZGF0YSwganNvbi5wYWdpbmddKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubW9kZWwucmVxdWVzdERpZEdldCh1cmwpO1xuICAgIH1cblxuICAgIF9jcmVhdGVSZXF1ZXN0UG9zdCguLi5hcmdzKSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLl9jcmVhdGVVcmwoLi4uYXJncyk7XG4gICAgICAgIGxldCBqc29uID0gdGhpcy5tb2RlbC50b0pzb24oKTtcblxuICAgICAgICBpZiAodGhpcy4jcmVxdWVzdC5pc1NlbmRpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy4jcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tb2RlbC5yZXF1ZXN0V2lsbFBvc3QoanNvbiwgdXJsKTtcbiAgICAgICAgdGhpcy4jcmVxdWVzdC5zZXRNZXRob2QodGhpcy5fbWV0aG9kKS5wb3N0SnNvbih1cmwsIGpzb24pXG4gICAgICAgICAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwucmVzcG9uc2VTdWNjZXNzV2lsbExvYWQuYXBwbHkodGhpcy5tb2RlbCwgW3RoaXMsIHVybCwganNvbi5kYXRhLCBqc29uLnBhZ2luZ10pO1xuICAgICAgICAgICAgfSkuY2F0Y2goKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXJnc1swXSBpbnN0YW5jZW9mIFR5cGVFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwucmVzcG9uc2VFcnJvcldpbGxMb2FkLmFwcGx5KHRoaXMubW9kZWwsIFt0aGlzLCB1cmwsIGpzb24uZGF0YSwganNvbi5wYWdpbmddKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubW9kZWwucmVxdWVzdERpZFBvc3QoanNvbiwgdXJsKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlVXJsKC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IGFjdGlvbiA9IHRoaXMuX2dldEFjdGlvbiguLi5hcmdzKTtcbiAgICAgICAgbGV0IHVybCA9ICcnO1xuXG4gICAgICAgIGlmICh0aGlzLm1vZGVsLmdldEJhc2VVcmwoKSBpbnN0YW5jZW9mIFBpVXJsKSB7XG4gICAgICAgICAgICB1cmwgPSBQaVVybC5jcmVhdGUodGhpcy5tb2RlbC5nZXRCYXNlVXJsKCkpLnBhdGgoYWN0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmdldEJhc2VVcmwoKS5pbmRleE9mKCdodHRwJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIHVybCA9IFBpVXJsLmNyZWF0ZSh0aGlzLm1vZGVsLmdldEJhc2VVcmwoKSArIGFjdGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVybCA9IFBpVXJsLmNyZWF0ZSgnbG9jYWxob3N0JywgdGhpcy5tb2RlbC5nZXRCYXNlVXJsKCkgKyBhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG5cbiAgICBfZ2V0QWN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdXJsLnJlcGxhY2UoL1xcOlxcdytbXFwoXFx3KlxcKV0qL2dpLCAocGF0dGVybikgPT4ge1xuICAgICAgICAgICAgbGV0IHByb3BlcnR5ID0gcGF0dGVybi5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICBsZXQgbW9kZWxWYWx1ZSA9IHRoaXMubW9kZWxbcHJvcGVydHldIHx8ICcnO1xuXG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbFZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGFyZ3NbY291bnQrK10gfHwgbW9kZWxWYWx1ZSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3BhcnNlU3RtdChzdG10KSB7XG4gICAgICAgIGNvbnN0IHAgPSBzdG10LnNwbGl0KCc6LycpO1xuICAgICAgICBjb25zdCBtZXRob2QgPSBwWzBdO1xuICAgICAgICBjb25zdCBwYXRoID0gcFsxXTtcblxuICAgICAgICB0aGlzLl9pc19zdGF0aWMgPSBmYWxzZTtcbiAgICAgICAgaWYgKG1ldGhvZC5pbmRleE9mKCdzdGF0aWMnKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9pc19zdGF0aWMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faWdub3JlX3Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgIGlmIChtZXRob2QuaW5kZXhPZignficpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX2lnbm9yZV9yZXNwb25zZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cmwgPSBwYXRoLmxlbmd0aCA/ICcvJyArIHBhdGggOiAnJztcblxuICAgICAgICBpZiAoc3RtdC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ0dFVCcpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX21ldGhvZCA9ICdHRVQnO1xuICAgICAgICB9IGVsc2UgaWYgKHN0bXQudG9VcHBlckNhc2UoKS5pbmRleE9mKCdQT1NUJykgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICB9IGVsc2UgaWYgKHN0bXQudG9VcHBlckNhc2UoKS5pbmRleE9mKCdQVVQnKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRob2QgPSAnUFVUJztcbiAgICAgICAgfSBlbHNlIGlmIChzdG10LnRvVXBwZXJDYXNlKCkuaW5kZXhPZignREVMRVRFJykgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fbWV0aG9kID0gJ0RFTEVURSc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RtdC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ1BBVEgnKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRob2QgPSAnUEFUSCc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RtdC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ09QVElPTlMnKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRob2QgPSAnT1BUSU9OUyc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fdXJsLmluZGV4T2YoJz8nKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRob2QgPSAnR0VUJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgfVxuICAgIH1cblxufTsiLCJpbXBvcnQgUGlEaWN0aW9uYXJ5IGZyb20gXCIuL2RpY3Rpb25hcnlcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlBcyB7XG4gICAgI2FsaWFzID0gbmV3IFBpRGljdGlvbmFyeSgpO1xuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgYSBsaXN0YSBkZSBwYXJhbWV0cm9zIGFvIGNvbmp1bnRvXG4gICAgICogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgYWRkKCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHRocm93IFwiUGlBczogbnVtZXJvIGluc3VsZmljaWVudGUgZGUgcGFyYW1ldHJvc1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuI2FsaWFzLmV4aXN0S2V5KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgIHRocm93IFwiUGlBczogZXN0ZSBhcGVsaWRvIGphIGZvaSBkZWZpbmlkbzogXCIgKyBhcmd1bWVudHNbMF07XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmFsdWUgPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4jYWxpYXMuZXhpc3RLZXkoYXMpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gdGhpcy4jYWxpYXMuZ2V0VmFsdWUoYXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBhcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuI2FsaWFzLmFkZChhcmd1bWVudHNbMF0sIHZhbHVlKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHVhbGl6YSBvIGNvbmp1bnRvXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHRocm93IFwiUGlBczogbnVtZXJvIGluc3VsZmljaWVudGUgZGUgcGFyYW1ldHJvc1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuI2FsaWFzLmV4aXN0S2V5KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGFyZ3VtZW50c1swXSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmFsdWUgPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4jYWxpYXMuZXhpc3RLZXkoYXMpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gdGhpcy4jYWxpYXMuZ2V0VmFsdWUoYXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBhcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuI2FsaWFzLmFkZChhcmd1bWVudHNbMF0sIHZhbHVlKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdW0gaXRlbSBkbyBjb25qdW50b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhcyAtIEl0ZW1cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICByZW1vdmUoYXMpIHtcbiAgICAgICAgdGhpcy4jYWxpYXMucmVtb3ZlKGFzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHNlIGV4aXN0ZSBvIGl0ZW0gbm8gY29uanVudG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXMgXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZXhpc3QoYXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2FsaWFzLmV4aXN0S2V5KGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIG8gdmFsb3IgZG8gaXRlbVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhcyBcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIGdldFZhbHVlKGFzKSB7XG4gICAgICAgIGxldCB2ID0gdGhpcy4jYWxpYXMuZ2V0VmFsdWUoYXMpO1xuXG4gICAgICAgIGlmICh0aGlzLmV4aXN0KGFzKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy4jYWxpYXMuZXhpc3RLZXkodikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKHYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgIH1cbiAgICB9XG5cbn07IiwiaW1wb3J0IFBpQ2xhc3MgZnJvbSAnLi9jbGFzcydcbmltcG9ydCBQaVVybCBmcm9tICcuL3VybCdcbmltcG9ydCB7IHJlZ2lzdGVyLCBsb2NhdGlvbiB9IGZyb20gJy4vZW52J1xuaW1wb3J0IFBpVXJsSGFzaCBmcm9tICcuL3VybF9oYXNoJztcblxuaWYgKGxvY2F0aW9uKCkuaG9zdC5sZW5ndGggPT0gMCkge1xuICAgIFBpVXJsLmFkZCgnbG9jYWxob3N0JywgJ2h0dHA6Ly9sb2NhbGhvc3QnKTtcbn0gZWxzZSB7XG4gICAgUGlVcmwuYWRkKCdsb2NhbGhvc3QnLCBQaVVybC5jcmVhdGUobG9jYXRpb24oKS50b1N0cmluZygpKS5ocmVmKCkpO1xufVxuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUFwcCBleHRlbmRzIFBpQ2xhc3Mge1xuICAgIHBhZ2UgPSBudWxsO1xuICAgIHNlcnZpY2VzID0gW107XG4gICAgX3RvdGFsUm91dGVOb3RGb3VuZCA9IDA7XG5cbiAgICBpbml0KCl7XG4gICAgICAgIHN1cGVyLmluaXQoKTtcblxuICAgICAgICBQaVVybEhhc2gub25XaWxsQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3RvdGFsUm91dGVOb3RGb3VuZCA9IDA7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3BvID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgcmVnaXN0ZXIoY3BvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFkZFNlcnZpY2VzKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VydmljZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgICAgc2VydmljZS5vblJvdXRlTm90Rm91bmQoKHJvdXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG90YWxSb3V0ZU5vdEZvdW5kKys7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdG90YWxSb3V0ZU5vdEZvdW5kID09IHRoaXMuc2VydmljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3JvdXRlTm90Rm91bmQocm91dGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnNlcnZpY2VzLnB1c2goc2VydmljZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgXG4gICAgc3RhcnRTZXJ2aWNlcygpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlcnZpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJ2aWNlID0gdGhpcy5zZXJ2aWNlc1tpXTtcbiAgICAgICAgICAgIHNlcnZpY2Uuc3RhcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN0b3BTZXJ2aWNlcygpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlcnZpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJ2aWNlID0gdGhpcy5zZXJ2aWNlc1tpXTtcbiAgICAgICAgICAgIHNlcnZpY2Uuc3RvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2V0UGFnZShwYWdlKSB7XG4gICAgICAgIGlmICh0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwYWdlLnJlbmRlcih0aGlzLmVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0UGFnZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5wYWdlO1xuICAgIH1cblxuICAgIG9wZW5Nb2RhbChtb2RhbCkge1xuICAgICAgICBtb2RhbC5yZW5kZXIodGhpcy5lbGVtZW50LCB0cnVlKTtcbiAgICB9XG5cbiAgICAjcm91dGVOb3RGb3VuZChyb3V0ZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VydmljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZpY2UgPSB0aGlzLnNlcnZpY2VzW2ldO1xuICAgICAgICAgICAgaWYgKHNlcnZpY2Uucm91dGVOb3RGb3VuZCkge1xuICAgICAgICAgICAgICAgIHNlcnZpY2Uucm91dGVOb3RGb3VuZChyb3V0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbn07IiwiLyoqXG4gKiBAY2xhc3NcbiAqIEBuYW1lIFBpQXJyYXlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlBcnJheSB7XG4gICAgc3RhdGljIGFkZE1ldGhvZChhcnJheSwgbmFtZSwgY2IpIHtcbiAgICAgICAgY29uc3QgY2JzID0gW107XG4gICAgICAgIGlmIChhcnJheVtuYW1lXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNicy5wdXNoKGNiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcnJheSwgbmFtZSwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICguLi5wYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBjYi5jYWxsKGFycmF5LCAuLi5wYXJhbXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbn07IiwiaW1wb3J0IFBpQ29uZmlnIGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IHsgZ2xvYmFsLCBhcHAgfSBmcm9tICcuL2VudidcbmltcG9ydCBQaUFwcCBmcm9tICcuL2FwcCdcbmltcG9ydCBQaVRyZWUgZnJvbSAnLi90cmVlJ1xuaW1wb3J0IFBpVmlydHVhbFRyZWUgZnJvbSAnLi92aXJ0dWFsX3RyZWUnXG5pbXBvcnQgUGlDbGFzcyBmcm9tICcuL2NsYXNzJ1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUJvb3QgZXh0ZW5kcyBQaUNsYXNzIHtcblxuICAgIGNyZWF0ZUFwcCgpIHtcbiAgICAgICAgaWYgKGFwcCgpID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZ2xvYmFsLmFwcCA9IG5ldyBQaUFwcCgpO1xuICAgICAgICAgICAgZ2xvYmFsLmFwcC5fc2NvcGUgPSB7IGNvbnRleHQ6IGFwcCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmFwcCA9IG5ldyBBcHAoKTtcbiAgICAgICAgICAgIGdsb2JhbC5hcHAuX3Njb3BlID0geyBjb250ZXh0OiBhcHAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnbG9iYWwuYXBwO1xuICAgIH1cblxuICAgIGxvYWRBcHAoKSB7XG4gICAgICAgIGlmIChQaUNvbmZpZy5nZXQoJ2FwcC5wYXJzZS5lbmFibGUnKSkge1xuICAgICAgICAgICAgdGhpcy4jY3JlYXRlVmlydHVhbFRyZWUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICNjcmVhdGVWaXJ0dWFsVHJlZSgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUGlDb25maWcuZ2V0KCdhcHAucGFyc2Uuc2VsZWN0b3InKSk7XG4gICAgICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGBQaUJvb3Q6IE7Do28gZm9pIHBvc3PDrXZlbCBlbmNvbnRyYXIgbyBlbGVtZW50byBwZWxvIHNlbGV0b3IgaW5mb3JtYWRvICR7UGlDb25maWcuZ2V0KCdhcHAucGFyc2Uuc2VsZWN0b3InKX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgcm9vdCA9IFBpVHJlZS5wYXJzZShlbGVtZW50LmlubmVySFRNTCk7XG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kKHJvb3QpO1xuXG4gICAgICAgIGNvbnN0IHZ0cmVlID0gbmV3IFBpVmlydHVhbFRyZWUoZWxlbWVudCwgYXBwKCkuX3Njb3BlLCBhcHAoKSk7XG4gICAgICAgIHZ0cmVlLmxvYWQoKTtcblxuICAgICAgICBhcHAoKS5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgYXBwKCkuJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuICAgIH1cbn07IiwiaW1wb3J0IFBpQm9vdCBmcm9tICcuL2Jvb3QnXG5pbXBvcnQgUGlJbml0IGZyb20gJy4vaW5pdGlhbGl6ZSdcbmltcG9ydCBQaUNhbGxiYWNrIGZyb20gJy4vY2FsbGJhY2snXG5pbXBvcnQgXyBmcm9tICcuL25hdGl2ZV9lbGVtZW50J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCb290c3RyYXAge1xuICAgICNob29rcyA9IG5ldyBQaUNhbGxiYWNrKCk7XG5cbiAgICBvbkluaXQoZm4pe1xuICAgICAgICB0aGlzLiNob29rcy5hZGQoJ2luaXQnLCBmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgb25Mb2FkKGZuKXtcbiAgICAgICAgdGhpcy4jaG9va3MuYWRkKCdsb2FkJywgZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG9uUmVhZHkoZm4pe1xuICAgICAgICB0aGlzLiNob29rcy5hZGQoJ3JlYWR5JywgZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWQoKSB7XG4gICAgICAgIGNvbnN0IGJvb3QgPSBuZXcgUGlCb290KCk7XG4gICAgICAgIGxldCBhcHAgPSBudWxsO1xuXG4gICAgICAgIFBpSW5pdFxuICAgICAgICAgICAgLmluaXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuI2hvb2tzLnRyaWdnZXIoJ2luaXQnLCBhcHApO1xuICAgICAgICAgICAgICAgIGFwcCA9IGJvb3QuY3JlYXRlQXBwKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXJ0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNob29rcy50cmlnZ2VyKCdsb2FkJywgYXBwKTtcbiAgICAgICAgICAgICAgICBib290LmxvYWRBcHAoKTtcbiAgICAgICAgICAgICAgICB0aGlzLiNob29rcy50cmlnZ2VyKCdyZWFkeScsIGFwcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IFBpSW5pdC5sb2FkKCk7XG4gICAgfVxufSIsIi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpQ2FsbGJhY2sge1xuICAgICNsaXN0ID0gW107XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdG9kb3Mgb3MgbGlzdGVuZXJzXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpQ2FsbGJhY2t9XG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuI2xpc3QgPSBbXTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSB1bSBjYWxsYmFja1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTm9tZSBkbyBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRnVuw6fDo28gZGUgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY3R4IC0gQ29udGV4dG8gb25kZSBvIGNhbGxiYWNrIHNlcsOhIGNoYW1hZG9cbiAgICAgKiBAcmV0dXJucyB7UGlDYWxsYmFja31cbiAgICAgKi9cbiAgICBhZGQobmFtZSwgZm4sIGN0eCkge1xuICAgICAgICBpZiAodGhpcy4jbGlzdFtuYW1lXSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLiNsaXN0W25hbWVdID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiNsaXN0W25hbWVdLnB1c2goeyBuYW1lOiBuYW1lLCBmbjogZm4sIGN0eDogY3R4IH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB1bSBjYWxsYmFjayBwb3Igbm9tZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTm9tZSBkbyBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUNhbGxiYWNrfVxuICAgICAqL1xuICAgIHJlbW92ZShuYW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5leGlzdChuYW1lKSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgdGhpcy4jbGlzdFtuYW1lXSA9IFtdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZlcmlmaWNhIHNlIGV4aXN0ZSB1bSBjYWxsYmFjayBhZGljaW9uYWRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOb21lIGRvIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZXhpc3QobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy4jbGlzdFtuYW1lXSAhPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybmEgdW1hIGxpc3RhIGNvbSB0b2RvcyBvcyBjYWxsYmFja3MgYWRpY2lvbmFkbyBwZWxvIG5vbWVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5vbWUgZG8gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7YXJyYXl9XG4gICAgICovXG4gICAgZ2V0KG5hbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmV4aXN0KG5hbWUpKSByZXR1cm4gW107XG4gICAgICAgIHJldHVybiB0aGlzLiNsaXN0W25hbWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIHBhcmEgZ2V0KG5hbWUpXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOb21lIGRvIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge2FycmF5fVxuICAgICAqL1xuICAgIGZpbmRBbGwobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQobmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcGFyYSBvcyBjYWxsYmFjayBhZGljaW9uYWRvcyBwZWxvIG5vbWVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5vbWVcbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IGFyZ3MgLSBMaXN0YSBkZSBwYXJhbWV0cm9zIHBhc3NhZG8gcGFyYSBvIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICB0cmlnZ2VyKG5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuZmluZEFsbChuYW1lKTtcbiAgICAgICAgbGV0IHIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gYXJyW2ldO1xuXG4gICAgICAgICAgICByID0gaXRlbS5mbi5hcHBseShpdGVtLmN0eCwgYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG59OyIsImltcG9ydCBQaVR5cGUgZnJvbSBcIi4vdHlwZVwiO1xuaW1wb3J0IFBpT2JqZWN0IGZyb20gXCIuL29iamVjdFwiXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpQ2xhc3Mge1xuICAgICNwYXJhbWV0ZXJzID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5pbnN0YW5jZXMoLi4uYXJncyk7XG5cbiAgICAgICAgaWYgKFBpVHlwZS5pc09iamVjdChhcmdzWzBdKSkge1xuICAgICAgICAgICAgUGlPYmplY3QuZXh0ZW5kQW5kQ2FsbCh0aGlzLCBhcmdzWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuI3BhcmFtZXRlcnMgPSBhcmdzWzBdID09IHVuZGVmaW5lZCA/IHt9IDogYXJnc1swXTtcblxuICAgICAgICB0aGlzLmluaXQoLi4uYXJncyk7XG4gICAgfVxuXG4gICAgaW5zdGFuY2VzKCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBvIHBhcmFtZXRybyBmb3JuZWNpZG8gbmEgY3JpYcOnw6NvIGRvIG9iamV0b1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgZ2V0IHBhcmFtZXRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNwYXJhbWV0ZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluamV0YSBhcyBwcm9wcmllZGFkZXMgZG8gb2JqZXRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtqc29ufSBqc29uIC0gT2JqZXRvIGEgc2VyIGluamV0YWRvIG5vIG9iamV0byBhdHVhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGluamVjdChqc29uKSB7XG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGpzb24pIHtcbiAgICAgICAgICAgIHRoaXNbcHJvcGVydHldID0ganNvbltwcm9wZXJ0eV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpbml0KCkge1xuXG4gICAgfVxuXG4gICAganNvbldpbGxDb252ZXJ0KCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydGUgbyBvYmpldG8gZW0gdW0ganNvblxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgdG9Kc29uKCkge1xuICAgICAgICB0aGlzLmpzb25XaWxsQ29udmVydCgpO1xuICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcykpO1xuICAgICAgICB0aGlzLmpzb25EaWRDb252ZXJ0KGpzb24pO1xuXG4gICAgICAgIHJldHVybiBqc29uO1xuICAgIH1cblxuICAgIGpzb25EaWRDb252ZXJ0KGpzb24pIHtcblxuICAgIH1cblxuICAgIGNsb25lV2lsbExvYWQoKSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9uYSBvIG9iamV0byBhdHVhbFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICB0aGlzLmNsb25lV2lsbExvYWQoKTtcbiAgICAgICAgbGV0IGpzb24gPSB0aGlzLnRvSnNvbigpO1xuICAgICAgICBsZXQgY2xvbmUgPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcihqc29uKTtcbiAgICAgICAgdGhpcy5jbG9uZURpZExvYWQoY2xvbmUpO1xuXG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBjbG9uZURpZExvYWQoKSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmlhIHVtYSBub3ZhIGluc3RhbmNpYSBkYSBjbGFzc2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IGFyZ3MgXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZSguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyguLi5hcmdzKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoLi4uYXJncyk7XG4gICAgfVxufTsiLCJpbXBvcnQgUGlUeXBlIGZyb20gJy4vdHlwZSdcbmltcG9ydCBQaUNsYXNzIGZyb20gXCIuL2NsYXNzXCI7XG5pbXBvcnQgUGlFdmVudCBmcm9tIFwiLi9ldmVudFwiO1xuaW1wb3J0IFBpU3RyaW5nIGZyb20gJy4vc3RyaW5nJ1xuaW1wb3J0IFBpTW9kZWwgZnJvbSAnLi9tb2RlbCdcbmltcG9ydCBQaU9iamVjdCBmcm9tICcuL29iamVjdCdcbmltcG9ydCBQaVRyZWUgZnJvbSBcIi4vdHJlZVwiO1xuaW1wb3J0IFBpVmlydHVhbFRyZWUgZnJvbSBcIi4vdmlydHVhbF90cmVlXCI7XG5pbXBvcnQgeyBnbG9iYWwgfSBmcm9tICcuL2VudidcbmltcG9ydCB7IHJlZ2lzdGVyIH0gZnJvbSAnLi9lbnYnO1xuaW1wb3J0IFBpUHJvbWlzZSBmcm9tICcuL3Byb21pc2UnO1xuaW1wb3J0IFBpUmFuZG9tIGZyb20gJy4vcmFuZG9tJztcblxuY29uc3QgJCA9IGdsb2JhbC4kO1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUNvbXBvbmVudCBleHRlbmRzIFBpQ2xhc3Mge1xuICAgIGV2ZW50ID0gbmV3IFBpRXZlbnQoKTtcblxuICAgICN2dHJlZXMgPSBbXTtcbiAgICAjd2F0Y2hzID0gW107XG4gICAgI3Njb3BlID0gbnVsbDtcbiAgICAjJGVsZW1lbnQgPSBudWxsO1xuICAgICNpc1BhcmVudEVsZW1lbnQgPSBmYWxzZTtcbiAgICAjZWxlbWVudElkID0gJyc7XG5cbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3MpO1xuXG4gICAgICAgIHRoaXMuI3Njb3BlID0ge1xuICAgICAgICAgICAgY29udGV4dDogdGhpc1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuI2VsZW1lbnRJZCA9IFBpUmFuZG9tLnV1aWQoJ3h4LXh4Jyk7XG4gICAgfVxuXG4gICAgaW5pdCguLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyLmluaXQoLi4uYXJncyk7XG5cbiAgICAgICAgdGhpcy5fbG9hZFByb21pc2UgPSBuZXcgUGlQcm9taXNlKCk7XG4gICAgICAgIHRoaXMud2lsbExvYWQodGhpcy5fbG9hZFByb21pc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluamV0YSBvIG1vZGVsbyBlbSB0b2RvcyBvcyBlbGVtZW50b3MgZGUgcGFnaW5hIGNvbSBvIGF0cmlidXRvICdkYXRhLW1vZGVsJ1xuICAgICAqIENhc28gbyBwYXJhbWV0cm8gc2VqYSB1bSBqc29uLCBzZXUgdmFsb3Igc2Vyw6EgZW1idXRpZG8gbm8gY29tcG9uZW50XG4gICAgICogXG4gICAgICogQHBhcmFtIHtQaU1vZGVsfSBtb2RlbCAtIE1vZGVsbyBhIHNlciBpbmpldGFkb1xuICAgICAqIEByZXR1cm5zIHtQaUNvbXBvbmVudH1cbiAgICAgKi9cbiAgICBpbmplY3QobW9kZWwpIHtcbiAgICAgICAgaWYgKG1vZGVsIGluc3RhbmNlb2YgUGlNb2RlbCkge1xuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBQaVN0cmluZy5jbGlwcyh0aGlzLnZpZXcsICdkYXRhLW1vZGVsPVwiJywgJ1wiJyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IG5hbWVzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9kZWw9XCInICsgbmFtZSArICdcIl0nKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IFBpT2JqZWN0LmV4dHJhY3RWYWx1ZShtb2RlbCwgbmFtZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5faGFzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuX2NvbXBvbmVudC5zZXQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5maXJzdENoaWxkICYmIGVsZW1lbnQuZmlyc3RDaGlsZC5faGFzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZmlyc3RDaGlsZC5fY29tcG9uZW50LnNldCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLmluamVjdChtb2RlbCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIG8gdmFsb3IgcXVlIHJlcHJlc2VudGEgbyBjb21wb25lbnRcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSB1bSB2YWxvciBwYXJhIG8gY29tcG9uZW50XG4gICAgICogRGlzcGFyYSBvIGV2ZW50byAnY2hhbmdlJ1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaUNvbXBvbmVudH1cbiAgICAgKi9cbiAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnY2hhbmdlJywgdmFsdWUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3BhcmEgdW0gZXZlbnRvIG5hdGl2byBzb2JyZSBvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIC0gT2JqZXRvIGEgc2VyIHBhc3NhZG8gcGVsbyBldmVudG9cbiAgICAgKiBAcmV0dXJucyB7UGlDb21wb25lbnR9XG4gICAgICovXG4gICAgZGlzcGF0Y2hFdmVudChldmVudE5hbWUsIHBhcmFtLCBuZXdFdmVudCA9IHRydWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBldmVudCA9IHBhcmFtO1xuICAgICAgICBpZiAobmV3RXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb21wb3NlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGV0YWlsOiBwYXJhbSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuI2lzUGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHdyYXBwZXIganF1ZXJ5XG4gICAgICogXG4gICAgICogQHJldHVybnMge2pRdWVyeUVsZW1lbnR9XG4gICAgICovXG4gICAgZ2V0ICRlbGVtZW50KCkge1xuICAgICAgICBpZiAodGhpcy4jJGVsZW1lbnQpIHJldHVybiB0aGlzLiMkZWxlbWVudDtcbiAgICAgICAgcmV0dXJuIHRoaXMuIyRlbGVtZW50ID0gJCh0aGlzLmVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcml6YSBvIGVsZW1lbnRvIGFuZXhhbmRvIG91IGluc2VyaW5kbyBubyBlbGVtZW50b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnRvIGh0bWwgb25kZSBvIGNvbXBvbmVudGUgc2Vyw6EgcmVuZGVyaXphZG9cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFwcGVuZCBcbiAgICAgKiBAcmV0dXJucyB7UGlDb21wb25lbnR9XG4gICAgICovXG4gICAgcmVuZGVyKGVsZW1lbnQsIGFwcGVuZCA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgJCkge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQuZ2V0KDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZFByb21pc2Uub25jZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNsb2FkQXR0cmlidXRlcyhlbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQubW91bnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm1vdW50KHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZpZXdXaWxsTG9hZCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3V2lsbFJlbmRlcigpO1xuICAgICAgICAgICAgdGhpcy52aWV3UmVuZGVyKGVsZW1lbnQsIGFwcGVuZCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdEaWRSZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMuI2xpc3RlbigpO1xuICAgICAgICAgICAgdGhpcy52aWV3RGlkTG9hZCgpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5kaWRNb3VudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZGlkTW91bnQodGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCB0aGlzLiNlbGVtZW50SWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXQgaXNSZW5kZXJlZCgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pZD1cIiR7dGhpcy4jZWxlbWVudElkfVwiXWApO1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY29udGFpbnMoZWxlbWVudG8pO1xuICAgIH1cblxuICAgIHdpbGxMb2FkKHByb21pc2UpIHtcbiAgICAgICAgcHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZGlkTG9hZCgpIHtcblxuICAgIH1cblxuICAgIHZpZXdXaWxsTG9hZCgpIHtcblxuICAgIH1cblxuICAgIHZpZXdXaWxsUmVuZGVyKCkge1xuXG4gICAgfVxuXG4gICAgdmlld0RpZFJlbmRlcigpIHtcblxuICAgIH1cblxuICAgIHZpZXdSZW5kZXIoZWxlbWVudCwgYXBwZW5kID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCFhcHBlbmQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMubG9hZFZpZXcodGhpcy52aWV3LCBlbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudHNbMF07XG4gICAgICAgICAgICAgICAgdGhpcy4jaXNQYXJlbnRFbGVtZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy4jaXNQYXJlbnRFbGVtZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZpZXdEaWRMb2FkKCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW9uaXRvcmEgYWx0ZXJhw6fDo28gc29icmUgcHJvcHJpZWRhZGUgXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IC0gTm9tZSBkYSBwcm9wcmllZGFkZSBhIHNlciBtb25pdG9yYWRhXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBkZSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgd2F0Y2gocHJvcGVydHksIGZuKSB7XG4gICAgICAgIGNvbnN0IGlkcyA9IFBpT2JqZWN0Lm9uKHRoaXMuI3Njb3BlLCAnY29udGV4dC4nICsgcHJvcGVydHksIGZuKVxuICAgICAgICB0aGlzLiN3YXRjaHMgPSB0aGlzLiN3YXRjaHMuY29uY2F0KHtcbiAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcbiAgICAgICAgICAgIGlkczogaWRzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcmEgZGUgbW9uaXRvcmFyIHVtYSBwcm9wcmllYWRlIGRvIGNvbnRleHRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IC0gTm9tZSBkYSBwcm9wcmllZGFkZVxuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgdW5XYXRjaChwcm9wZXJ0eSkge1xuICAgICAgICBjb25zdCBhcnIgPSB0aGlzLiN3YXRjaHM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhcnJbaV0ucHJvcGVydHkgPT0gcHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICBQaU9iamVjdC5vZmYodGhpcy4jc2NvcGUsIGFycltpXS5pZHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiN2dHJlZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZ0cmVlID0gdGhpcy4jdnRyZWVzW2ldO1xuICAgICAgICAgICAgdnRyZWUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3Z0cmVlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMuI2NsZWFyQ29udGV4dFdhdGNoKCk7XG4gICAgfVxuXG4gICAgbG9hZFZpZXcodmlldywgZWxlbWVudCkge1xuICAgICAgICBjb25zdCByb290ID0gUGlUcmVlLnBhcnNlKHZpZXcpO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIGZvciAoOyByb290LmNoaWxkRWxlbWVudENvdW50Oykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSByb290LmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoY2hpbGQpO1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiNsb2FkVHJlZShjaGlsZHJlbik7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cblxuICAgICNsb2FkVHJlZSh0cmVlKSB7XG4gICAgICAgIGNvbnN0IHZ0cmVlID0gbmV3IFBpVmlydHVhbFRyZWUodHJlZSwgdGhpcy4jc2NvcGUsIHRoaXMpO1xuICAgICAgICB2dHJlZS5sb2FkKCk7XG4gICAgICAgIHRoaXMuI3Z0cmVlcy5wdXNoKHZ0cmVlKTtcbiAgICB9XG5cbiAgICAjbGlzdGVuKCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT0gJ2NoaWxkTGlzdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gbXV0YXRpb24uYWRkZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuI2xvYWRUcmVlKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBmYWxzZSxcbiAgICAgICAgICAgIGNoYXJhY3RlckRhdGE6IGZhbHNlLFxuICAgICAgICAgICAgc3VidHJlZTogZmFsc2UsXG4gICAgICAgICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogZmFsc2UsXG4gICAgICAgICAgICBjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICNjbGVhckNvbnRleHRXYXRjaCgpIHtcbiAgICAgICAgbGV0IGlkcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4jd2F0Y2hzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZHMgPSBpZHMuY29uY2F0KHRoaXMuI3dhdGNoc1tpXS5pZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgUGlPYmplY3Qub2ZmKHRoaXMuI3Njb3BlLCBpZHMpO1xuICAgICAgICB0aGlzLiN3YXRjaHMgPSBbXTtcbiAgICB9XG5cbiAgICAjbG9hZEF0dHJpYnV0ZXMoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGVOYW1lcyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF0dHJzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOYW1lcygpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpO1xuXG4gICAgICAgICAgICBpZiAobmFtZS5pbmRleE9mKCdwcm9wLScpID09IC0xKSB7XG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFBpVHlwZS5pc1N0cmluZyh2YWx1ZSkgJiYgKFBpVHlwZS5pc09iamVjdCh2YWx1ZSkgfHwgUGlUeXBlLmlzQXJyYXkodmFsdWUpKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNuYW1lID0gbmFtZS5yZXBsYWNlKCdwcm9wLScsICcnKTtcbiAgICAgICAgICAgIHRoaXNbY25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVnaXN0ZXIoY3BvKSB7XG4gICAgICAgIHJlZ2lzdGVyKGNwbyk7XG4gICAgfVxufSIsImltcG9ydCBQaU9iamVjdCBmcm9tIFwiLi9vYmplY3RcIjtcbmltcG9ydCB7IHJlZ2lzdGVyIH0gZnJvbSBcIi4vZW52XCI7XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuICAgIGFwcDoge1xuICAgICAgICBwYXJzZToge1xuICAgICAgICAgICAgZW5hYmxlOiB0cnVlLFxuICAgICAgICAgICAgc2VsZWN0b3I6ICdib2R5J1xuICAgICAgICB9XG4gICAgfSxcbiAgICBodG1sOiB7XG4gICAgICAgIGxvYWRlcjogJ0NhcnJlZ2FuZG8gLi4uJ1xuICAgIH0sXG4gICAgZXhwcmVzc2lvbjoge1xuICAgICAgICB4bGFuZ3VhZ2U6IC8oXFx7Pj8pKFteXFx9XSspKFxcfSkvZ2ksXG4gICAgICAgIHh2YXJpYWJsZTogLyhAKShbXFx3XFwuXSspL2dpLFxuICAgICAgICB4aHRtbDogLyhcXHs+KShbXlxcfV0rKShcXH0pL2dpLFxuICAgIH0sXG4gICAgaGlzdG9yeToge1xuICAgICAgICBwb3BzdGF0ZTogZmFsc2UsXG4gICAgICAgIHByZWZpeEhhc2h0YWc6IHRydWVcbiAgICB9LFxuICAgIHNlcnZpY2VzOiBbXSxcbiAgICByZXF1ZXN0OiB7XG4gICAgICAgIGZldGNoOiBudWxsXG4gICAgfVxufTtcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuY2xhc3MgUGlDb25maWcge1xuICAgIC8qKlxuICAgICAqIERlZmluZSB1bWEgY29uZmlndXJhw6fDo29cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gUGFyYW1ldHJvIGRhIGNvbmZpZ3VyYcOnw6NvXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHZhbHVlIC0gVmFsb3IgZGEgY29uZmlndXJhw6fDo29cbiAgICAgKiBAcmV0dXJucyB7UGlDb25maWd9XG4gICAgICovXG4gICAgc3RhdGljIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIFBpT2JqZWN0LnNldFByb3BlcnR5KGRlZmF1bHRzLCBrZXksIHZhbHVlKTtcblxuICAgICAgICByZXR1cm4gUGlDb25maWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB1bWEgY29uZmlndXJhw6fDo29cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gUGF0aCBkYSBjb25maWd1cmHDp8Ojb1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R8fHN0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0KGtleSkge1xuICAgICAgICByZXR1cm4gUGlPYmplY3QuZXh0cmFjdFZhbHVlKGRlZmF1bHRzLCBrZXkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYXJyZWdhIHVtIGNvbmp1bnRvIGRlIGNvbmZpZ3VyYcOnw7Vlc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyAtIE9iamV0byBjb250ZW5kbyBjb25maWd1cmHDp8O1ZXNcbiAgICAgKiBAcmV0dXJucyB7UGlDb25maWd9XG4gICAgICovXG4gICAgc3RhdGljIGxvYWQoc2V0dGluZ3MpIHtcbiAgICAgICAgUGlPYmplY3QuZXh0ZW5kKGRlZmF1bHRzLCBzZXR0aW5ncyk7XG4gICAgICAgIHJldHVybiBQaUNvbmZpZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXNjbGEgYSBjb25maWd1cmHDp8OjbyBhdHVhbCBjb20gYSBub3ZhIGNvbmZpZ3VyYcOnw6NvIGluZm9ybWFkYSBwb3IgcGFyYW1ldHJvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIC0gQ29uZmlndXJhw6fDo29cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdmFsdWUgLSBWYWxvciBkYSBjb25maWd1cmHDp8Ojb1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGV4dGVuZChzZXR0aW5ncywgdmFsdWUgPSBmYWxzZSkge1xuICAgICAgICBpZiAodmFsdWUgPT0gZmFsc2UpIHJldHVybiBQaU9iamVjdC5leHRlbmQoZGVmYXVsdHMsIHNldHRpbmdzKTtcbiAgICAgICAgZWxzZSByZXR1cm4gUGlPYmplY3QuZXh0ZW5kKGRlZmF1bHRzLCB7IHNldHRpbmdzOiB2YWx1ZSB9KTtcbiAgICB9XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBpQ29uZmlnO1xuXG5yZWdpc3RlcihQaUNvbmZpZyk7IiwiLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlEaWN0aW9uYXJ5IHtcbiAgICAjbGlzdCA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgbyBwYXIgY2hhdmUgdmFsb3JcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBWYWxvclxuICAgICAqIEByZXR1cm5zIHtQaURpY3Rpb25hcnl9XG4gICAgICovXG4gICAgYWRkKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy4jbGlzdFtrZXldID0gdmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmVyaWZpY2Egc2UgZXhpc3RlIGEgY2hhdmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBleGlzdEtleShrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2xpc3Rba2V5XSAhPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmVyaWZpY2Egc2UgZXhpc3RlIG8gdmFsb3JcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBWYWxvclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGV4aXN0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuI2xpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiNsaXN0W2ldID09IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIG8gdmFsb3JcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldFZhbHVlKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy4jbGlzdFtrZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGNoYXZlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENoYXZlXG4gICAgICogQHJldHVybnMge1BpRGljdGlvbmFyeX1cbiAgICAgKi9cbiAgICByZW1vdmUoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLiNsaXN0W2tleV07XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGltcGEgbyBkaWNpb25hcmlvXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpRGljdGlvbmFyeX1cbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy4jbGlzdCA9IFtdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgbyBkaWNpb25hcmlvIGVtIGFycmF5XG4gICAgICogXG4gICAgICogQHJldHVybnMge2FycmF5fVxuICAgICAqL1xuICAgIHRvQXJyYXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNsaXN0O1xuICAgIH1cblxufTsiLCJpbXBvcnQgUGlPYmplY3QgZnJvbSBcIi4vb2JqZWN0XCI7XG5pbXBvcnQgUGlFeHByZXNzaW9uIGZyb20gXCIuL2V4cHJlc3Npb25cIjtcbmltcG9ydCBQaVN0YXRlbWVudCBmcm9tIFwiLi9zdGF0ZW1lbnRcIjtcbmltcG9ydCBQaVZpcnR1YWxUcmVlIGZyb20gXCIuL3ZpcnR1YWxfdHJlZVwiO1xuaW1wb3J0IFBpRm9yRGlyZWN0aXZlIGZyb20gJy4vZm9yX2RpcmVjdGl2ZSdcbmltcG9ydCBQaUZvckVhY2hEaXJlY3RpdmUgZnJvbSAnLi9mb3JlYWNoX2RpcmVjdGl2ZSdcbmltcG9ydCBQaUFycmF5IGZyb20gXCIuL2FycmF5XCI7XG5pbXBvcnQgeyBmaW5kQ2xhc3MsIGdldENsYXNzZXMgfSBmcm9tIFwiLi9lbnZcIjtcbmltcG9ydCBQaVR5cGUgZnJvbSBcIi4vdHlwZVwiO1xuaW1wb3J0IFBpQ29uZmlnIGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IFBpUHJvbWlzZSBmcm9tICcuL3Byb21pc2UnXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpRWxlbWVudCB7XG4gICAgLyoqXG4gICAgICogQ29uc3Ryb2kgUGlFbGVtZW50IGJhc2VhZG8gbm8gZWxlbWVudG8gaHRtbFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnRvIGh0bWxcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3Njb3BlID0ge2NvbnRleHQ6IHt9fV0gLSBDbGFzc2UgZGUgZXNjb3BvXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgc2NvcGUgPSB7IGNvbnRleHQ6IHt9IH0sIGNvbXBvbmVudFBhcmVudCA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgICAgdGhpcy5fYXR0ck5hbWVzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOYW1lcygpO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGlyZWN0aXZlcyA9IFtdO1xuICAgICAgICB0aGlzLl9hdXRvQmluZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5fY29tcG9uZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5faGFzQ29tcG9uZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuX2NvbXBvbmVudFBhcmVudCA9IGNvbXBvbmVudFBhcmVudDtcblxuICAgICAgICB0aGlzLl9mb3JlYWNoQ29udGV4dCA9IHt9O1xuXG4gICAgICAgIHRoaXMuX2RlZmF1bHRWYXJpYWJsZXNOYW1lcyA9IFtdO1xuICAgICAgICB0aGlzLl9kZWZhdWx0VmFyaWFibGVzVmFsdWVzID0gW107XG5cbiAgICAgICAgdGhpcy5fc2NvcGUgPSBzY29wZTtcbiAgICAgICAgdGhpcy5fd2F0Y2hzID0gW107XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gW107XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHtcbiAgICAgICAgICAgICdlbnRlcic6IHRoaXMuX2V2ZW50RW50ZXJcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9vcmRlckF0dHJpYnV0ZU5hbWVzKCk7XG4gICAgICAgIHRoaXMuX2xvYWREaXJlY3RpdmVzQmFzZSgpO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuX3BpZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBBZGljaW9uYSBwcm9wcmllZGFkZSBhbyBjb250ZXh0byBkbyBmb3JlYWNoXG4gICAgICogQHBhcmFtIHtvYmp9IHZhbHVlIC0gT2JqZXRvIGFzc29jaWFkbyBhIHByb3ByaWVkYWRlIGRlIGNvbnRleHRvIGRvIGZvcmVhY2hcbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIGFkZEZvcmVhY2hDb250ZXh0KG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2ZvcmVhY2hDb250ZXh0W25hbWVdID0gdmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2V0Q29tcG9uZW50KGN4KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuX2hhc0NvbXBvbmVudCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuX2NvbXBvbmVudCA9IGN4O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGV4dGVuZEZvcmVhY2hDb250ZXh0KGZvcmVhY2hDb250ZXh0KSB7XG4gICAgICAgIFBpT2JqZWN0LmV4dGVuZCh0aGlzLl9mb3JlYWNoQ29udGV4dCwgZm9yZWFjaENvbnRleHQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vbml0b3JhIGFsdGVyYcOnw6NvIHNvYnJlIHByb3ByaWVkYWRlIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU5hbWUgLSBOb21lIGRhIHByb3ByaWVkYWRlIGEgc2VyIG1vbml0b3JhZGFcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEZ1bsOnw6NvIGRlIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICB3YXRjaChwcm9wZXJ0eU5hbWUsIGZuKSB7XG4gICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaChwcm9wZXJ0eU5hbWUsIGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJhIGRlIG1vbml0b3JhciB1bWEgcHJvcHJpZWFkZSBkbyBjb250ZXh0b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU5hbWUgLSBOb21lIGRhIHByb3ByaWVkYWRlXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICB1bldhdGNoKHByb3BlcnR5TmFtZSkge1xuICAgICAgICB0aGlzLl9yZW1vdmVDb250ZXh0V2F0Y2gocHJvcGVydHlOYW1lKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXJyZWdhIGUgYW5hbGlzYSB0b2RhcyBhcyBkaXJldGl2YXMganVudGFtZW50ZSBjb20gbyB0ZW1wbGF0ZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgbG9hZCh3cmFwcGVyKSB7XG4gICAgICAgIHRoaXMuX2xvYWREZWZhdWx0VmFyaWFibGVzKCk7XG4gICAgICAgIHRoaXMuX3J1bkRpcmVjdGl2ZXMod3JhcHBlcik7XG4gICAgICAgIHRoaXMuX2xvYWRUZW1wbGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9sb2FkRGVmYXVsdFZhcmlhYmxlcygpIHtcbiAgICAgICAgbGV0IHZhcmlhYmxlc0ZvcmVhY2hOYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMuX2ZvcmVhY2hDb250ZXh0KTtcbiAgICAgICAgbGV0IHZhcmlhYmxlc0ZvcmVhY2hWYWx1ZXMgPSBPYmplY3QudmFsdWVzKHRoaXMuX2ZvcmVhY2hDb250ZXh0KTtcbiAgICAgICAgbGV0IGNvbnRleHRQcm9wZXJ0eU5hbWVzID0gW107XG4gICAgICAgIGxldCBjb250ZXh0UHJvcGVydHlWYWx1ZXMgPSBbXTtcblxuICAgICAgICBjb25zdCBjcG8gPSB0aGlzLl9lbGVtZW50Ll9jb21wb25lbnRQYXJlbnQ7XG4gICAgICAgIGlmIChjcG8gIT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGV4dFByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjcG8uX19wcm90b19fKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGV4dFByb3BlcnR5TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoY3BvW2NvbnRleHRQcm9wZXJ0eU5hbWVzW2ldXSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRQcm9wZXJ0eVZhbHVlcy5wdXNoKGNwb1tjb250ZXh0UHJvcGVydHlOYW1lc1tpXV0uYmluZChjcG8pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kZWZhdWx0VmFyaWFibGVzTmFtZXMgPSB2YXJpYWJsZXNGb3JlYWNoTmFtZXMuY29uY2F0KGNvbnRleHRQcm9wZXJ0eU5hbWVzKTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFZhcmlhYmxlc1ZhbHVlcyA9IHZhcmlhYmxlc0ZvcmVhY2hWYWx1ZXMuY29uY2F0KGNvbnRleHRQcm9wZXJ0eVZhbHVlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW1hIGRpcmVjdGl2YSBwYXJhIHVtIGF0cmlidXRvIGRvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBub21lIGRhIGRpcmV0aXZhXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBkZSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFkZERpcmVjdGl2ZShuYW1lLCBmbikge1xuICAgICAgICB0aGlzLl9kaXJlY3RpdmVzW25hbWVdID0gZm47XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBzZSBleGlzdGUgdW1hIGRpcmV0aXZhIGFkaWNpb25hZGEgcGVsbyBzZXUgbm9tZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTm9tZSBkYSBkaXJldGl2YVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGV4aXN0RGlyZWN0aXZlKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RpcmVjdGl2ZXNbbmFtZV0gIT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHdyYXBwZXIganF1ZXJ5XG4gICAgICogXG4gICAgICogQHJldHVybnMge2pRdWVyeUVsZW1lbnR9XG4gICAgICovXG4gICAgZ2V0ICQoKSB7XG4gICAgICAgIGlmICh0aGlzLl8kZWxlbWVudCkgcmV0dXJuIHRoaXMuXyRlbGVtZW50O1xuICAgICAgICByZXR1cm4gdGhpcy5fJGVsZW1lbnQgPSAkKHRoaXMuX2VsZW1lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIHBhcmEgbGlzdGVuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBkZSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSAgey4uLmFueX0gYXJncyAtIEFyZ3VtZW50b3MgZW52aWFkb3MgYW8gY2FsbGJhY2sgcXVhbmRvIG9jb3JyZXIgbyBldmVudG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIG9uKGV2ZW50TmFtZSwgZm4sIC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuKGV2ZW50TmFtZSwgZm4sIC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIF9ldmVudEVudGVyKGZuLCAuLi5hcmdzKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIFtlLCAuLi5hcmdzXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9ldmVudERlZmF1bHQoZXZlbnROYW1lLCBmbiwgLi4uYXJncykge1xuICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCAoZSkgPT4ge1xuICAgICAgICAgICAgZm4uYXBwbHkodGhpcywgW2UsIC4uLmFyZ3NdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW0gY2FsbGJhY2sgc29icmUgdW0gZXZlbnRvIGRvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBkZSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSAgey4uLmFueX0gYXJncyAtIEFyZ3VtZW50b3MgZW52aWFkb3MgYW8gY2FsbGJhY2sgcXVhbmRvIG9jb3JyZXIgbyBldmVudG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIGxpc3RlbihldmVudE5hbWUsIGZuLCAuLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV07XG5cbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5jYWxsKHRoaXMsIGZuLCAuLi5hcmdzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50RGVmYXVsdChldmVudE5hbWUsIGZuLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIHBhcmEgdW5saXN0ZW5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gTm9tZSBkbyBldmVudG9cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEZ1bsOnw6NvIGRlIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBvZmYoZXZlbnROYW1lLCBmbikge1xuICAgICAgICByZXR1cm4gdGhpcy51bmxpc3RlbihldmVudE5hbWUsIGZuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgY2FsbGJhY2sgc29icmUgdW0gZXZlbnRvIGRvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBkZSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgdW5saXN0ZW4oZXZlbnROYW1lLCBmbikge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2Rpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5baV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gW107XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGVsZW1lbnRvIGRvIERPTVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9jbGVhckNvbnRleHRXYXRjaCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VyZSBlbGVtZW50byBkZXBvaXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge1BpRWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnRvIGEgc2VyIGluc2VyaWRvXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBpbnNlcnRCZWZvcmUoZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW1lbnQuX2VsZW1lbnQsIHRoaXMuX2VsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcmUgZWxlbWVudG8gYW50ZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge1BpRWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnRvIGEgc2VyIGluc2VyaWRvXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBpbnNlcnRBZnRlcihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbWVudC5fZWxlbWVudCwgdGhpcy5fZWxlbWVudC5uZXh0U2libGluZyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW0gZWxlbWVudG8gXG4gICAgICogXG4gICAgICogQHBhcmFtIHtQaUVsZW1lbnR9IGVsZW1lbnQgXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBhcHBlbmQoZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kKGVsZW1lbnQuX2VsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGEgdW1hIHN0YXRlbWVudCBkZW50cm8gZG8gY29udGV4dG8gc2VtcHJlIHF1ZSBvIGV2ZW50byBhc3NvY2lhZG8gZm9yIGRpc3BhcmFkb1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0ZW1lbnQgLSBTdGF0ZW1lbnQgZXhlY3V0YWRhIHNlbXByZSBxdWUgbyBvY29ycmVyIG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtzdHJpbn0gZXZlbnQgLSBOb21lIGRvIGV2ZW50byBhIHNlciBvYnNlcnZhZG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIGFkZEV2ZW50U3RhdGVtZW50KHN0YXRlbWVudCwgXywgZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IG5ldyBQaUV4cHJlc3Npb24oc3RhdGVtZW50KTtcblxuICAgICAgICB0aGlzLmxpc3RlbihldmVudCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKTtcblxuICAgICAgICAgICAgdmFyaWFibGVzWzBdLnB1c2goJyRldmVudCcpO1xuICAgICAgICAgICAgdmFyaWFibGVzWzFdLnB1c2goZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0bXQgPSBleHByZXNzaW9uLnBhcnNlKGN0eCwgdmFyaWFibGVzKTtcblxuICAgICAgICAgICAgcmV0dXJuIFBpU3RhdGVtZW50LmV4ZWNXaXRoVmFyaWFibGVzKHN0bXQsIHZhcmlhYmxlcywgY3R4KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2V0Q2hhbmdlRGlyZWN0aXZlKHN0YXRlbWVudCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gbmV3IFBpRXhwcmVzc2lvbihzdGF0ZW1lbnQpO1xuXG4gICAgICAgIHRoaXMubGlzdGVuKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICAgICAgY29uc3QgdmFyaWFibGVzID0gdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpO1xuXG4gICAgICAgICAgICB2YXJpYWJsZXNbMF0ucHVzaCgnJGV2ZW50Jyk7XG4gICAgICAgICAgICB2YXJpYWJsZXNbMV0ucHVzaChlKTtcblxuICAgICAgICAgICAgY29uc3Qgc3RtdCA9IGV4cHJlc3Npb24ucGFyc2UoY3R4LCB2YXJpYWJsZXMpO1xuXG4gICAgICAgICAgICByZXR1cm4gUGlTdGF0ZW1lbnQuZXhlY1dpdGhWYXJpYWJsZXMoc3RtdCwgdmFyaWFibGVzLCBjdHgpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIG8gdmFsb3IgZG8gZWxlbWVudG9cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bWJlcnxib29sZWFufVxuICAgICAqL1xuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuX2VsZW1lbnQ7XG5cbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIGUudHlwZSA9PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICByZXR1cm4gZS5jaGVja2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIGUudHlwZSA9PSAncmFkaW8nKSB7XG4gICAgICAgICAgICByZXR1cm4gZS5jaGVja2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGUudmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIG8gdmFsb3IgZG8gZWxlbWVudG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSB2YWx1ZSAtIFZhbG9yXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuX2VsZW1lbnQ7XG5cbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIChlLnR5cGUgPT0gJ2NoZWNrYm94JyB8fCBlLnR5cGUgPT0gJ3JhZGlvJykpIHtcbiAgICAgICAgICAgIGUuY2hlY2tlZCA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBlLnZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW0gdmluY3VsbyBkZSBkaXJlw6fDo28gZHVwbGEgZW50cmUgdW1hIHByb3ByaWVkYWRlIGRvIGNvbnRleHRvIGUgbyBlbGVtZW50byB2aXJ0dWFsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5TmFtZSAtIE5vbWUgZGEgcHJvcHJpZWRhZGUgZG8gY29udGV4dG8gcXVlIHNlcsOhIHZpbmN1bGFkYSBhbyBlbGVtZW50b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBOb21lIGRhIHByb3ByaWVkYWRlIGRvIGNvbnRleHRvIHF1ZSBzZXLDoSB2aW5jdWxhZGEgYW8gZWxlbWVudG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIGFkZEJpbmQocHJvcGVydHlOYW1lLCBfLCBldmVudE5hbWUpIHtcbiAgICAgICAgaWYgKHByb3BlcnR5TmFtZSA9PSBudWxsIHx8IHByb3BlcnR5TmFtZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYWRkQmluZFRvRWxlbWVudENvbnRleHQocHJvcGVydHlOYW1lLCBldmVudE5hbWUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgdmVyZGFkZWlybyBzZSBvIGVsZW1lbnRvIGVzdGl2ZXIgZGVzdHJ1aWRvXG4gICAgICogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGlzRGVzdHJveWVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzdHJveWVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSB1bWEgZXhwcmVzc2lvbiBkZSBpbmljaWFsaXphw6fDo29cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvblxuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgc2V0SW5pdERpcmVjdGl2ZShleHByZXNzaW9uKSB7XG4gICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihleHByZXNzaW9uKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFyaWFibGVzID0gdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpO1xuICAgICAgICBjb25zdCBzdG10ID0gZXgucGFyc2UoY3R4LCBkZWZhdWx0VmFyaWFibGVzKTtcblxuICAgICAgICBQaVN0YXRlbWVudC5leGVjV2l0aFZhcmlhYmxlcygndGhpcy4nICsgc3RtdCwgZGVmYXVsdFZhcmlhYmxlcywgY3R4KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSBiaW5kIGZ1bGxkdXBsZXggZG8gZWxlbWVudG8gYSBwcm9wcmllZGFkZSBkYSBtb2RlbFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU5hbWUgLSBOb21lIGRhIHByb3ByaWVkYWRlIGRhIG1vZGVsIHF1ZSBzZXLDoSB2aW5jdWxhZGEgYW8gZWxlbWVudG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHNldE1vZGVsRGlyZWN0aXZlKHByb3BlcnR5TmFtZSkge1xuICAgICAgICBsZXQgZXZlbnQgPSAnY2hhbmdlJztcblxuICAgICAgICBpZiAodGhpcy5fZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGV2ZW50ID0gJ2tleXVwJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FkZEJpbmRUb0VsZW1lbnRDb250ZXh0KHByb3BlcnR5TmFtZSwgZXZlbnQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBvIHZhbG9yIGRvIGVsZW1lbnRvIGJhc2VhZG8gZW0gdW1hIGV4cHJlc3Npb24gbGFuZ3VhZ2UgYXZhbGlhZGEgZGVudHJvIGRvIGNvbnRleHRvIGRvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gLSBFeHByZXNzw6NvIGEgc2VyIGF2YWxpYWRhIGRlbnRybyBkbyBjb250ZXh0b1xuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgc2V0VmFsdWVEaXJlY3RpdmUoZXhwcmVzc2lvbikge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihleHByZXNzaW9uKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuXG4gICAgICAgIHRoaXMudmFsdWUgPSBleC5wYXJzZShjdHgsIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIHNlIG8gZWxlbWVudG8gdGVyw6EgbyBhdHJpYnV0byAnc2VsZWN0ZWQnIGJhc2VhZG8gbmEgZXhwcmVzc2lvbiBsYW5ndWFnZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIC0gRXhwcmVzc8OjbyBhIHNlciBhdmFsaWFkYSBkZW50cm8gZG8gY29udGV4dG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHNldFNlbGVjdGVkRGlyZWN0aXZlKGV4cHJlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBleC5wYXJzZShjdHgsIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNldENoZWNrZWREaXJlY3RpdmUoZXhwcmVzc2lvbikge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihleHByZXNzaW9uKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSBleC52YXJpYWJsZXM7XG4gICAgICAgIGxldCB2YWx1ZSA9IGV4LnBhcnNlKGN0eCwgdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpKTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50LmNoZWNrZWQgPSB2YWx1ZSA9PSAndHJ1ZSc7XG5cbiAgICAgICAgaWYgKHZhcmlhYmxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlID0gdmFyaWFibGVzW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaCh2YXJpYWJsZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGV4LnBhcnNlKGN0eCwgdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmNoZWNrZWQgPSB2YWx1ZSA9PSAndHJ1ZSc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRTcmNEaXJlY3RpdmUoZXhwcmVzc2lvbikge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihleHByZXNzaW9uKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSBleC52YXJpYWJsZXM7XG4gICAgICAgIGxldCB2YWx1ZSA9IGV4LnBhcnNlKGN0eCwgdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpKTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgdmFsdWUpO1xuXG4gICAgICAgIGlmICh2YXJpYWJsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZSA9IHZhcmlhYmxlc1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRDb250ZXh0V2F0Y2godmFyaWFibGUsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBleC5wYXJzZShjdHgsIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldENvbmRpdGlvbmFsRGlyZWN0aXZlKGV4cHJlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IGV4LnZhcmlhYmxlcztcblxuICAgICAgICB0aGlzLl91cGRhdGVDb25kaXRpb25hbChleCk7XG5cbiAgICAgICAgaWYgKHZhcmlhYmxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlID0gdmFyaWFibGVzW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaCh2YXJpYWJsZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDb25kaXRpb25hbChleCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgc2UgbyBlbGVtZW50byB0ZXLDoSBvIGF0cmlidXRvICdkaXNhYmxlZCcgYmFzZWFkbyBuYSBleHByZXNzaW9uIGxhbmd1YWdlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gLSBFeHByZXNzw6NvIGEgc2VyIGF2YWxpYWRhIGRlbnRybyBkbyBjb250ZXh0b1xuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgc2V0RGlzYWJsZWREaXJlY3RpdmUoZXhwcmVzc2lvbikge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihleHByZXNzaW9uKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRGlzYWJsZWQoZXgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXgudmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YXJpYWJsZU5hbWUgPSBleC52YXJpYWJsZXNbaV07XG5cbiAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaCh2YXJpYWJsZU5hbWUsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVEaXNhYmxlZChleCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBhIG1hbmlwdWxhw6fDo28gZG8gZXN0aWxvIGRvIGVsZW1lbnRvIHBvciBtZWlvIGRlIHVtYSBleHByZXNzaW9uIGxhbmd1YWdlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBzZXRTdHlsZURpcmVjdGl2ZShleHByZXNzaW9uKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZXhwcmVzc2lvblN0eWxlID0gbmV3IFBpRXhwcmVzc2lvbihleHByZXNzaW9uKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVTdHlsZSgpO1xuXG4gICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZXMgPSB0aGlzLl9leHByZXNzaW9uU3R5bGUudmFyaWFibGVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhYmxlTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZSA9IHZhcmlhYmxlTmFtZXNbaV07XG5cbiAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaCh2YXJpYWJsZU5hbWUsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVTdHlsZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgYSBtYW5pcHVsYcOnw6NvIGRhcyBjbGFzc2VzIGRvIGVsZW1lbnRvIHBvciBtZWlvIGRlIHVtYSBleHByZXNzaW9uIGxhbmd1YWdlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb25cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHNldENsYXNzRGlyZWN0aXZlKGV4cHJlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9leHByZXNzaW9uQ2xhc3MgPSBuZXcgUGlFeHByZXNzaW9uKGV4cHJlc3Npb24pO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzKCk7XG5cbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gdGhpcy5fZXhwcmVzc2lvbkNsYXNzLnZhcmlhYmxlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSB2YXJpYWJsZXNbaV07XG5cbiAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaCh2LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2xhc3MoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2V0Rm9yRGlyZWN0aXZlKHN0bXQpIHtcbiAgICAgICAgY29uc3QgZXhwID0gbmV3IFBpRXhwcmVzc2lvbihzdG10KTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG4gICAgICAgIGNvbnN0IF9zdG10ID0gZXhwLnBhcnNlKGN0eCwgdmFyaWFibGVzKTtcbiAgICAgICAgY29uc3QgZm9yRGlyZWN0aXZlID0gbmV3IFBpRm9yRGlyZWN0aXZlKF9zdG10KTtcbiAgICAgICAgY29uc3QgYXR0ck5vZGVzID0gdGhpcy5fZ2V0UGlBdHRyaWJ1dGVOb2RlcyhbJzpmb3InXSk7XG5cbiAgICAgICAgbGV0IG5vZGVzID0gW107XG4gICAgICAgIGxldCByZWZOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgICB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHJlZk5vZGUsIHRoaXMuX2VsZW1lbnQubmV4dFNpYmxpbmcpO1xuXG4gICAgICAgIGZvckRpcmVjdGl2ZVxuICAgICAgICAgICAgLmxvb3AoKGl4biwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjcG9QYXJlbnQgPSB0aGlzLl9lbGVtZW50LmNvbXBvbmVudFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRBdHRyaWJ1dGVOb2RlcyhhdHRyTm9kZXMpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VsZW1lbnQgPSBuZXcgUGlFbGVtZW50KGNsb25lZEVsZW1lbnQsIHRoaXMuX3Njb3BlLCBjcG9QYXJlbnQpO1xuICAgICAgICAgICAgICAgIG5ld0VsZW1lbnQuZXh0ZW5kRm9yZWFjaENvbnRleHQodGhpcy5fZm9yZWFjaENvbnRleHQpO1xuICAgICAgICAgICAgICAgIG5ld0VsZW1lbnQuX2F1dG9CaW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbmV3RWxlbWVudC5hZGRGb3JlYWNoQ29udGV4dChpeG4sIGluZGV4KTtcbiAgICAgICAgICAgICAgICBuZXdFbGVtZW50LmxvYWQoY3BvUGFyZW50KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHZ0cmVlID0gbmV3IFBpVmlydHVhbFRyZWUoY2xvbmVkRWxlbWVudC5jaGlsZHJlbiwgdGhpcy5fc2NvcGUsIGNwb1BhcmVudCk7XG4gICAgICAgICAgICAgICAgdnRyZWUuaG9vaygnZGlkOmNyZWF0ZTp2ZWxlbWVudCcsICh2ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBuZXdFbGVtZW50Ll9jaGlsZHJlbi5wdXNoKHZlKTtcbiAgICAgICAgICAgICAgICAgICAgdmUuZXh0ZW5kRm9yZWFjaENvbnRleHQobmV3RWxlbWVudC5fZm9yZWFjaENvbnRleHQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZ0cmVlLmxvYWQoKTtcblxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobmV3RWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmVuZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSBub2Rlc1tpXS5fZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgcmVmTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZOb2RlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnJ1bigpO1xuXG4gICAgICAgIGlmIChleHAudmFyaWFibGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhwLnZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZSA9IGV4cC52YXJpYWJsZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQ29udGV4dFdhdGNoKHZhcmlhYmxlTmFtZSwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG5vZGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvckRpcmVjdGl2ZS5ydW4odmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5wYXJlbnRFbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdmb3Jkb25lJywge1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgICAgICBjb21wb3NlZDogZmFsc2UsXG4gICAgICAgIH0pKTtcblxuICAgICAgICB0aGlzLl9kaXNwb3NlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgYSBkaXJldGl2YSBmb3JlYWNoIGRvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdG10fSBzdG10IC0gRGVjbGFyYcOnw6NvIGZvcmVhY2hcbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHNldEZvckVhY2hEaXJlY3RpdmUoc3RtdCkge1xuICAgICAgICBjb25zdCBleHAgPSBuZXcgUGlFeHByZXNzaW9uKHN0bXQpO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKTtcbiAgICAgICAgY29uc3QgX3N0bXQgPSBleHAucGFyc2UoY3R4LCB2YXJpYWJsZXMpO1xuICAgICAgICBjb25zdCBmb3JlYWNoID0gbmV3IFBpRm9yRWFjaERpcmVjdGl2ZShfc3RtdCk7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IGZvcmVhY2gub2JqZWN0SW50ZXJhYmxlTmFtZTtcbiAgICAgICAgY29uc3QgYXR0ck5vZGVzID0gdGhpcy5fZ2V0UGlBdHRyaWJ1dGVOb2RlcyhbJzpmb3JlYWNoJ10pO1xuICAgICAgICBsZXQgYXJyYXkgPSBQaU9iamVjdC5leHRyYWN0VmFsdWUodGhpcy5fc2NvcGUsICdjb250ZXh0LicgKyBwcm9wZXJ0eU5hbWUpO1xuXG4gICAgICAgIGlmIChhcnJheSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFycmF5ID0gZmluZENsYXNzKHByb3BlcnR5TmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXJyYXkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhcnJheSA9IFBpT2JqZWN0LmV4dHJhY3RWYWx1ZSh0aGlzLl9mb3JlYWNoQ29udGV4dCwgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcnJheSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IGBGb3JFYWNoOiBwcm9wcmllZGFkZSBuw6NvIGVuY29udHJhZGEgJyR7cHJvcGVydHlOYW1lfSdgO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5vZGVzID0gW107XG4gICAgICAgIGxldCBjdXJyZW50RWxlbWVudHMgPSBbXTtcblxuICAgICAgICB2YXIgcmVmTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyZWZOb2RlLCB0aGlzLl9lbGVtZW50Lm5leHRTaWJsaW5nKTtcblxuICAgICAgICBmb3JlYWNoXG4gICAgICAgICAgICAubG9vcCgoYXJyLCBpbmRleCwgdm4sIGl4bikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNwb1BhcmVudCA9IHRoaXMuX2VsZW1lbnQuX2NvbXBvbmVudFBhcmVudDtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JlYWNoUHJvcGVydHlOYW1lID0gdm47XG4gICAgICAgICAgICAgICAgY29uc3QgZm9yZWFyY2hQcm9wZXJ5VmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgZm9yZWFyY2hJbmRleE5hbWUgPSBpeG47XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRBdHRyaWJ1dGVOb2RlcyhhdHRyTm9kZXMpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VsZW1lbnQgPSBuZXcgUGlFbGVtZW50KGNsb25lZEVsZW1lbnQsIHRoaXMuX3Njb3BlLCBjcG9QYXJlbnQpO1xuICAgICAgICAgICAgICAgIG5ld0VsZW1lbnQuZXh0ZW5kRm9yZWFjaENvbnRleHQodGhpcy5fZm9yZWFjaENvbnRleHQpO1xuICAgICAgICAgICAgICAgIG5ld0VsZW1lbnQuX2F1dG9CaW5kID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBuZXdFbGVtZW50LmFkZEZvcmVhY2hDb250ZXh0KGZvcmVhY2hQcm9wZXJ0eU5hbWUsIGZvcmVhcmNoUHJvcGVyeVZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoZm9yZWFyY2hJbmRleE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RWxlbWVudC5hZGRGb3JlYWNoQ29udGV4dChmb3JlYXJjaEluZGV4TmFtZSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdFbGVtZW50LmxvYWQoY3BvUGFyZW50KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHZ0cmVlID0gbmV3IFBpVmlydHVhbFRyZWUoY2xvbmVkRWxlbWVudC5jaGlsZHJlbiwgdGhpcy5fc2NvcGUsIGNwb1BhcmVudCk7XG4gICAgICAgICAgICAgICAgdnRyZWUuaG9vaygnZGlkOmNyZWF0ZTp2ZWxlbWVudCcsICh2ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBuZXdFbGVtZW50Ll9jaGlsZHJlbi5wdXNoKHZlKTtcbiAgICAgICAgICAgICAgICAgICAgdmUuZXh0ZW5kRm9yZWFjaENvbnRleHQobmV3RWxlbWVudC5fZm9yZWFjaENvbnRleHQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZ0cmVlLmxvYWQoKTtcblxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2goY2xvbmVkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnRzLnB1c2gobmV3RWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmVuZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdOb2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIHJlZk5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbm9kZXMgPSBbXTtcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgcnVuKGFycmF5KTtcblxuICAgICAgICBjb25zdCBzcGxpY2UgPSBmdW5jdGlvbiAoYXJyYXksIGluZGV4LCBkZWxldGVDb3VudCwgLi4uaXRlbXMpIHtcbiAgICAgICAgICAgIGlmIChkZWxldGVDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBpbmRleCArIGRlbGV0ZUNvdW50ID4gY3VycmVudEVsZW1lbnRzLmxlbmd0aCA/IGN1cnJlbnRFbGVtZW50cy5sZW5ndGggOiBpbmRleCArIGRlbGV0ZUNvdW50O1xuXG4gICAgICAgICAgICAgICAgLy8gZGVzdHJveSBvcyBlbGVtZW50b3NcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gaW5kZXg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudHNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIGRlbGV0ZUNvdW50KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudHMuc3BsaWNlKGluZGV4LCBkZWxldGVDb3VudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMCwgLi4uaXRlbXMpO1xuICAgICAgICAgICAgICAgIGZvcmVhY2gucnVuKGFycmF5LCBpbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoUGlUeXBlLmlzQXJyYXkoYXJyYXkpKSB7XG5cbiAgICAgICAgICAgIFBpQXJyYXkuYWRkTWV0aG9kKGFycmF5LCAnbG9hZCcsIGZ1bmN0aW9uIChhcnJheSwgaW5kZXggPSAwKSB7XG4gICAgICAgICAgICAgICAgc3BsaWNlKHRoaXMsIGluZGV4LCAwLCAuLi5hcnJheSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBQaUFycmF5LmFkZE1ldGhvZChhcnJheSwgJ2FkZCcsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgc3BsaWNlKHRoaXMsIHRoaXMubGVuZ3RoLCAwLCBpdGVtKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFBpQXJyYXkuYWRkTWV0aG9kKGFycmF5LCAnY2xlYXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc3BsaWNlKHRoaXMsIDAsIHRoaXMubGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFBpQXJyYXkuYWRkTWV0aG9kKGFycmF5LCAncmVtb3ZlJywgZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgc3BsaWNlKHRoaXMsIGluZGV4LCAxKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFBpQXJyYXkuYWRkTWV0aG9kKGFycmF5LCAncmVsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudHNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudHMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvcmVhY2gucnVuKHRoaXMsIDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lbGVtZW50LnBhcmVudEVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2ZvcmRvbmUnLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbXBvc2VkOiBmYWxzZSxcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNldFJlbmRlckRpcmVjdGl2ZShkaXJlY3RpdmEsIHByb3BOYW1lLCBldmVudE5hbWUsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG5cbiAgICAgICAgY29uc3QgY3JlYXRlID0gUGlTdGF0ZW1lbnQuZXhlY1dpdGhWYXJpYWJsZXMoZGlyZWN0aXZhLCB2YXJpYWJsZXMsIGN0eCk7XG4gICAgICAgIGxldCBmbjtcbiAgICAgICAgaWYgKGNyZWF0ZS5uYW1lID09IGRpcmVjdGl2YSkge1xuICAgICAgICAgICAgZm4gPSBuZXcgY3JlYXRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3JlYXRlLmNhbGwpIHtcbiAgICAgICAgICAgIGZuID0gY3JlYXRlLmNhbGwoY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmbiA9IGNyZWF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWRMb2FkZXIoKTtcblxuICAgICAgICBpZiAoZm4gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICBmbi50aGVuKChjKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb21wb25lbnQoYyk7XG4gICAgICAgICAgICAgICAgYy5yZW5kZXIodGhpcy5fZWxlbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChmbiBpbnN0YW5jZW9mIFBpUHJvbWlzZSkge1xuICAgICAgICAgICAgZm4ub2soKGMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbXBvbmVudChjKTtcbiAgICAgICAgICAgICAgICBjLnJlbmRlcih0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbXBvbmVudChmbik7XG4gICAgICAgICAgICBmbi5yZW5kZXIodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2V0VmFsdWVGcm9tRGVmYXVsdFZhcmlhYmxlcyhuYW1lKSB7XG4gICAgICAgIGNvbnN0IHsgZGVmYXVsdE5hbWVzLCBkZWZhdWx0VmFsdWVzIH0gPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZhdWx0TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZuYW1lID0gZGVmYXVsdE5hbWVzW2ldO1xuICAgICAgICAgICAgaWYgKHZuYW1lID09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIF9nZXREZWZhdWx0VmFyaWFibGVzKCkge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcy5fZWxlbWVudC5fY29tcG9uZW50IHx8IHRoaXMuX2VsZW1lbnQuX2NvbXBvbmVudFBhcmVudDtcbiAgICAgICAgY29uc3QgZWxlbWVudFZhbHVlID0gdGhpcy5fZWxlbWVudC5nZXQgPyB0aGlzLl9lbGVtZW50LmdldCgpIDogJyc7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlc05hbWVzID0gWyckdGhpcycsICckZWxlbWVudCcsICckdmFsdWUnXTtcbiAgICAgICAgY29uc3QgdmFyaWFibGVzVmFsdWVzID0gW3NlbGYsIHRoaXMuX2VsZW1lbnQsIGVsZW1lbnRWYWx1ZV07XG5cbiAgICAgICAgdGhpcy5fbG9hZERlZmF1bHRWYXJpYWJsZXMoKTtcbiAgICAgICAgZ2V0Q2xhc3NlcygpLmZvckVhY2goYyA9PiB7IHZhcmlhYmxlc05hbWVzLnB1c2goYy5uYW1lKTsgdmFyaWFibGVzVmFsdWVzLnB1c2goYykgfSk7XG5cbiAgICAgICAgcmV0dXJuIFt0aGlzLl9kZWZhdWx0VmFyaWFibGVzTmFtZXMuY29uY2F0KHZhcmlhYmxlc05hbWVzKSwgdGhpcy5fZGVmYXVsdFZhcmlhYmxlc1ZhbHVlcy5jb25jYXQodmFyaWFibGVzVmFsdWVzKV07XG4gICAgfVxuXG4gICAgX2FkZEJpbmRUb0VsZW1lbnRDb250ZXh0KHByb3BlcnR5TmFtZSwgZXZlbnROYW1lKSB7XG4gICAgICAgIGxldCBpc0NoYW5nZVByb3BlcnR5QnlFdmVudCA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gUGlPYmplY3QuZXh0cmFjdFZhbHVlKHRoaXMuX3Njb3BlLCAnY29udGV4dC4nICsgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zZXQodmFsdWUpO1xuXG4gICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaChwcm9wZXJ0eU5hbWUsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0NoYW5nZVByb3BlcnR5QnlFdmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBQaU9iamVjdC5leHRyYWN0VmFsdWUodGhpcy5fc2NvcGUsICdjb250ZXh0LicgKyBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXQodmFsdWUpO1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVWaWV3KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChldmVudE5hbWUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbihldmVudE5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpc0NoYW5nZVByb3BlcnR5QnlFdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgUGlPYmplY3Quc2V0UHJvcGVydHkodGhpcy5fc2NvcGUuY29udGV4dCwgcHJvcGVydHlOYW1lLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBpc0NoYW5nZVByb3BlcnR5QnlFdmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBpc0NoYW5nZVByb3BlcnR5QnlFdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgUGlPYmplY3Quc2V0UHJvcGVydHkodGhpcy5fc2NvcGUuY29udGV4dCwgcHJvcGVydHlOYW1lLCBlLmRldGFpbCk7XG4gICAgICAgICAgICAgICAgaXNDaGFuZ2VQcm9wZXJ0eUJ5RXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2dldFBpQXR0cmlidXRlTm9kZXMoZXhjZXB0cyA9IFtdKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hdHRyTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLl9hdHRyTmFtZXNbaV07XG4gICAgICAgICAgICBjb25zdCBmaXJzdENoYXJhY3RlciA9IG5hbWVbMF07XG5cbiAgICAgICAgICAgIGlmIChleGNlcHRzLmluZGV4T2YobmFtZSkgPT0gLTEgJiYgKGZpcnN0Q2hhcmFjdGVyID09ICc6JyB8fCBmaXJzdENoYXJhY3RlciA9PSAnIycgfHwgZmlyc3RDaGFyYWN0ZXIgPT0gJ0AnKSkge1xuICAgICAgICAgICAgICAgIGF0dHJzLnB1c2godGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICBfc2V0QXR0cmlidXRlTm9kZXMoYXR0ck5vZGVzID0gW10pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOb2RlID0gYXR0ck5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKGF0dHJOb2RlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlTm9kZShhdHRyTm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXRNb3VudERpcmVjdGl2ZShleHByZXNzaW9uKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQubW91bnQgPSAoY29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRDb250ZXh0KCk7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFyaWFibGVzID0gdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpO1xuICAgICAgICAgICAgY29uc3Qgc3RtdCA9IGV4LnBhcnNlKGN0eCwgZGVmYXVsdFZhcmlhYmxlcyk7XG4gICAgICAgICAgICBkZWZhdWx0VmFyaWFibGVzWyckdGhpcyddID0gY29tcG9uZW50O1xuXG4gICAgICAgICAgICBQaVN0YXRlbWVudC5leGVjV2l0aFZhcmlhYmxlcygndGhpcy4nICsgc3RtdCwgZGVmYXVsdFZhcmlhYmxlcywgY3R4KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXREaWRNb3VudERpcmVjdGl2ZSgpIHtcblxuICAgIH1cblxuICAgIHNldFdpbGxNb3VudERpcmVjdGl2ZSgpIHtcblxuICAgIH1cblxuICAgIHNldEZvckVuZFZhbHVlRGlyZWN0aXZlKGV4cHJlc3Npb24sIHByb3BOYW1lLCBldmVudE5hbWUsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PSAndmFsdWUnIHx8IGV2ZW50TmFtZSA9PSAnc2V0VmFsdWUnKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3Rlbihwcm9wTmFtZSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYXJpYWJsZXMgPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGV4LnBhcnNlKGN0eCwgZGVmYXVsdFZhcmlhYmxlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9sb2FkRGlyZWN0aXZlc0Jhc2UoKSB7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdmb3InLCB0aGlzLnNldEZvckRpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdmb3JlYWNoJywgdGhpcy5zZXRGb3JFYWNoRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2xvYWRlcicsIHRoaXMuc2V0TG9hZGVyRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2NsYXNzJywgdGhpcy5zZXRDbGFzc0RpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdzdHlsZScsIHRoaXMuc2V0U3R5bGVEaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnaW5pdCcsIHRoaXMuc2V0SW5pdERpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdiaW5kJywgdGhpcy5hZGRCaW5kKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ29uJywgdGhpcy5hZGRFdmVudFN0YXRlbWVudCk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCd2YWx1ZScsIHRoaXMuc2V0VmFsdWVEaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnc2VsZWN0ZWQnLCB0aGlzLnNldFNlbGVjdGVkRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2Rpc2FibGVkJywgdGhpcy5zZXREaXNhYmxlZERpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdpZicsIHRoaXMuc2V0Q29uZGl0aW9uYWxEaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnbW9kZWwnLCB0aGlzLnNldE1vZGVsRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2NoYW5nZScsIHRoaXMuc2V0Q2hhbmdlRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ3NyYycsIHRoaXMuc2V0U3JjRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2NoZWNrZWQnLCB0aGlzLnNldENoZWNrZWREaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnbW91bnQnLCB0aGlzLnNldE1vdW50RGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ3JlbmRlcicsIHRoaXMuc2V0UmVuZGVyRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2ZvcmVuZCcsIHRoaXMuc2V0Rm9yRW5kVmFsdWVEaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnZm9yZG9uZScsIHRoaXMuc2V0Rm9yRW5kVmFsdWVEaXJlY3RpdmUpO1xuICAgIH1cblxuICAgIHNldExvYWRlckRpcmVjdGl2ZShkaXJlY3RpdmEsIHByb3BOYW1lLCBldmVudE5hbWUsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG5cbiAgICAgICAgY29uc3QgY3JlYXRlID0gUGlTdGF0ZW1lbnQuZXhlY1dpdGhWYXJpYWJsZXMoZGlyZWN0aXZhLCB2YXJpYWJsZXMsIGN0eCk7XG4gICAgICAgIGlmIChjcmVhdGUubmFtZSA9PSBkaXJlY3RpdmEpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlciA9IG5ldyBjcmVhdGUoKTtcbiAgICAgICAgICAgIGxvYWRlci5yZW5kZXIodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3JlYXRlLmNhbGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlciA9IGNyZWF0ZS5jYWxsKGNvbnRleHQpO1xuICAgICAgICAgICAgbG9hZGVyLnJlbmRlcih0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNyZWF0ZS5yZW5kZXIodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9oYXNMb2FkZXIgPSB0cnVlO1xuICAgIH1cblxuICAgIF9sb2FkTG9hZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5faGFzTG9hZGVyID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgbG9hZGVyID0gUGlDb25maWcuZ2V0KCdodG1sLmxvYWRlcicpO1xuICAgICAgICAgICAgbGV0IGh0bWwgPSBsb2FkZXI7XG5cbiAgICAgICAgICAgIGlmIChsb2FkZXIuY29uc3RydWN0b3IubmFtZSA9PSAnRnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaHRtbCA9IGxvYWRlcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfKGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgY29udGV4dFByb3BlcnR5TmFtZXMgPSBPYmplY3Qua2V5cyhjb250ZXh0KTtcbiAgICAgICAgY29uc3QgY29udGV4dFByb3BlcnR5VmFsdWVzID0gT2JqZWN0LnZhbHVlcyhjb250ZXh0KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRleHRQcm9wZXJ0eVZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjb250ZXh0UHJvcGVydHlWYWx1ZXNbaV07XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnRleHRQcm9wZXJ0eVZhbHVlc1tpXSA9IHZhbHVlLmJpbmQoY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlRXhwcmVzc2lvbih2YWx1ZSwgbm9kZSkge1xuICAgICAgICBjb25zdCBleHAgPSBuZXcgUGlFeHByZXNzaW9uKHZhbHVlKTtcbiAgICAgICAgbm9kZS5fcGlleCA9IGV4cDtcblxuICAgICAgICBpZiAodGhpcy5fYXV0b0JpbmQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhwLnZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZSA9IGV4cC52YXJpYWJsZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQ29udGV4dFdhdGNoKHZhcmlhYmxlTmFtZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVWaWV3KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbG9hZFRlbXBsYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBub2RlcyA9IHRoaXMuX2VsZW1lbnQuY2hpbGROb2RlcztcbiAgICAgICAgY29uc3QgeGh0bWwgPSBQaUNvbmZpZy5nZXQoJ2V4cHJlc3Npb24ueGh0bWwnKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gbm9kZS5ub2RlVmFsdWU7XG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgeGh0bWwudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICBlbC5pbm5lckhUTUwgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWwsIG5vZGUubmV4dFNpYmxpbmcpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVFeHByZXNzaW9uKHZhbHVlLCBlbCk7XG5cbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5pbmRleE9mKCd7JykgPiAtMSAmJiBub2RlIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUV4cHJlc3Npb24odmFsdWUsIG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlVmlldygpO1xuICAgIH1cblxuICAgIF91cGRhdGVDb25kaXRpb25hbChleCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYXJpYWJsZXMgPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gUGlTdGF0ZW1lbnQuZXhlY1dpdGhWYXJpYWJsZXMoZXgucGFyc2UoY3R4LCBkZWZhdWx0VmFyaWFibGVzKSwgZGVmYXVsdFZhcmlhYmxlcywgY3R4KTtcbiAgICAgICAgY29uc3QgbmV4dEVsZW1lbnQgPSB0aGlzLl9lbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcblxuICAgICAgICBpZiAobmV4dEVsZW1lbnQgJiYgbmV4dEVsZW1lbnQuaGFzQXR0cmlidXRlKCc6ZWxzZScpKSB7XG4gICAgICAgICAgICBuZXh0RWxlbWVudC5fX3BpZWxzZSA9IHRydWU7XG4gICAgICAgICAgICBuZXh0RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJzplbHNlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoYXNFbHNlID0gbmV4dEVsZW1lbnQgJiYgbmV4dEVsZW1lbnQuX19waWVsc2U7XG5cbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLiQuc2hvdygpO1xuXG4gICAgICAgICAgICBpZiAoaGFzRWxzZSkge1xuICAgICAgICAgICAgICAgICQobmV4dEVsZW1lbnQpLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJC5oaWRlKCk7XG5cbiAgICAgICAgICAgIGlmIChoYXNFbHNlKSB7XG4gICAgICAgICAgICAgICAgJChuZXh0RWxlbWVudCkuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZURpc2FibGVkKGV4KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBleC5wYXJzZShjdHgsIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG5cbiAgICAgICAgaWYgKHZhbHVlID09ICd0cnVlJyB8fCB2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVWaWV3KCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBub2RlcyA9IHRoaXMuX2VsZW1lbnQuY2hpbGROb2RlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGUuX3BpZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gbm9kZS5fcGlleC5wYXJzZSh0aGlzLl9nZXRDb250ZXh0KCksIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUubm9kZVZhbHVlID0gdGV4dDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlU3R5bGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9leHByZXNzaW9uU3R5bGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlSW5saW5lID0gdGhpcy5fZXhwcmVzc2lvblN0eWxlLnBhcnNlKHRoaXMuX2dldENvbnRleHQoKSwgdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpKTtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IHN0eWxlSW5saW5lLnNwbGl0KCc7Jyk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBzdHlsZXNbaV0uc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUubGVuZ3RoICE9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVOYW1lID0gc3R5bGVbMF0udHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlVmFsdWUgPSBzdHlsZVsxXS50cmltKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiQuY3NzKHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlQ2xhc3MoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9leHByZXNzaW9uQ2xhc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IHRoaXMuX2V4cHJlc3Npb25DbGFzcy5wYXJzZSh0aGlzLl9nZXRDb250ZXh0KCksIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSkudHJpbSgpO1xuICAgICAgICAgICAgaWYgKGNsYXNzTGlzdCA9PSB0aGlzLl9lbGVtZW50LmNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICAgICAgaWYgKGNsYXNzTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTGlzdC5zcGxpdCgnICcpLmZpbHRlcihlID0+IGUgIT09ICcnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb3JkZXJBdHRyaWJ1dGVOYW1lcygpe1xuICAgICAgICBsZXQgaSA9IHRoaXMuX2F0dHJOYW1lcy5pbmRleE9mKCdmb3JlYWNoJyk7XG4gICAgICAgIGlmIChpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dHJOYW1lcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB0aGlzLl9hdHRyTmFtZXMudW5zaGlmdCgnZm9yZWFjaCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaSA9IHRoaXMuX2F0dHJOYW1lcy5pbmRleE9mKCdmb3InKTtcbiAgICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fYXR0ck5hbWVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIHRoaXMuX2F0dHJOYW1lcy51bnNoaWZ0KCdmb3InKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9ydW5EaXJlY3RpdmVzKHdyYXBwZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hdHRyTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gdGhpcy5fYXR0ck5hbWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gdGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgICAgICAgY29uc3QgeyBwcm9wTmFtZSwgZXZlbnROYW1lIH0gPSB0aGlzLl9leHRyYWN0UGlBdHRyaWJ1dGVOYW1lQW5kUHJvcGVydHkoYXR0ck5hbWUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5leGlzdERpcmVjdGl2ZShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyZWN0aXZlc1twcm9wTmFtZV0uY2FsbCh0aGlzLCBhdHRyVmFsdWUsIHByb3BOYW1lLCBldmVudE5hbWUsIHdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcE5hbWUgPT0gJ2ZvcmVhY2gnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcE5hbWUgPT0gJ2ZvcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdHRyTmFtZS5pbmRleE9mKCcjJykgPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihhdHRyVmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZXgucGFyc2UodGhpcy5fZ2V0Q29udGV4dCgpLCB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCkpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyTmFtZS5zdWJzdHIoMSksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdHRyTmFtZS5pbmRleE9mKCc6JykgPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihhdHRyVmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSBleC52YXJpYWJsZXM7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gZXgucGFyc2UoY3R4LCB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLnN1YnN0cigxKSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcblxuICAgICAgICAgICAgICAgIGlmICh2YXJpYWJsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGUgPSB2YXJpYWJsZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRDb250ZXh0V2F0Y2godmFyaWFibGUsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGV4LnBhcnNlKGN0eCwgdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLnN1YnN0cigxKSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9leHRyYWN0UGlBdHRyaWJ1dGVOYW1lQW5kUHJvcGVydHkoYXR0cmlidXRlKSB7XG4gICAgICAgIGxldCBwcm9wTmFtZSA9ICcnO1xuICAgICAgICBsZXQgZXZlbnROYW1lID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGF0dHJpYnV0ZS5pbmRleE9mKCdAJykgPiAtMSkge1xuICAgICAgICAgICAgcHJvcE5hbWUgPSAnb24nO1xuICAgICAgICAgICAgZXZlbnROYW1lID0gYXR0cmlidXRlLnJlcGxhY2UoJ0AnLCAnJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5hbWVBbmRFdmVudCA9IGV2ZW50TmFtZS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgaWYgKG5hbWVBbmRFdmVudC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgcHJvcE5hbWUgPSBuYW1lQW5kRXZlbnRbMF07XG4gICAgICAgICAgICAgICAgZXZlbnROYW1lID0gbmFtZUFuZEV2ZW50WzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZS5pbmRleE9mKCc6JykgPiAtMSkge1xuICAgICAgICAgICAgcHJvcE5hbWUgPSBhdHRyaWJ1dGUucmVwbGFjZSgnOicsICcnKTtcblxuICAgICAgICAgICAgY29uc3QgbmFtZUFuZEV2ZW50ID0gcHJvcE5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGlmIChuYW1lQW5kRXZlbnQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHByb3BOYW1lID0gbmFtZUFuZEV2ZW50WzBdO1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IG5hbWVBbmRFdmVudFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHByb3BOYW1lLCBldmVudE5hbWUgfTtcbiAgICB9XG5cbiAgICBfZ2V0Q29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3BlLmNvbnRleHQ7XG4gICAgfVxuXG4gICAgX2NsZWFyQ29udGV4dFdhdGNoKCkge1xuICAgICAgICBsZXQgaWRzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl93YXRjaHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlkcyA9IGlkcy5jb25jYXQodGhpcy5fd2F0Y2hzW2ldLmlkcyk7XG4gICAgICAgIH1cblxuICAgICAgICBQaU9iamVjdC5vZmYodGhpcy5fc2NvcGUsIGlkcyk7XG4gICAgICAgIHRoaXMuX3dhdGNocyA9IFtdO1xuICAgIH1cblxuICAgIF9hZGRDb250ZXh0V2F0Y2gocHJvcGVydHksIGZuKSB7XG4gICAgICAgIGNvbnN0IGlkcyA9IFBpT2JqZWN0Lm9uKHRoaXMuX3Njb3BlLCAnY29udGV4dC4nICsgcHJvcGVydHksIGZuKVxuICAgICAgICB0aGlzLl93YXRjaHMgPSB0aGlzLl93YXRjaHMuY29uY2F0KHtcbiAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcbiAgICAgICAgICAgIGlkczogaWRzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9yZW1vdmVDb250ZXh0V2F0Y2gocHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGNvbnN0IGFyciA9IHRoaXMuX3dhdGNocztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFycltpXS5wcm9wZXJ0eSA9PSBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICBQaU9iamVjdC5vZmYodGhpcy5fc2NvcGUsIGFycltpXS5pZHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG59OyIsIi8qKipcbiAqIENvcHlyaWdodCBNYW5vZWwgTmVjbyAyMDIyLCBUb2RvcyBvcyBkaXJlaXRvcyByZXNlcnZhZG9zXG4gKlxuICogQGF1dG9yOiBNYW5vZWwgTmVjb1xuICogQGNyZWF0ZTogMjAxMi1wcmVzZW50XG4gKiBAdmVyc2lvbjogdjExLjIuNi1iZXRhXG4gKi9cblxuY29uc3QgZ2xvYmFsID0gd2luZG93O1xuY29uc3QgY29tcG9uZW50cyA9IFtdO1xuXG5mdW5jdGlvbiByZWdpc3Rlck9iamVjdChuYW1lLCBvYmopIHtcbiAgICBvYmoubmFtZSA9IG5hbWU7XG4gICAgY29tcG9uZW50cy5wdXNoKG9iaik7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKG5hbWUsIG9iaikge1xuICAgIGlmIChuYW1lICE9IG51bGwgJiYgbmFtZS5jb25zdHJ1Y3Rvci5uYW1lID09ICdTdHJpbmcnICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICAgIHJlZ2lzdGVyT2JqZWN0KG5hbWUsIG9iaik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgb2JqID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBjb25zdCBjTmFtZSA9IG9iai5jb25zdHJ1Y3Rvci5uYW1lO1xuXG4gICAgICAgIGlmIChmaW5kQ2xhc3Mob2JqKSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChjTmFtZSA9PSAnRnVuY3Rpb24nIHx8IGNOYW1lID09ICdPYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gT2JqZWN0LmZyZWV6ZShvYmopO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb21wb25lbnRzLnB1c2gob2JqKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q2xhc3NlcygpIHtcbiAgICByZXR1cm4gY29tcG9uZW50cztcbn1cblxuZnVuY3Rpb24gZmluZENsYXNzKGNOYW1lKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudHMuZmluZChjID0+IGMubmFtZSA9PSBjTmFtZSB8fCAoYy5jb25zdHJ1Y3RvciAmJiBjLmNvbnN0cnVjdG9yLm5hbWUgPT0gY05hbWUpKTtcbn1cblxuZnVuY3Rpb24gYXBwKCkge1xuICAgIHJldHVybiBnbG9iYWwuYXBwO1xufVxuXG5mdW5jdGlvbiBsb2NhdGlvbigpIHtcbiAgICByZXR1cm4gZ2xvYmFsLmxvY2F0aW9uO1xufVxuXG5mdW5jdGlvbiBzZXRMb2NhdGlvbih1cmwpIHtcbiAgICBnbG9iYWwubG9jYXRpb24gPSB1cmw7XG59XG5cbmZ1bmN0aW9uICQoKSB7XG4gICAgcmV0dXJuIGdsb2JhbC4kXG59XG5cbmV4cG9ydCB7IGdldENsYXNzZXMsIGZpbmRDbGFzcywgcmVnaXN0ZXIsIGdsb2JhbCwgYXBwLCBsb2NhdGlvbiwgc2V0TG9jYXRpb24sICQgfTsiLCJpbXBvcnQgUGlSYW5kb20gZnJvbSAnLi9yYW5kb20nXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpRXZlbnQge1xuICAgICNsaXN0ID0gW107XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSB1bSBldmVudG8gcGFyYSBzZXIgb2JzZXJ2YWRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gTm9tZSBkbyBldmVudG9cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGN0eCAtIENvbnRleHRvIGRvIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvbmNlIC0gU2UgbyBjYWxsYmFjayBkZXZlcsOhIHNlciBjaGFtYWRvIGFwZW5hcyB1bWEgdmV6XG4gICAgICogQHJldHVybnMge1BpRXZlbnR9XG4gICAgICovXG4gICAgbGlzdGVuKGV2ZW50LCBjYWxsYmFjaywgY3R4LCBvbmNlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdXVpZCA9IFBpUmFuZG9tLnV1aWQoJ3h4eC14eCcpO1xuICAgICAgICBjYWxsYmFjay5pZCA9IHV1aWQ7XG5cbiAgICAgICAgdGhpcy4jbGlzdC5wdXNoKHsgdXVpZDogdXVpZCwgZXZlbnQ6IGV2ZW50LCBjYjogY2FsbGJhY2ssIGN0eDogY3R4LCBvbmNlOiBvbmNlIH0pO1xuXG4gICAgICAgIHJldHVybiB1dWlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlaXhhIGRlIG9ic2VydmFyIHVtIGV2ZW50b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBDYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUV2ZW50fVxuICAgICAqL1xuICAgIHVubGlzdGVuKGV2ZW50LCBjYiA9ICcqJykge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy4jbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLiNsaXN0W2ldO1xuICAgICAgICAgICAgaWYgKGl0ZW0uZXZlbnQgPT0gZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2IgPT09IGl0ZW0udXVpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNsaXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNiID09ICcqJyB8fCBjYi5pZCA9PSBpdGVtLmNiLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2xpc3Quc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW0gZXZlbnRvIHBhcmEgc2VyIG9ic2VydmFkbyBhcGVuYXMgdW1hIHZlelxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFja1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjdHggLSBDb250ZXh0byBkbyBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUV2ZW50fVxuICAgICAqL1xuICAgIG9uY2UoZXZlbnQsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuKGV2ZW50LCBjYWxsYmFjaywgY3R4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXJhIG9zIGNhbGxiYWNrIGFzc29jaWFkb3MgYW8gZXZlbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gTm9tZSBkbyBldmVudG9cbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IGFyZ3MgLSBQYXJhbWV0cm9zIGVudmlhZG9zIGFvIGNhbGxiYWNrIGRvIGV2ZW50b1xuICAgICAqIEByZXR1cm5zIHtQaUV2ZW50fVxuICAgICAqL1xuICAgIHRyaWdnZXIoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IGV2ZW50c09uY2UgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI2xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiNsaXN0W2ldLmV2ZW50ID09IGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLiNsaXN0W2ldO1xuICAgICAgICAgICAgICAgIGl0ZW0uY2IuYXBwbHkoaXRlbS5jdHgsIGFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ub25jZSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudHNPbmNlLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGV2ZW50c09uY2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHRoaXMudW5saXN0ZW4oZXZlbnRzT25jZVtpXS5ldmVudCwgZXZlbnRzT25jZVtpXS5jYik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWZXJpZmljYSBzZSBmb2kgYWRpY2lvbmFkbyB1bSBldmVudG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBOb21lIGRvIGV2ZW50b1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGV4aXN0KGV2ZW50KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLiNsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4jbGlzdFtpXS5ldmVudCA9PSBldmVudCkgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVzZWVkKG5hbWUsIGV2ZW50KSB7XG4gICAgICAgIGlmIChuYW1lIGluc3RhbmNlb2YgUGlFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5fcmVzZWVkQWxsKGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5saXN0ZW4obmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBldmVudC50cmlnZ2VyLmNhbGwoZXZlbnQsIG5hbWUsIC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBfcmVzZWVkQWxsKGV2ZW50KXtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuI2xpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IHRoaXMuI2xpc3RbaV0uZXZlbnQ7XG4gICAgICAgICAgICB0aGlzLnJlc2VlZChldmVudE5hbWUsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0b2RvcyBvcyBldmVudG9zXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpRXZlbnR9XG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuI2xpc3QgPSBbXTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbn07IiwiaW1wb3J0IFBpQ29uZmlnIGZyb20gXCIuL2NvbmZpZ1wiO1xuaW1wb3J0IFBpU3RhdGVtZW50IGZyb20gXCIuL3N0YXRlbWVudFwiO1xuaW1wb3J0IFBpVHlwZSBmcm9tIFwiLi90eXBlXCI7XG5pbXBvcnQgUGlPYmplY3QgZnJvbSBcIi4vb2JqZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJzLCB0aW1lb3V0IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xuXG5jb25zdCBocHMgPSBoZWxwZXJzO1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUV4cHJlc3Npb24ge1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlIC0gVGVtcGxhdGUgYmFzZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlKSB7XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XG5cbiAgICAgICAgdGhpcy5fcnhFeHByZXNzaW9uID0gUGlDb25maWcuZ2V0KCdleHByZXNzaW9uLnhsYW5ndWFnZScpO1xuICAgICAgICB0aGlzLl9yeFZhcmlhYmxlID0gUGlDb25maWcuZ2V0KCdleHByZXNzaW9uLnh2YXJpYWJsZScpO1xuXG4gICAgICAgIHRoaXMuX2xvYWQoKTtcbiAgICB9XG5cbiAgICBzZXREZWxpbWl0ZXJzKHBhdHRlcm4pe1xuICAgICAgICB0aGlzLl9yeEV4cHJlc3Npb24gPSBwYXR0ZXJuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgdG9kYXMgYXMgZXhwcmVzc8O1ZXMgZW5jb250cmFkYXMgbm8gdGVtcGxhdGUgYmFzZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHthcnJheX1cbiAgICAgKi9cbiAgICBnZXQgYWxsKCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9ucyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZXhwcmVzc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2godGhpcy5fY2xlYXIodGhpcy5fZXhwcmVzc2lvbnNbaV0udmFsdWUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHByZXNzaW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHRvZGFzIGFzIHZhcmnDoXZlaXMgZW5jb250cmFkYXMgZGVudHJvIGRhcyBleHByZXNzw7Vlc1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHthcnJheX1cbiAgICAgKi9cbiAgICBnZXQgdmFyaWFibGVzKCkge1xuICAgICAgICBpZiAodGhpcy5fdmFyaWFibGVzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGVzID0gdGhpcy5fZXh0cmFjdEFsbFZhcmlhYmxlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhcmlhYmxlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHJlc3VsdGFkbyBkbyB0ZW1wbGF0ZSBwYXJzZWFkbyBjb20gbyBjb250ZXh0byBpbmZvcm1hZG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHBhcnNlKGNvbnRleHQsIHZhcmlhYmxlcyA9IFtbXSwgW11dKSB7XG4gICAgICAgIGxldCBleHByZXNzaW9ucyA9IHRoaXMuX2V4cHJlc3Npb25zO1xuICAgICAgICBsZXQgcGhyYXNlID0gdGhpcy5fcGhyYXNlO1xuXG4gICAgICAgIGNvbnN0IGNvbnRleHRQcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmtleXMoY29udGV4dCk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRQcm9wZXJ0eVZhbHVlcyA9IE9iamVjdC52YWx1ZXMoY29udGV4dCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZXh0UHJvcGVydHlWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY29udGV4dFByb3BlcnR5VmFsdWVzW2ldO1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0UHJvcGVydHlWYWx1ZXNbaV0gPSB2YWx1ZS5iaW5kKGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyaWFibGVzWzBdID0gY29udGV4dFByb3BlcnR5TmFtZXMuY29uY2F0KHZhcmlhYmxlc1swXSk7XG4gICAgICAgIHZhcmlhYmxlc1sxXSA9IGNvbnRleHRQcm9wZXJ0eVZhbHVlcy5jb25jYXQodmFyaWFibGVzWzFdKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhwcy5hbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGhvb2sgPSBocHMuYWxsW2ldO1xuXG4gICAgICAgICAgICB2YXJpYWJsZXNbMF0ucHVzaChob29rWzBdKTtcbiAgICAgICAgICAgIHZhcmlhYmxlc1sxXS5wdXNoKGhvb2tbMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHByZXNzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb25zW2ldO1xuICAgICAgICAgICAgY29uc3Qgc3RtdCA9IHRoaXMuX2NsZWFyKGV4cHJlc3Npb24udmFsdWUpO1xuXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBQaVN0YXRlbWVudC5leGVjV2l0aFZhcmlhYmxlcyhzdG10LCB2YXJpYWJsZXMsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICBpZiAoUGlUeXBlLmlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnMCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFBpVHlwZS5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGhyYXNlID0gcGhyYXNlLnJlcGxhY2UoZXhwcmVzc2lvbi5rZXksIFBpVHlwZS5pc0Jvb2xlYW4odmFsdWUpID8gdmFsdWUgOiB2YWx1ZSB8fCAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGhyYXNlO1xuICAgIH1cblxuICAgIF9sb2FkKCkge1xuICAgICAgICB2YXIgeyBwaHJhc2UsIGV4cHJlc3Npb25zIH0gPSB0aGlzLl9leHRyYWN0UGhyYXNlQW5kRXhwcmVzc2lvbnMoKTtcbiAgICAgICAgdGhpcy5fcGhyYXNlID0gcGhyYXNlO1xuICAgICAgICB0aGlzLl9leHByZXNzaW9ucyA9IGV4cHJlc3Npb25zO1xuICAgIH1cblxuICAgIF9jbGVhcihleHByZXNzaW9uKSB7XG4gICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UodGhpcy5fcnhFeHByZXNzaW9uLCBmdW5jdGlvbiAoXywgZGJlZ2luLCBib2R5LCBkZW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ucmVwbGFjZSh0aGlzLl9yeFZhcmlhYmxlLCBmdW5jdGlvbiAoXywgZGJlZ2luLCBib2R5LCBkZW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGV4cHJlc3Npb24udHJpbSgpO1xuICAgIH1cblxuICAgIF9leHRyYWN0UGhyYXNlQW5kRXhwcmVzc2lvbnMoKSB7XG4gICAgICAgIHZhciBleHByZXNzaW9ucyA9IFtdO1xuICAgICAgICB2YXIgY291bnRlciA9IDE7XG4gICAgICAgIHZhciBwaHJhc2UgPSB0aGlzLl90ZW1wbGF0ZS5yZXBsYWNlKHRoaXMuX3J4RXhwcmVzc2lvbiwgZnVuY3Rpb24gKGV4cHJlc3Npb25Gb3VuZGVkKSB7XG4gICAgICAgICAgICBjb25zdCB2YXJpYWJsZSA9IGBfJCR7Y291bnRlcisrfV9gO1xuXG4gICAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZXhwcmVzc2lvbkZvdW5kZWQsXG4gICAgICAgICAgICAgICAga2V5OiB2YXJpYWJsZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB2YXJpYWJsZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHsgcGhyYXNlLCBleHByZXNzaW9ucyB9O1xuICAgIH1cblxuICAgIF9leHRyYWN0QWxsVmFyaWFibGVzKCkge1xuICAgICAgICB2YXIgdmFyaWFibGVzID0gdGhpcy5fdGVtcGxhdGUubWF0Y2godGhpcy5fcnhWYXJpYWJsZSkgfHwgW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSB2YXJpYWJsZXNbaV07XG4gICAgICAgICAgICB2YXJpYWJsZXNbaV0gPSB2LnN1YnN0cigxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YXJpYWJsZXM7XG4gICAgfVxuXG4gICAgX2V4dHJhY3RWYXJpYWJsZXMoZXhwcmVzc2lvbikge1xuICAgICAgICB2YXIgdmFyaWFibGVzID0gZXhwcmVzc2lvbi5tYXRjaCh0aGlzLl9yeFZhcmlhYmxlKSB8fCBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdiA9IHZhcmlhYmxlc1tpXTtcbiAgICAgICAgICAgIHZhcmlhYmxlc1tpXSA9IHYuc3Vic3RyKDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhcmlhYmxlcztcbiAgICB9XG5cbiAgICBfZXh0cmFjdFZhcmlhYmxlc1ZhbHVlcyh2YXJpYWJsZU5hbWVzLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFyaWFibGVOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHZhcmlhYmxlTmFtZXNbaV07XG5cbiAgICAgICAgICAgIHZhcmlhYmxlcy5wdXNoKFBpT2JqZWN0LmV4dHJhY3RWYWx1ZShjb250ZXh0LCBuYW1lKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFyaWFibGVzO1xuICAgIH1cblxufSIsImltcG9ydCAgUGlUeXBlIGZyb20gXCIuL3R5cGVcIjtcblxuY29uc3Qgc3RtdFJhbmdlMSA9IC9eKFxcdyspXFxzK2luXFxzK3JhbmdlXFwoXFxzKigtP1xcZCspXFxzKlxcKSQvZ2k7XG5jb25zdCBzdG10UmFuZ2UyID0gL14oXFx3KylcXHMraW5cXHMrcmFuZ2VcXChcXHMqKC0/XFxkKylcXHMqLFxccyooLT9cXGQrKVxccypcXCkkL2dpO1xuY29uc3Qgc3RtdFJhbmdlMyA9IC9eKFxcdyspXFxzK2luXFxzK3JhbmdlXFwoXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqLFxccyooLT9cXGQrKVxccypcXCkkL2dpO1xuY29uc3Qgc3RtdExpdGVyYWwgPSAvXihcXHcrKVxccytpblxccysoWzAtOV0rKSQvZ2k7XG5jb25zdCBzdG10UHJvcGVydHkgPSAvXihcXHcrKVxccytpblxccysoXFx3KykkL2dpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUZvckRpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3Ioc3RtdCkge1xuICAgICAgICB0aGlzLl9zdG10ID0gc3RtdDtcblxuICAgICAgICB0aGlzLl9pdGVyYWJsZUNvdW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faXRlcmFibGVQcm9wZXJ0eSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2l0ZXJhYmxlU3RhcnQgPSAwO1xuICAgICAgICB0aGlzLl9pdGVyYWJsZVN0ZXAgPSAxO1xuICAgICAgICB0aGlzLl9pbmRleE5hbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb29wID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZW5kID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9sb2FkKCk7XG4gICAgfVxuXG4gICAgZ2V0IG9iamVjdEludGVyYWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVyYWJsZVByb3BlcnR5O1xuICAgIH1cblxuICAgIGxvb3AoZm4pIHtcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGVuZChmbikge1xuICAgICAgICB0aGlzLl9lbmQgPSBmbjtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBydW4oY291bnQgPSBudWxsKSB7XG4gICAgICAgIGxldCBsZW5ndGggPSAwO1xuXG4gICAgICAgIGlmIChjb3VudCAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZW5ndGggPSBjb3VudDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9pdGVyYWJsZUNvdW50KSB7XG4gICAgICAgICAgICBsZW5ndGggPSB0aGlzLl9pdGVyYWJsZUNvdW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2l0ZXJhYmxlU3RlcCA8IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLl9pdGVyYWJsZUNvdW50IC0gdGhpcy5faXRlcmFibGVTdGFydDsgaSA+PSAwOyBpICs9IHRoaXMuX2l0ZXJhYmxlU3RlcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvb3AodGhpcy5faW5kZXhOYW1lLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLl9pdGVyYWJsZVN0YXJ0OyBpIDwgbGVuZ3RoOyBpICs9IHRoaXMuX2l0ZXJhYmxlU3RlcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvb3AodGhpcy5faW5kZXhOYW1lLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VuZCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9sb2FkTnVtYmVyKG4pIHtcbiAgICAgICAgY29uc3QgbnVtYmVyID0gcGFyc2VJbnQobik7XG4gICAgICAgIGNvbnN0IGlzTnVtYmVyID0gUGlUeXBlLmlzTnVtYmVyKG51bWJlcik7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYWJsZUNvdW50ID0gbnVtYmVyO1xuICAgICAgICAgICAgdGhpcy5faXRlcmFibGVQcm9wZXJ0eSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYWJsZUNvdW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2l0ZXJhYmxlUHJvcGVydHkgPSBuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2xvYWQoKSB7XG4gICAgICAgIGlmIChzdG10UmFuZ2UxLnRlc3QodGhpcy5fc3RtdCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRGb3JSYW5nZTEoKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdG10UmFuZ2UyLnRlc3QodGhpcy5fc3RtdCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRGb3JSYW5nZTIoKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdG10UmFuZ2UzLnRlc3QodGhpcy5fc3RtdCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRGb3JSYW5nZTMoKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdG10TGl0ZXJhbC50ZXN0KHRoaXMuX3N0bXQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkRm9yTGl0ZXJhbCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0bXRQcm9wZXJ0eS50ZXN0KHRoaXMuX3N0bXQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkRm9yUHJvcGVydHkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGBQaUZvckRpcmVjdGl2ZTogU3RhdGVtZW50IGludsOhbGlkYSBwYXJhIGxhw6dvIGZvciA9ICR7dGhpcy5fc3RtdH0uIFBhZHLDo28gZXNwZXJhZG86ICh2YXJpw6F2ZWwgaW4gbGl0ZXJhbCkgb3UgKHZhcmnDoXZlbCBpbiByYW5nZSh0b3RhbFssIGluaWNpb1ssIHBhc3NvXV0pKWA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbG9hZEZvclJhbmdlMSgpIHtcbiAgICAgICAgdGhpcy5fc3RtdC5yZXBsYWNlKHN0bXRSYW5nZTEsIChzdG10LCBpbmRleE5hbWUsIHByb3BlcnR5TmFtZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9hZE51bWJlcihwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXhOYW1lID0gaW5kZXhOYW1lO1xuXG4gICAgICAgICAgICByZXR1cm4gc3RtdDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2xvYWRGb3JSYW5nZTIoKSB7XG4gICAgICAgIHRoaXMuX3N0bXQucmVwbGFjZShzdG10UmFuZ2UyLCAoc3RtdCwgaW5kZXhOYW1lLCBwcm9wZXJ0eU5hbWUsIHN0YXJ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkTnVtYmVyKHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleE5hbWUgPSBpbmRleE5hbWU7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYWJsZVN0YXJ0ID0gcGFyc2VJbnQoc3RhcnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gc3RtdDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2xvYWRGb3JSYW5nZTMoKSB7XG4gICAgICAgIHRoaXMuX3N0bXQucmVwbGFjZShzdG10UmFuZ2UzLCAoc3RtdCwgaW5kZXhOYW1lLCBwcm9wZXJ0eU5hbWUsIHN0YXJ0LCBzdGVwKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkTnVtYmVyKHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleE5hbWUgPSBpbmRleE5hbWU7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYWJsZVN0YXJ0ID0gcGFyc2VJbnQoc3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5faXRlcmFibGVTdGVwID0gcGFyc2VJbnQoc3RlcCk7XG5cbiAgICAgICAgICAgIHJldHVybiBzdG10O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfbG9hZEZvclByb3BlcnR5KCkge1xuICAgICAgICB0aGlzLl9zdG10LnJlcGxhY2Uoc3RtdFByb3BlcnR5LCAoc3RtdCwgaW5kZXhOYW1lLCBwcm9wZXJ0eU5hbWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWROdW1iZXIocHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4TmFtZSA9IGluZGV4TmFtZTtcblxuICAgICAgICAgICAgcmV0dXJuIHN0bXQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9sb2FkRm9yTGl0ZXJhbCgpIHtcbiAgICAgICAgdGhpcy5fc3RtdC5yZXBsYWNlKHN0bXRMaXRlcmFsLCAoc3RtdCwgaW5kZXhOYW1lLCBwcm9wZXJ0eU5hbWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2l0ZXJhYmxlQ291bnQgPSBwYXJzZUludChwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXhOYW1lID0gaW5kZXhOYW1lO1xuXG4gICAgICAgICAgICByZXR1cm4gc3RtdDtcbiAgICAgICAgfSk7XG4gICAgfVxufTsiLCJpbXBvcnQgUGlGdW5jdGlvbiBmcm9tICcuL2Z1bmN0aW9uJ1xuaW1wb3J0IFBpT2JqZWN0IGZyb20gJy4vb2JqZWN0J1xuXG5jb25zdCBzdG10Rm9yZWFyY2hXaXRoSW5kZXggPSAvXlxcKChcXHcrKVxccyosXFxzKihcXHcrKVxcKVxccytpblxccysoXFx3KyhcXC5cXHcrKSopJC9naTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlGb3JFYWNoRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihzdG10LCBjb250ZXh0ID0ge30sIGZuID0gUGlGdW5jdGlvbi5ub29wKSB7XG4gICAgICAgIHRoaXMuX3N0bXQgPSBzdG10O1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5fZm4gPSBmbjtcbiAgICAgICAgdGhpcy5fZW5kID0gUGlGdW5jdGlvbi5ub29wO1xuXG4gICAgICAgIHRoaXMuX2xvYWQoKTtcbiAgICB9XG5cbiAgICBnZXQgdmFyaWFibGVJbnRlcmFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFyaWFibGVJbnRlcmFibGVOYW1lO1xuICAgIH1cblxuICAgIGdldCBvYmplY3RJbnRlcmFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0SW50ZXJhYmxlTmFtZTtcbiAgICB9XG5cbiAgICBsb29wKGZuKSB7XG4gICAgICAgIHRoaXMuX2ZuID0gZm47XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcnVuKGFycmF5ID0gbnVsbCwgaW5kZXhCZWdpbiA9IDAsIGluZGV4RW5kID0gLTEsIHN0ZXAgPSAxKSB7XG4gICAgICAgIGNvbnN0IG9iamVjdEludGVyYWJsZSA9IGFycmF5IHx8IFBpT2JqZWN0LmV4dHJhY3RWYWx1ZSh0aGlzLl9jb250ZXh0LCB0aGlzLl9vYmplY3RJbnRlcmFibGVOYW1lKTtcblxuICAgICAgICBpZiAob2JqZWN0SW50ZXJhYmxlLmNvbnN0cnVjdG9yLm5hbWUgPT0gJ0Z1bmN0aW9uJyB8fCBvYmplY3RJbnRlcmFibGUuY29uc3RydWN0b3IubmFtZSA9PSAnT2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgZm9yZWFjaEZuID0gbmV3IEZ1bmN0aW9uKCdfdGhpcycsICdvYmonLCAndm4nLCAnaXhuJywgJ2ZuJywgYGZvcihjb25zdCBpIGluIG9iail7Zm4ob2JqLCBpLCB2biwgaXhuKTt9YCk7XG4gICAgICAgICAgICBmb3JlYWNoRm4odGhpcywgb2JqZWN0SW50ZXJhYmxlLCB0aGlzLl92YXJpYWJsZUludGVyYWJsZU5hbWUsIHRoaXMuX3ZhcmlhYmxlSW5kZXhOYW1lLCB0aGlzLl9mbilcbiAgICAgICAgICAgIHRoaXMuX2VuZCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGZvcmVhY2hGbiA9IG5ldyBGdW5jdGlvbignX3RoaXMnLCAnYXJyJywgJ2luZGV4QmVnaW4nLCAnaW5kZXhFbmQnLCAnc3RlcCcsICd2bicsICdpeG4nLCAnZm4nLCBgZm9yKHZhciBpID0gaW5kZXhCZWdpbiA7IGkgPCBpbmRleEVuZCA7IGkgKz0gc3RlcCl7Zm4oYXJyLCBpLCB2biwgaXhuKTt9YCk7XG4gICAgICAgIGlmIChpbmRleEVuZCA9PSAtMSkge1xuICAgICAgICAgICAgaW5kZXhFbmQgPSBvYmplY3RJbnRlcmFibGUubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yZWFjaEZuKHRoaXMsIG9iamVjdEludGVyYWJsZSwgaW5kZXhCZWdpbiwgaW5kZXhFbmQsIHN0ZXAsIHRoaXMuX3ZhcmlhYmxlSW50ZXJhYmxlTmFtZSwgdGhpcy5fdmFyaWFibGVJbmRleE5hbWUsIHRoaXMuX2ZuKVxuICAgICAgICB0aGlzLl9lbmQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBlbmQoZm4pIHtcbiAgICAgICAgdGhpcy5fZW5kID0gZm47XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2xvYWQoKSB7XG4gICAgICAgIGlmIChzdG10Rm9yZWFyY2hXaXRoSW5kZXgudGVzdCh0aGlzLl9zdG10KSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZEZvcmVhY2hJbmRleEFuZFByb3BlcnRpZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRGb3JlYWNoUHJvcGVydGllcygpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBfbG9hZEZvcmVhY2hJbmRleEFuZFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHRoaXMuX3N0bXQucmVwbGFjZShzdG10Rm9yZWFyY2hXaXRoSW5kZXgsIChzdG10LCBpbmRleE5hbWUsIHByb3BlcnR5TmFtZSwgaW50ZXJhYmxlTmFtZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGVJbnRlcmFibGVOYW1lID0gcHJvcGVydHlOYW1lO1xuICAgICAgICAgICAgdGhpcy5fb2JqZWN0SW50ZXJhYmxlTmFtZSA9IGludGVyYWJsZU5hbWU7XG4gICAgICAgICAgICB0aGlzLl92YXJpYWJsZUluZGV4TmFtZSA9IGluZGV4TmFtZTtcblxuICAgICAgICAgICAgcmV0dXJuIHN0bXQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9sb2FkRm9yZWFjaFByb3BlcnRpZXMoKSB7XG4gICAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLl9zdG10O1xuICAgICAgICBjb25zdCB0b2tlbnMgPSBzdG10LnRyaW0oKS5zcGxpdCgnICcpO1xuXG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoICE9IDMpIHtcbiAgICAgICAgICAgIHRocm93IGBQaUZvckVhY2hEaXJlY3RpdmU6IFN0YXRlbWVudCBpbnbDoWxpZGEgcGFyYSBsYcOnbyBmb3JlYWNoID0gJHtzdG10fS4gUGFkcsOjbyBlc3BlcmFkbzogW3ZhcmnDoXZlbCBpbiBpdGVyw6F2ZWxdIG91IFsoaW5kZXgsIHZhcmnDoXZlbCkgaW4gaXRlcsOhdmVsXWA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl92YXJpYWJsZUluZGV4TmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZhcmlhYmxlSW50ZXJhYmxlTmFtZSA9IHRva2Vuc1swXTtcbiAgICAgICAgdGhpcy5fb2JqZWN0SW50ZXJhYmxlTmFtZSA9IHRva2Vuc1syXTtcbiAgICB9XG59OyIsIi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpRnVuY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIEZ1bsOnw6NvIHZhemlhXG4gICAgICovXG4gICAgc3RhdGljIG5vb3AoKSB7IH1cbn07IiwiaW1wb3J0IFBpVHJhbnNsYXRlIGZyb20gXCIuL3RyYW5zbGF0ZVwiO1xuXG5mdW5jdGlvbiB0aW1lb3V0KHRpbWUsIGZuLCBjdHgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZm4uY2FsbChjdHgpO1xuICAgIH0sIHRpbWUpO1xufVxuXG5mdW5jdGlvbiB0aW1lb3V0U2VjKHRpbWUsIGZuLCBjdHgpIHtcbiAgICB0aW1lb3V0KHRpbWUgKiAxMDAwLCBmbiwgY3R4KTtcbn1cblxuZnVuY3Rpb24gZGVib3VuY2UodGltZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZm4sIGN0eCkge1xuICAgICAgICB0aW1lb3V0KHRpbWUsIGZuLCBjdHgpO1xuICAgIH1cbn1cblxuY29uc3QgaGVscGVycyA9IHtcbiAgICBfYWxsOiBbXSxcblxuICAgIHJlZ2lzdGVyKG5hbWUsIGZuKSB7XG4gICAgICAgIHRoaXMuX2FsbC5wdXNoKFtuYW1lLCBmbl0pO1xuICAgIH0sXG5cbiAgICBnZXQgYWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxsO1xuICAgIH1cbn07XG5cbmhlbHBlcnMucmVnaXN0ZXIoJ18nLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFBpVHJhbnNsYXRlLmdldC5hcHBseShQaVRyYW5zbGF0ZSwgYXJndW1lbnRzKTtcbn0pO1xuXG5leHBvcnQgeyB0aW1lb3V0LCB0aW1lb3V0U2VjLCBkZWJvdW5jZSwgaGVscGVycyB9OyIsImltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4vZW52J1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBuZXcgY2xhc3MgUGlJbml0aWFsaXplIHtcbiAgICAjcmVhZHlGbiA9IFtdO1xuICAgICNib290Rm4gPSBbXTtcbiAgICAjYm9vdEluaXQgPSBbXTtcbiAgICAjYm9vdFN0YXJ0ID0gW107XG4gICAgI2lzTG9hZGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEZ1bsOnw6NvIHF1ZSBzZXLDoSBleGVjdXRhZGEgbm8gaW5pY2lvIGRvIGJvb3RcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlJbml0aWFsaXplfVxuICAgICAqL1xuICAgIGJvb3QoZm4pIHtcbiAgICAgICAgdGhpcy4jYm9vdEZuLnVuc2hpZnQoZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1bsOnw6NvIGV4ZWN1dGFkYSBhcG9zIG8gYm9vdFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gQ2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7UGlJbml0aWFsaXplfVxuICAgICAqL1xuICAgIGluaXQoZm4pIHtcbiAgICAgICAgdGhpcy4jYm9vdEluaXQudW5zaGlmdChmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnVuw6fDo28gZXhlY3V0YWRhIGFww7NzIGEgaW5pY2lhbGl6YcOnw6NvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBDYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUluaXRpYWxpemV9XG4gICAgICovXG4gICAgc3RhcnQoZm4pIHtcbiAgICAgICAgdGhpcy4jYm9vdFN0YXJ0LnVuc2hpZnQoZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGEgYSBzZXF1ZW5jaWEgZGUgaW5jaWFsaXphw6fDo286IGJvb3QgLT4gY2FsbGJhY2sgLT4gcmVhZHlcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICBsb2FkKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKG9rKSA9PiB7XG4gICAgICAgICAgICBnbG9iYWwuJCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4jZGlzcGF0Y2godGhpcy4jYm9vdEZuKTtcbiAgICAgICAgICAgICAgICB0aGlzLiNkaXNwYXRjaCh0aGlzLiNib290SW5pdCk7XG4gICAgICAgICAgICAgICAgdGhpcy4jZGlzcGF0Y2godGhpcy4jYm9vdFN0YXJ0KTtcbiAgICAgICAgICAgICAgICB0aGlzLiNkaXNwYXRjaCh0aGlzLiNyZWFkeUZuKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuI2lzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnOyknKVxuICAgICAgICAgICAgICAgIG9rKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnVuw6fDo28gZXhlY3V0YWRhIGFww7NzIHRvZG8gcHJvY2Vzc28gZGUgaW5pY2lhbGl6YcOnw6NvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBxdWUgc2Vyw6EgZXhlY3V0YWRhIGRlcG9pcyBxdWUgbyBzaXN0ZW1hIGVzdGl2ZXIgaW5pY2lhbGl6YWRvXG4gICAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAgICovXG4gICAgcmVhZHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgob2ssIGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuI2lzTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgb2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuI3JlYWR5Rm4udW5zaGlmdChvayk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICNkaXNwYXRjaChhcnIpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFycltpXSgpO1xuICAgICAgICB9XG4gICAgfVxufTsiLCJpbXBvcnQgeyByZWdpc3RlciB9IGZyb20gJy4vZW52JztcbmltcG9ydCBQaUNsYXNzIGZyb20gJy4vY2xhc3MnXG5pbXBvcnQgUGlBY3Rpb24gZnJvbSAnLi9hY3Rpb24nXG5pbXBvcnQgUGlPYmplY3QgZnJvbSAnLi9vYmplY3QnO1xuaW1wb3J0IFBpQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50J1xuaW1wb3J0IFBpU3RyaW5nIGZyb20gJy4vc3RyaW5nJztcbmltcG9ydCBQaUNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgUGlVcmwgZnJvbSAnLi91cmwnO1xuaW1wb3J0IFBpQXBwIGZyb20gJy4vYXBwJztcbmltcG9ydCBQaVR5cGUgZnJvbSAnLi90eXBlJztcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlNb2RlbCB7XG4gICAgI3BhcmFtZXRlcnMgPSBudWxsO1xuICAgICNhY3Rpb25MaXN0ID0gW107XG4gICAgI3ZhbGlkYXRvckxpc3QgPSBbXTtcbiAgICAjYmFzZVVybCA9ICcnO1xuXG4gICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICB0aGlzLiNhY3Rpb25MaXN0ID0gW107XG4gICAgICAgIHRoaXMuI3ZhbGlkYXRvckxpc3QgPSBbXTtcbiAgICAgICAgdGhpcy4jYmFzZVVybCA9ICcnO1xuXG4gICAgICAgIGlmIChQaVR5cGUuaXNPYmplY3QoYXJnc1swXSkpIHtcbiAgICAgICAgICAgIFBpT2JqZWN0LmV4dGVuZEFuZENhbGwodGhpcywgYXJnc1swXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiNwYXJhbWV0ZXJzID0gYXJnc1swXSA9PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3NbMF07XG5cbiAgICAgICAgdGhpcy5pbml0KC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIGdldEJhc2VVcmwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNiYXNlVXJsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluamV0YSBhcyBwcm9wcmllZGFkZXMgZG8gb2JqZXRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtqc29ufSBqc29uIC0gT2JqZXRvIGEgc2VyIGluamV0YWRvIG5vIG9iamV0byBhdHVhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIF9pbmplY3QoanNvbikge1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBqc29uKSB7XG4gICAgICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IGpzb25bcHJvcGVydHldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvbmEgbyBvYmpldG8gYXR1YWxcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgdGhpcy5jbG9uZVdpbGxMb2FkKCk7XG4gICAgICAgIGxldCBqc29uID0gdGhpcy50b0pzb24oKTtcbiAgICAgICAgbGV0IGNsb25lID0gbmV3IHRoaXMuY29uc3RydWN0b3IoanNvbik7XG4gICAgICAgIHRoaXMuY2xvbmVEaWRMb2FkKGNsb25lKTtcblxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuXG4gICAgY2xvbmVEaWRMb2FkKCkge1xuXG4gICAgfVxuXG4gICAgY2xvbmVXaWxsTG9hZCgpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyaWEgdW1hIG5vdmEgaW5zdGFuY2lhIGRhIGNsYXNzZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSAgey4uLmFueX0gYXJncyBcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIGNyZWF0ZSguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvciguLi5hcmdzKTtcbiAgICB9XG5cbiAgICB0b0pzb24oKSB7XG4gICAgICAgIHRoaXMuanNvbldpbGxDb252ZXJ0KCk7XG4gICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzKSk7XG4gICAgICAgIHRoaXMuanNvbkRpZENvbnZlcnQoanNvbik7XG5cbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxuXG4gICAganNvbkRpZENvbnZlcnQoanNvbikge1xuXG4gICAgfVxuXG4gICAganNvbldpbGxDb252ZXJ0KCkge1xuXG4gICAgfVxuXG4gICAgaW5zdGFuY2VzKCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6YSBhcyByb3Rhc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVcmwgYmFzZSB1dGlsaXphZGEgcGVsYXMgYWN0aW9ucyBwYXJhIGFzIHJlcXVlc3RzXG4gICAgICovXG4gICAgaW5pdCh1cmwpIHtcbiAgICAgICAgdGhpcy5fbG9hZEFjdGlvbnMoKTtcbiAgICAgICAgdGhpcy5fbG9hZFZhbGlkYXRpb25zKCk7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnVXJsKHVybCB8fCB0aGlzLiNwYXJhbWV0ZXJzLnVybCB8fCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5qZXRhIG8ganNvbiBkZW50cm8gZGEgbW9kZWxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0ganNvbiAtIEpzb24gYSBzZXIgaW5qZXRhZG8gbm8gbW9kZWxvXG4gICAgICogQHJldHVybnMge1BpTW9kZWx9XG4gICAgICovXG4gICAgaW5pdFdpdGhKc29uKGpzb24pIHtcbiAgICAgICAgdGhpcy5faW5qZWN0KGpzb24pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIHVtYSBhY3Rpb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5vbWUgZGEgcm90YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdG10IC0gUm90YSBubyBmb3JtYXRvOiBNRVRIT0Q6L3JvdXRlP3F1ZXJ5c3RyaW5nXG4gICAgICogQHJldHVybnMge1BpTW9kZWx9XG4gICAgICovXG4gICAgYWRkQWN0aW9uKG5hbWUsIHN0bXQpIHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gbmV3IFBpQWN0aW9uKHtcbiAgICAgICAgICAgIGFjdGlvbk5hbWU6IG5hbWUsXG4gICAgICAgICAgICBhY3Rpb25TdG10OiBzdG10LFxuICAgICAgICAgICAgbW9kZWw6IHRoaXNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4jYWN0aW9uTGlzdFtuYW1lXSA9IGFjdGlvbjtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSB1bWEgcmVncmEgZGUgdmFsaWRhw6fDo28gcGFyYSB1bWEgcHJvcHJpZWRhZGUgZGEgbW9kZWxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFByb3ByaWVkYWRlIGRhIG1vZGVsXG4gICAgICogQHBhcmFtIHtQaVZhbGlkYXRvcn0gcnVsZSAtIENsYXNzZSBxdWUgaW1wbGVtZW50YSBhIHJlZ3JhIGRlIHZhbGlkYcOnw6NvXG4gICAgICogQHJldHVybnMge1BpTW9kZWx9XG4gICAgICovXG4gICAgYWRkVmFsaWRhdG9yKG5hbWUsIHJ1bGUpIHtcbiAgICAgICAgdGhpcy4jdmFsaWRhdG9yTGlzdFtuYW1lXSA9IHJ1bGU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB1bSBvYmpldG8gbGl0ZXJhbCBjb250ZW5kbyB0b2RhcyBhcyByZWdyYXMgZGUgdmFsaWRhw6fDo29cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIHZhbGlkYXRvcnMoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHVtIG9iamV0byBsaXRlcmFsIGNvbnRlbmRvIHRvZGFzIGFzIGFjdGlvbnNcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIGFjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgdW0gdmFsb3IgcGFyYSB1bWEgcHJvcHJpZWRhZGUuXG4gICAgICogRXN0ZSBtw6l0b2RvIGRpc3BhcmEgYSBleGVjdcOnw6NvIGRhIHZhbGlkYcOnw6NvIFxuICAgICAqIGRlIHByb3ByaWVkYWRlIGFudGVzIGRlIGluc2VyaXIgbyB2YWxvclxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBOb21lIGRhIHByb3ByaWVkYWRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHZhbHVlIC0gVmFsb3IgZGEgcHJvcHJpZWRhZGVcbiAgICAgKiBAcmV0dXJucyB7UGlNb2RlbH1cbiAgICAgKi9cbiAgICBzZXRQcm9wZXJ0eShrZXksIHZhbHVlLCB0eXBlKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzID0ga2V5LnNwbGl0KCcuJyk7XG4gICAgICAgIGxldCBpc0NvbXBvc2VkID0gbmFtZXMubGVuZ3RoID4gMSxcbiAgICAgICAgICAgIHJ1bGUgPSB0aGlzLiN2YWxpZGF0b3JMaXN0W2tleV07XG5cbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdpbnQnOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmKGlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoaXNDb21wb3NlZCkge1xuICAgICAgICAgICAgbGV0IGxhc3QgPSBuYW1lc1tuYW1lcy5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IFBpT2JqZWN0LmV4dHJhY3RQcm9wZXJ0eUNvbnRleHQodGhpcywga2V5KTtcblxuICAgICAgICAgICAgaWYgKHByb3BlcnR5IGluc3RhbmNlb2YgUGlNb2RlbCkge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5LnNldFByb3BlcnR5KGxhc3QsIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5W2xhc3RdIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlbbGFzdF0odmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5W2xhc3RdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocnVsZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpc1trZXldIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1trZXldKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJ1bGUubG9hZCh0aGlzLCBrZXksIHZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChydWxlLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBydWxlLmxhYmVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VyZSBhIG1vZGVsIGNhc28gaWQgc2VqYSB6ZXJvIG91IGF0dWFsaXphIGEgbW9kZWwgXG4gICAgICogY2FzbyBvIHZhbG9yIGRvIGlkIHNlamEgbWFpb3IgcXVlIHplcm9cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIHNhdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlkID09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuaW5zZXJ0KClcbiAgICAgICAgZWxzZSBpZiAodGhpcy5pZCA9PSAwKSByZXR1cm4gdGhpcy5pbnNlcnQoKTtcbiAgICAgICAgZWxzZSByZXR1cm4gdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHVtYSBhY3Rpb24gcGVsbyBub21lXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOb21lIGRhIGFjdGlvblxuICAgICAqIEByZXR1cm5zIHtQaUFjdGlvbn1cbiAgICAgKi9cbiAgICBnZXRBY3Rpb24obmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy4jYWN0aW9uTGlzdFtuYW1lXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZW50YXIgaW5qZXRhciBvcyBkYXRhLW1vZGVscyBkbyBjb21wb25lbnQgbmEgbW9kZWwgY2FzbyBvIHBhcmFtZXRybyBzZWphIHVtIFBpQ29tcG9uZW50LlxuICAgICAqIFJldG9ybmEgZW0gdW0gYXJyYXkgc3RyaW5nIGNvbSB0b2RvcyBvcyBlcnJvcyBlbmNvbnRyYWRvcy5cbiAgICAgKiBTZSBvIHBhcmFtZXRybyBmb3IgdW0ganNvbiBlbGUgaXJhIGluamV0YXIgYXMgcHJvcHJpZWRhZGVzIG5hIG1vZGVsLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7UGlDb21wb25lbnR9IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIFxuICAgICAqIEByZXR1cm5zIHthcnJheX1cbiAgICAgKi9cbiAgICBpbmplY3QoY29tcG9uZW50LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIFBpQ29tcG9uZW50IHx8IGNvbXBvbmVudCBpbnN0YW5jZW9mIFBpQXBwKSB7XG4gICAgICAgICAgICBsZXQgbmFtZXMgPSBQaVN0cmluZy5jbGlwcyhjb21wb25lbnQuZWxlbWVudC5pbm5lckhUTUwsICdkYXRhLW1vZGVsPVwiJywgJ1wiJyksXG4gICAgICAgICAgICAgICAgaXNDb21wb25lbnQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBbXTtcblxuICAgICAgICAgICAgb3B0aW9ucyA9IFBpT2JqZWN0LmV4dGVuZCh7fSwge1xuICAgICAgICAgICAgICAgIGludmFsaWRJbnB1dENsYXNzOiAnaW52YWxpZC1mZWVkYmFjaydcbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByb3BlcnR5ID0gbmFtZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBjb21wb25lbnQuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2RlbD1cIicgKyBwcm9wZXJ0eSArICdcIl0nKSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmZpcnN0Q2hpbGQgJiYgZWxlbWVudC5maXJzdENoaWxkLl9oYXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBlbGVtZW50LmZpcnN0Q2hpbGQuX2NvbXBvbmVudC5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgaXNDb21wb25lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5faGFzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZWxlbWVudC5fY29tcG9uZW50LmdldCgpO1xuICAgICAgICAgICAgICAgICAgICBpc0NvbXBvbmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXNDb21wb25lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBlbGVtZW50LmdldCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBuZXh0RWxlbWVudCA9IGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50TWVzc2FnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRFbGVtZW50ICYmIG5leHRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgndmFsaWRhdGlvbi1tZXNzYWdlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1lc3NhZ2UgPSBuZXh0RWxlbWVudDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50TWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50TWVzc2FnZS5zZXRBdHRyaWJ1dGUoJ3ZhbGlkYXRpb24tbWVzc2FnZScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShlbGVtZW50TWVzc2FnZSwgZWxlbWVudC5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxlbWVudE1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICBlbGVtZW50TWVzc2FnZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICBlbGVtZW50TWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKG9wdGlvbnMuaW52YWxpZElucHV0Q2xhc3MpO1xuICAgICAgICAgICAgICAgIHBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKCd3YXMtdmFsaWRhdGVkJyk7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFByb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHlwZScpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChtc2cpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1lc3NhZ2UuaW5uZXJIVE1MID0gbXNnO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50TWVzc2FnZS5jbGFzc0xpc3QuYWRkKG9wdGlvbnMuaW52YWxpZElucHV0Q2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50TWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eShtc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5hZGQoJ3dhcy12YWxpZGF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKG1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIFBpTW9kZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbmplY3QoY29tcG9uZW50LnRvSnNvbigpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5qZWN0KGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcmVxdWVzdFdpbGxHZXQoanNvbikge1xuXG4gICAgfVxuXG4gICAganNvbkRpZENvbnZlcnQoanNvbikge1xuXG4gICAgfVxuXG4gICAgcmVxdWVzdERpZEdldChqc29uKSB7XG5cbiAgICB9XG5cbiAgICByZXF1ZXN0V2lsbFBvc3QoanNvbikge1xuXG4gICAgfVxuXG4gICAgcmVxdWVzdERpZFBvc3QoanNvbikge1xuXG4gICAgfVxuXG4gICAgcmVzcG9uc2VTdWNjZXNzV2lsbExvYWQoYWN0aW9uLCB1cmwsIGRhdGEpIHtcbiAgICAgICAgdGhpcy5yZXNwb25zZVN1Y2Nlc3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICByZXNwb25zZVN1Y2Nlc3MoYWN0aW9uLCB1cmwsIC4uLmFyZ3MpIHtcbiAgICAgICAgYWN0aW9uLnByb2Nlc3NTdWNjZXNzUmVzcG9uc2UuYXBwbHkoYWN0aW9uLCBhcmdzKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZVN1Y2Nlc3NEaWRMb2FkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgcmVzcG9uc2VTdWNjZXNzRGlkTG9hZCgpIHtcblxuICAgIH1cblxuICAgIHJlc3BvbnNlRXJyb3JXaWxsTG9hZChhY3Rpb24sIHVybCwgZGF0YSkge1xuICAgICAgICB0aGlzLnJlc3BvbnNlRXJyb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICByZXNwb25zZUVycm9yKGFjdGlvbiwgdXJsLCAuLi5hcmdzKSB7XG4gICAgICAgIGFjdGlvbi5wcm9jZXNzRXJyb3JSZXNwb25zZS5hcHBseShhY3Rpb24sIGFyZ3MpO1xuICAgICAgICB0aGlzLnJlc3BvbnNlRXJyb3JEaWRMb2FkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgcmVzcG9uc2VFcnJvckRpZExvYWQoKSB7XG5cbiAgICB9XG5cbiAgICBfbG9hZEFjdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHVzZXJBY3Rpb25zID0gdGhpcy5hY3Rpb25zKCk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRBY3Rpb25zID0ge1xuICAgICAgICAgICAgJ2FkZCc6ICdQT1NUOi8nLFxuICAgICAgICAgICAgJ2luc2VydCc6ICdQT1NUOi8nLFxuICAgICAgICAgICAgJ3VwZGF0ZSc6ICdQVVQ6LzppZCcsXG4gICAgICAgICAgICAncmVtb3ZlJzogJ1JFTU9WRTovOmlkJyxcbiAgICAgICAgICAgICdnZXQnOiAnR0VUOi86aWQnLFxuICAgICAgICAgICAgJ2ZpbmQnOiAnR0VUOi9maW5kLzppZCcsXG4gICAgICAgICAgICAnYWxsJzogJ0dFVDovJ1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhY3Rpb25zID0gUGlPYmplY3QuZXh0ZW5kKHt9LCBkZWZhdWx0QWN0aW9ucywgdXNlckFjdGlvbnMpO1xuXG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gYWN0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5hZGRBY3Rpb24obmFtZSwgYWN0aW9uc1tuYW1lXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY29uZmlnVXJsKHVybCkge1xuICAgICAgICBjb25zdCBtb2RlbFVybCA9IFBpQ29uZmlnLmdldCgnbW9kZWwudXJsJyk7XG5cbiAgICAgICAgaWYgKG1vZGVsVXJsID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRCYXNlVXJsKHVybCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldEJhc2VVcmwobW9kZWxVcmwgKyB1cmwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0QmFzZVVybCh1cmwpIHtcbiAgICAgICAgaWYgKHVybCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuI2Jhc2VVcmwgPSBQaVVybC5jcmVhdGUoJ2xvY2FsaG9zdCcpLmhyZWYoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuI2Jhc2VVcmwgPSB1cmw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfbG9hZFZhbGlkYXRpb25zKCkge1xuICAgICAgICBjb25zdCB2YWxpZGF0b3JzID0gdGhpcy52YWxpZGF0b3JzKCk7XG4gICAgICAgIGZvciAodmFyIHYgaW4gdmFsaWRhdG9ycykge1xuICAgICAgICAgICAgdGhpcy5hZGRWYWxpZGF0b3IodiwgdmFsaWRhdG9yc1t2XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVnaXN0ZXIobW9kZWwpIHtcbiAgICAgICAgcmVnaXN0ZXIobW9kZWwpXG4gICAgfVxufTsiLCJIVE1MRWxlbWVudC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xuICAgIH1cblxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTExpbmtFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgIH1cblxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiB0aGlzLnR5cGUgPT0gJ2NoZWNrYm94Jykge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVja2VkO1xuICAgIH1cblxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiB0aGlzLnR5cGUgPT0gJ3JhZGlvJykge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVja2VkO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnZhbHVlO1xufTtcblxuSFRNTFByZUVsZW1lbnQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbm5lckhUTUw7XG59O1xuXG5IVE1MUHJlRWxlbWVudC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHYpIHtcbiAgICB0aGlzLmlubmVySFRNTCA9IHY7XG59O1xuXG5IVE1MRWxlbWVudC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHYpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ3NyYycsIHYpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBIVE1MTGlua0VsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB2KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiB0aGlzLnR5cGUgPT0gJ2NoZWNrYm94Jykge1xuICAgICAgICB0aGlzLmNoZWNrZWQgPSB2O1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIHRoaXMudHlwZSA9PSAncmFkaW8nKSB7XG4gICAgICAgIHRoaXMuY2hlY2tlZCA9IHY7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnZhbHVlID0gdjtcbn07IiwiaW1wb3J0IFBpUmFuZG9tIGZyb20gJy4vcmFuZG9tJ1xuaW1wb3J0IFBpU3RyaW5nIGZyb20gJy4vc3RyaW5nJztcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBuYW1lIFBpT2JqZWN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpT2JqZWN0IHtcblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIGUgY2hhbWEgdG9kYXMgYXMgcHJvcHJpZWRhZGVzIGNvbSBub21lIGRlIGZ1bsOnw6NvIGRvcyBhcmd1bWVudG9zIG5vIHByaW1laXJvIHBhcmFtZXRyb1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGV4dGVuZEFuZENhbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBkc3QgPSBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgb2JqID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBwIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZHN0W3BdID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgZHN0W3BdKG9ialtwXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZHN0W3BdID0gb2JqW3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFpIG8gY29udGV4dG8gb25kZSBwcm9wcmllZGFkZSBleGlzdGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gb2JqZXRvXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IC0gcGF0aCBkYSBwcm9wcmllZGFkZVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGV4dHJhY3RQcm9wZXJ0eUNvbnRleHQgPSBmdW5jdGlvbiAob2JqLCBwcm9wZXJ0eSkge1xuICAgICAgICBsZXQgcCA9IHByb3BlcnR5LnNwbGl0KCcuJyk7XG5cbiAgICAgICAgaWYgKHAubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBtID0gcFtpXTtcbiAgICAgICAgICAgICAgICBpZiAob2JqW21dID09IHVuZGVmaW5lZCkgb2JqW21dID0ge307XG4gICAgICAgICAgICAgICAgb2JqID0gb2JqW21dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFtYSB1bWEgZnVuw6fDo28gZGUgY2FsbGJhY2sgc2VtcHJlIHF1ZSBhIHByb3ByaWVkYWRlIGRvIG9iamV0byBmb3IgYWx0ZXJhZGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gT2JqZXRvIGJhc2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgLSBOb21lIGRhIHByb3ByaWVkYWRlIGEgc2VyIG1vbml0b3JhZGFcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIGV4ZWN1dGFkbyBzZW1wcmUgYSBhIHByb3ByaWVkYWRlIMOpIGFsdGVyYWRhXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVlcCA9IHRydWVdIGRlZXAgLSBEZWZpbmUgc2UgYXMgcHJvcHJpZWRhZGVzIGFjaW1hIHRhbWJlbSBzZXLDo28gb2JzZXJ2YWRhc1xuICAgICAqL1xuICAgIHN0YXRpYyBvbiA9IGZ1bmN0aW9uIChvYmosIHByb3BlcnR5LCBjYWxsYmFjaywgZGVlcCA9IHRydWUpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRWYWx1ZSA9IFBpT2JqZWN0LmV4dHJhY3RWYWx1ZShvYmosIHByb3BlcnR5KTtcbiAgICAgICAgbGV0IHBhdGggPSBwcm9wZXJ0eS5zcGxpdCgnLicpO1xuXG4gICAgICAgIGlmIChvYmouX19vblNldExpc3QgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvYmouX19vblNldExpc3QgPSBbXTtcbiAgICAgICAgICAgIG9iai5fX29uU2V0Rm4gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvYmouX19vblNldEZuW3Byb3BlcnR5XSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9iai5fX29uU2V0Rm5bcHJvcGVydHldID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleGlzdCA9IG9iai5fX29uU2V0TGlzdC5maW5kKHAgPT4gcCA9PSBwcm9wZXJ0eSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKCFleGlzdCkge1xuICAgICAgICAgICAgY29uc3QgX29iaiA9IFBpT2JqZWN0LmV4dHJhY3RQcm9wZXJ0eUNvbnRleHQob2JqLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICBjb25zdCBfcHJvcGVydHkgPSBQaVN0cmluZy5sYXN0KHByb3BlcnR5LCAnLicpO1xuXG4gICAgICAgICAgICBpZiAoIShfcHJvcGVydHkgPT0gJ2xlbmd0aCcgJiYgUGlUeXBlLmlzQXJyYXkoX29iaikpKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9vYmosIF9wcm9wZXJ0eSwge1xuICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyckZuID0gb2JqLl9fb25TZXRGbltwcm9wZXJ0eV07XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyckZuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyRm5baV0uY2IodmFsdWUsIHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgb2JqLl9fb25TZXRMaXN0LnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaWQgPSBQaVJhbmRvbS51dWlkKCd4eHgteHh4Jyk7XG4gICAgICAgIGxldCBpZHMgPSBbaWRdO1xuICAgICAgICBvYmouX19vblNldEZuW3Byb3BlcnR5XS5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIGNiOiBjYWxsYmFja1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZGVlcCAmJiBwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHBhdGgucG9wKCk7XG4gICAgICAgICAgICBjb25zdCBfaWRzID0gUGlPYmplY3Qub24ob2JqLCBwYXRoLmpvaW4oJy4nKSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgaWRzID0gaWRzLmNvbmNhdChfaWRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpZHM7XG4gICAgfVxuXG4gICAgc3RhdGljIG9mZiA9IGZ1bmN0aW9uIChvYmosIGlkcykge1xuICAgICAgICBpZiAob2JqLl9fb25TZXRGbiA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgcHJvcGVydHkgaW4gb2JqLl9fb25TZXRGbikge1xuICAgICAgICAgICAgY29uc3QgYXJyID0gb2JqLl9fb25TZXRGbltwcm9wZXJ0eV07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBhcnJbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlkcy5maW5kKGUgPT4gZSA9PSBpdGVtLmlkKSkge1xuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFpIG8gdmFsb3IgZGUgdW1hIHByb3ByaWVkYWRlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIG9iamV0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSAtIHBhdGggZGEgcHJvcHJpZWRhZGVcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIHN0YXRpYyBleHRyYWN0VmFsdWUgPSBmdW5jdGlvbiAob2JqLCBwcm9wZXJ0eSkge1xuICAgICAgICBjb25zdCBwID0gcHJvcGVydHkuc3BsaXQoJy4nKTtcblxuICAgICAgICBpZiAocC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvYmogPSBvYmpbcFtpXV1cbiAgICAgICAgICAgICAgICBpZiAob2JqID09IHVuZGVmaW5lZCkgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqW3Byb3BlcnR5XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEF0cmlidWkgdW0gdmFsb3IgYSB1bWEgcHJvcHJpZWRhZGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gb2JqZXRvXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IC0gcGF0aCBkYSBwcm9wcmlkYWRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHZhbHVlIC0gdmFsb3IgYSBzZXIgaW5zZXJpZG8gbmEgcHJvcHJpZWRhZGVcbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0UHJvcGVydHkgPSBmdW5jdGlvbiAob2JqLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgcCA9IHByb3BlcnR5LnNwbGl0KCcuJyk7XG5cbiAgICAgICAgaWYgKHAubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgY29uc3QgbGFzdFByb3BlcnR5ID0gcFtwLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIG9iaiA9IG9ialtwW2ldXVxuICAgICAgICAgICAgICAgIGlmIChvYmogPT0gdW5kZWZpbmVkKSBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2JqW2xhc3RQcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ialtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIHRvZGFzIGFzIHByb3ByaWVkYWRlcyBlIG1ldG9kb3MgZGUgdG9kb3Mgb3MgcGFyYW1ldHJvcyBubyBwcmltZWlyb1xuICAgICAqIFxuICAgICAqIEBtZXRob2QgUGlPYmplY3QuZXh0ZW5kXG4gICAgICogQHBhcmFtIHthcmd1bWVudHN9IGFyZ1xuICAgICAqIEByZXR1cm4ge29iamVjdH1cbiAgICAgKi9cbiAgICBzdGF0aWMgZXh0ZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG9iaiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAobGV0IHYgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdW3ZdID0gb2JqW3ZdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICB9XG59OyIsImltcG9ydCBQaUNsYXNzIGZyb20gJy4vY2xhc3MnXG5pbXBvcnQgeyByZWdpc3RlciB9IGZyb20gJy4vZW52JztcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlQcm9taXNlIGV4dGVuZHMgUGlDbGFzcyB7XG4gICAgI2lzT25jZSA9IGZhbHNlO1xuICAgICNwcm9taXNlID0gdGhpcy5uZXdQcm9taXNlKCk7XG5cbiAgICBpbnN0YW5jZXMoKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFc3BlcmEgYXTDqSBxdWUgdG9kYXMgYXMgcHJvbWlzZXMgaW5mb3JtYWRhcyBwb3IgcGFyYW1ldHJvXG4gICAgICogc2VqYW0gcmVzb2x2aWRhcy4gQ2hhbWEgbyBjYWxsYmFjayBkZSBvayBjYXNvIGhhamEgc3VjZXNzb1xuICAgICAqIGVtIHRvZG9zIG9zIHJldG9ybm9zLiBDYXNvIGhhamEgdW0gZXJybyByZXRvcm5hIG8gY2FsbGJhY2sgZGUgZXJyb3JcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIHN0YXRpYyB3YWl0KHByb21pc2VzID0gbnVsbCkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQaVByb21pc2UoKTtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICB2YXIgYXJyID0gcHJvbWlzZXMgfHwgYXJndW1lbnRzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcnJbaV0uZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPT0gYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID8gcHJvbWlzZS5yZXNvbHZlKCkgOiBwcm9taXNlLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgdW1hIHByb21pc2UgbmF0aXZhIGFzc29jaWFkYSBhIGluc3RhbmNpYVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFByb21pc2VcbiAgICAgKi9cbiAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNwcm9taXNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyaWEgdW1hIHByb21pc2UgbmF0aXZhIGFzc29jaWFkYSBhIGluc3RhbmNpYVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFByb21pc2VcbiAgICAgKi9cbiAgICBuZXdQcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vayhyZXNvbHZlKTtcbiAgICAgICAgICAgIHRoaXMuZXJyb3IocmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZSBhIHByb21pc2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIHJlc29sdmUoKSB7XG4gICAgICAgIHRoaXMuX2FyZ09rID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHRoaXMuX2NhbGxPaygpO1xuICAgICAgICB0aGlzLl9jYWxsT25jZSgpO1xuICAgICAgICB0aGlzLl9jYWxsRG9uZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLiNpc09uY2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKipcbiAgICAgKiBWaW5jdWxhIHVtYSBwcm9taXNlIMOgIHByb21pc2UgYXR1YWxcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIGxpbmsocHJvbWlzZSkge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgICAgICBwcm9taXNlLm9rKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYucmVzb2x2ZS5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwcm9taXNlLmVycm9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYucmVqZWN0LmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlamVpdGEgYSBwcm9taXNlXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpUHJvbWlzZX1cbiAgICAgKi9cbiAgICByZWplY3QoKSB7XG4gICAgICAgIHRoaXMuX2FyZ0VyciA9IGFyZ3VtZW50cztcblxuICAgICAgICB0aGlzLl9jYWxsRXJyKCk7XG4gICAgICAgIHRoaXMuX2NhbGxEb25lKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuI2lzT25jZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgY2FsbGJhY2sgZGlzcGFyYWRvIHF1YW5kbyBhIHByb21pc2UgZm9yIHJlc29sdmlkYVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIE9iamV0byBkZSBjb250ZXh0b1xuICAgICAqIEByZXR1cm5zIHtQaVByb21pc2V9XG4gICAgICovXG4gICAgb2soY2IsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fY2JPay5wdXNoKHsgY2I6IGNiLCBjb250ZXh0OiBjb250ZXh0IH0pO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc09rKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxsT2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIHBhcmEgbcOpdG9kbyBva1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIE9iamV0byBkZSBjb250ZXh0b1xuICAgICAqIEByZXR1cm5zIHtQaVByb21pc2V9XG4gICAgICovXG4gICAgdGhlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSBjYWxsYmFjayBkaXNwYXJhZG8gYXBlbmFzIHVtYSB2ZXogcXVhbmRvIGEgcHJvbWlzZSBmb3IgcmVzb2x2aWRhXG4gICAgICogXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBDYWxsYmFja1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IC0gT2JqZXRvIGRlIGNvbnRleHRvXG4gICAgICogQHJldHVybnMge1BpUHJvbWlzZX1cbiAgICAgKi9cbiAgICBvbmNlKGNiLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX2NiT25jZS5wdXNoKHsgY2I6IGNiLCBjb250ZXh0OiBjb250ZXh0IH0pO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc09rKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxsT25jZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgY2FsbGJhY2sgZGlzcGFyYWRvIHF1YW5kbyBhIHByb21pc2UgZm9yIHJlamVpdGFkYVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIE9iamV0byBkZSBjb250ZXh0b1xuICAgICAqIEByZXR1cm5zIHtQaVByb21pc2V9XG4gICAgICovXG4gICAgZXJyb3IoY2IsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fY2JFcnIucHVzaCh7IGNiOiBjYiwgY29udGV4dDogY29udGV4dCB9KTtcblxuICAgICAgICBpZiAodGhpcy5faXNFcnIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbGxFcnIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKipcbiAgICAgKiBBbGlhcyBwYXJhIG3DqXRvZG8gZXJyb3JcbiAgICAgKi9cbiAgICBjYXRjaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSBjYWxsYmFjayBkaXNwYXJhZG8gc2VtcHJlIHF1ZSBhIHByb21pc2Ugw6kgcmVzb2x2aWRhIG91IHJlamVpdGFkYVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIE9iamV0byBkZSBjb250ZXh0b1xuICAgICAqIEByZXR1cm5zIHtQaVByb21pc2V9XG4gICAgICovXG4gICAgZG9uZShjYiwgY29udGV4dCkge1xuICAgICAgICB0aGlzLl9jYkRvbmUucHVzaCh7IGNiOiBjYiwgY29udGV4dDogY29udGV4dCB9KTtcblxuICAgICAgICBpZiAodGhpcy5faXNEb25lKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxsRG9uZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpYXMgcGFyYSBtw6l0b2RvIGRvbmVcbiAgICAgKi9cbiAgICBmaW5hbGx5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb25lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGltcGEgdG9kb3Mgb3MgY2FsbGJhY2tzXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpUHJvbWlzZX1cbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fY2JPayA9IFtdO1xuICAgICAgICB0aGlzLl9jYkVyciA9IFtdO1xuICAgICAgICB0aGlzLl9jYkRvbmUgPSBbXTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldGEgdG9kb3Mgb3MgdmFsb3Jlc1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaVByb21pc2V9XG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2NiT2sgPSBbXTtcbiAgICAgICAgdGhpcy5fY2JFcnIgPSBbXTtcbiAgICAgICAgdGhpcy5fY2JEb25lID0gW107XG4gICAgICAgIHRoaXMuX2NiT25jZSA9IFtdO1xuXG4gICAgICAgIHRoaXMuX2lzT2sgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNFcnIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNEb25lID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fYXJnT2sgPSBbXTtcbiAgICAgICAgdGhpcy5fYXJnRXJyID0gW107XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdG9Qcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcHJvbWlzZTtcbiAgICB9XG5cbiAgICBfY2FsbChhcnIsIGFyZ3MpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGFyci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgYXJyW2ldLmNiLmFwcGx5KGFycltpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jYWxsT25jZSgpIHtcbiAgICAgICAgdGhpcy5faXNPayA9IHRydWU7XG4gICAgICAgIHRoaXMuX2NhbGwodGhpcy5fY2JPbmNlLCB0aGlzLl9hcmdPayk7XG4gICAgICAgIHRoaXMuX2NiT25jZSA9IFtdO1xuICAgIH1cblxuICAgIF9jYWxsT2soKSB7XG4gICAgICAgIHRoaXMuX2lzT2sgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jYWxsKHRoaXMuX2NiT2ssIHRoaXMuX2FyZ09rKTtcbiAgICB9XG5cbiAgICBfY2FsbEVycigpIHtcbiAgICAgICAgdGhpcy5faXNFcnIgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jYWxsKHRoaXMuX2NiRXJyLCB0aGlzLl9hcmdFcnIpO1xuICAgIH1cblxuICAgIF9jYWxsRG9uZSgpIHtcbiAgICAgICAgdGhpcy5faXNEb25lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2FsbCh0aGlzLl9jYkRvbmUsIFtdKTtcbiAgICB9XG59O1xuXG5yZWdpc3RlcihQaVByb21pc2UpOyIsImltcG9ydCB7IHJlZ2lzdGVyIH0gZnJvbSBcIi4vZW52XCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpUmFuZG9tIHtcbiAgICBzdGF0aWMgI3NlZWQgPSAwO1xuICAgIC8qKlxuICAgICAqIEdlcmEgdW0gbsO6bWVybyBhbGVhdMOzcmlvXG4gICAgICogXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdG9yKCkge1xuICAgICAgICByZXR1cm4gUGlSYW5kb20ucmFuZ2UoMCwgTnVtYmVyLk1BWF9WQUxVRSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VyYSB1bSBuw7ptZXJvIGFsZWF0w7NyaW8gZW50cmUge21pbn0gZSB7bWF4fVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBfbWluIC0gVmFsb3IgbcOtbmltb1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBfbWF4IC0gVmFsb3IgbcOheGltb1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgc3RhdGljIHJhbmdlKF9taW4sIF9tYXgpIHtcbiAgICAgICAgX21pbiA9IF9taW4gfHwgMDtcbiAgICAgICAgX21heCA9IF9tYXggfHwgTnVtYmVyLk1BWF9WQUxVRTtcblxuICAgICAgICBsZXQgcmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDEgKyBfbWF4IC0gX21pbikpICsgX21pbjtcblxuICAgICAgICBpZiAocmFuZG9tID4gX21heCkgcmV0dXJuIF9tYXg7XG4gICAgICAgIGVsc2UgcmV0dXJuIHJhbmRvbTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdXVpZChmb3JtYXQpIHtcbiAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgbGV0IHV1aWQgPSAoZm9ybWF0IHx8ICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnKS5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICBsZXQgciA9IChkICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDtcbiAgICAgICAgICAgIGQgPSBNYXRoLmZsb29yKGQgLyAxNik7XG4gICAgICAgICAgICByZXR1cm4gKGMgPT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KSkudG9TdHJpbmcoMTYpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdXVpZCArIChQaVJhbmRvbS4jc2VlZCsrKTtcbiAgICB9XG5cbn07XG5cbnJlZ2lzdGVyKFBpUmFuZG9tKTsiLCJpbXBvcnQgUGlDb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IFBpQ2xhc3MgZnJvbSAnLi9jbGFzcyc7XG5pbXBvcnQgUGlVcmwgZnJvbSAnLi91cmwnO1xuXG5jbGFzcyBDaGFpblJlcXVlc3RJdGVtIHtcbiAgICBuZXh0ID0gbnVsbDtcbiAgICAjZm4gPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IoZm4pIHtcbiAgICAgICAgdGhpcy4jZm4gPSBmbjtcbiAgICB9XG5cbiAgICBpbnZva2UoKSB7XG4gICAgICAgIHRoaXMuI2ZuLmNhbGwodGhpcy4jZm4sIC4uLmFyZ3VtZW50cywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5uZXh0Lmludm9rZSguLi5hcmd1bWVudHMpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmNsYXNzIENoYWluUmVxdWVzdCB7XG4gICAgI3JlcXVlc3RzID0gW107XG5cbiAgICBmaXJzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuI3JlcXVlc3RzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLiNyZXF1ZXN0c1swXTtcbiAgICB9XG5cbiAgICBsYXN0KCkge1xuICAgICAgICBpZiAodGhpcy4jcmVxdWVzdHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuI3JlcXVlc3RzW3RoaXMuI3JlcXVlc3RzLmxlbmd0aCAtIDFdO1xuICAgIH1cblxuICAgIGFkZChmbikge1xuICAgICAgICBpZiAoZm4gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5sYXN0KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBuZXcgQ2hhaW5SZXF1ZXN0SXRlbShmbik7XG4gICAgICAgIGlmIChsYXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxhc3QubmV4dCA9IGN1cnJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiNyZXF1ZXN0cy5wdXNoKGN1cnJlbnQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGludm9rZSgpIHtcbiAgICAgICAgY29uc3QgZmlyc3QgPSB0aGlzLmZpcnN0KCk7XG4gICAgICAgIGlmIChmaXJzdCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGZpcnN0Lmludm9rZS5hcHBseShmaXJzdCwgYXJndW1lbnRzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlSZXF1ZXN0IGV4dGVuZHMgUGlDbGFzcyB7XG4gICAgI3NlbmRpbmcgPSBmYWxzZTtcbiAgICAjeGhyID0gbnVsbDtcbiAgICAjY2hhaW5SZXF1ZXN0ID0gbmV3IENoYWluUmVxdWVzdCgpO1xuICAgICNtZXRob2QgPSAnUE9TVCc7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLiNjaGFpblJlcXVlc3RcbiAgICAgICAgICAgIC5hZGQoUGlDb25maWcuZ2V0KCdyZXF1ZXN0LmZldGNoJykpXG4gICAgICAgICAgICAuYWRkKCh1cmwsIHNldHRpbmdzLCBzdWNjZXNzLCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZldGNoKHVybCwgc2V0dGluZ3MpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiNzZW5kaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnRleHQoKS50aGVuKCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3ModGV4dCwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UudGV4dCgpLnRoZW4oKHRleHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IodGV4dCwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jeGhyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLm1lc3NhZ2UgPT0gJ0ZhaWxlZCB0byBmZXRjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihgeyBcIm1lc3NhZ2VcIjogXCIke2UubWVzc2FnZX1cIiwgXCJzdGF0dXNcIjogXCJlcnJvclwiIH1gLCA1MDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcihgeyBcIm1lc3NhZ2VcIjogXCJvZmZsaW5lXCIsIFwic3RhdHVzXCI6IFwiZXJyb3JcIiB9YCwgNTAzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhZGRIYW5kbGVyKGZuKSB7XG4gICAgICAgIHRoaXMuI2NoYWluUmVxdWVzdC5hZGQoZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFib3J0YSBvIHJlcXVlc3QgY2FzbyBhIHNvbGljaXRhw6fDo28gdGVuaGEgc2lkbyBlbnZpYWRhXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpUmVxdWVzdH1cbiAgICAgKi9cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuI3hocikge1xuICAgICAgICAgICAgdGhpcy4jeGhyLmFib3J0KCk7XG4gICAgICAgICAgICB0aGlzLiN4aHIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy4jc2VuZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBzZSBhIHJlcXVlc3QgZXN0YSBzZW5kbyBlbnZpYWRhXG4gICAgICogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaXNTZW5kaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc2VuZGluZztcbiAgICB9XG5cbiAgICBzZXRNZXRob2QobWV0aG9kKSB7XG4gICAgICAgIHRoaXMuI21ldGhvZCA9IG1ldGhvZDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnZpYSB1bWEgcmVxdWVzdCBkbyB0aXBvIEdFVFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVcmwgZGEgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBRdWVyeSBzdHJpbmcgY29tbyBvYmpldG9cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICBnZXQodXJsLCBvYmosIGNvbmZpZyA9ICh4aHIpID0+IHsgcmV0dXJuIHhocjsgfSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHFzID0gJyc7XG5cbiAgICAgICAgICAgIGlmIChvYmogIT0gdW5kZWZpbmVkKSBxcyA9ICc/JyArIHRoaXMuI2NvbnZlcnRPYmplY3RUb0Zvcm1EYXRhKG9iaik7XG5cbiAgICAgICAgICAgIHRoaXMuI3JlcXVlc3RHZXQodXJsICsgcXMsICh0ZXh0LCBzdGF0dXNDb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0ZXh0LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgIH0sICh0ZXh0LCBzdGF0dXNDb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHRleHQsIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgfSwgY29uZmlnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW52aWEgdW1hIHNvbGljaXRhw6fDo28gZG8gdGlwbyBHRVQgZSBmYXogbyBwYXJzZSBKU09OIGRhIHJlc3Bvc3RhXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFVybCBkYSByZXF1ZXN0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIFF1ZXJ5IHN0cmluZyBjb21vIG9iamV0b1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgICAqL1xuICAgIGdldEpzb24odXJsLCBvYmosIGNvbmZpZyA9ICh4aHIpID0+IHsgcmV0dXJuIHhocjsgfSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHFzID0gJyc7XG5cbiAgICAgICAgICAgIGlmIChvYmogIT0gdW5kZWZpbmVkKSBxcyA9ICc/JyArIHRoaXMuI2NvbnZlcnRPYmplY3RUb0Zvcm1EYXRhKG9iaik7XG5cbiAgICAgICAgICAgIHRoaXMuI3JlcXVlc3RHZXQodXJsICsgcXMsXG4gICAgICAgICAgICAgICAgKHRleHQsIHN0YXR1c0NvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiNleGlzdFByb3RvY29sKGpzb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi5zdGF0dXMgPT0gJ29rJykgcmVzb2x2ZShqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgcmVqZWN0KGpzb24ubWVzc2FnZSwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGpzb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHt9LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuI2V4aXN0UHJvdG9jb2woanNvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uLnN0YXR1cyA9PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGpzb24ubWVzc2FnZSwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoanNvbiwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBjb25maWcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnZpYSB1bWEgc29saWNpdGHDp8OjbyBkbyB0aXBvIFBPU1QuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFVybCBkYSByZXF1ZXNldFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBPYmpldG8gYSBzZXIgZW52aWFkbyBubyBmb3JtYXRvIHZhbHVlPWtleVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgICAqL1xuICAgIHBvc3QodXJsLCBvYmosIGNvbmZpZyA9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBmb3JtRGF0YSA9IHRoaXMuI2NvbnZlcnRPYmplY3RUb0Zvcm1EYXRhKG9iaik7XG5cbiAgICAgICAgICAgIHRoaXMuI3JlcXVlc3RQb3N0KHVybCwgZW5jb2RlVVJJKGZvcm1EYXRhKSxcbiAgICAgICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRleHQsIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKHRleHQsIHN0YXR1c0NvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRleHQsIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKHhocikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB4aHIuaGVhZGVycy5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnKHhocik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geGhyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnZpYSBwYXJhIGEgdXJsIGluZm9ybWFkYSBhcnJheSBkZSBGaWxlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFVybCBkYSByZXF1ZXN0IGUgZmF6IG8gcGFyc2UgSlNPTiBkYSByZXNwb3N0YVxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGZpbGVzIC0gQXJyYXkgRmlsZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgICAqL1xuICAgIHNlbmRGaWxlcyh1cmwsIGZpbGVzLCBjb25maWcgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChgZmlsZSR7aX1gLCBmaWxlc1tpXSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLiNyZXF1ZXN0UG9zdCh1cmwsIGZvcm1EYXRhLFxuICAgICAgICAgICAgICAgICh0ZXh0LCBzdGF0dXNDb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuI2V4aXN0UHJvdG9jb2woanNvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uLnN0YXR1cyA9PSAnb2snKSByZXNvbHZlKGpzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSByZWplY3QoanNvbi5tZXNzYWdlLCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoanNvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICh0ZXh0LCBzdGF0dXNDb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3Qoe30sIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4jZXhpc3RQcm90b2NvbChqc29uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24uc3RhdHVzID09ICdlcnJvcicpIHJlamVjdChqc29uLm1lc3NhZ2UsIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGpzb24sIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAoeGhyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZyh4aHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhocjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW52aWEgdW1hIHNvbGljaXRhw6fDo28gZG8gdGlwbyBQT1NUIGUgZmF6IG8gcGFyc2UgSlNPTiBkYSByZXNwb3N0YVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVcmwgZGEgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBPYmpldG8gYSBzZXIgZW52aWFkbyBubyBmb3JtYXRvIGpzb25cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICBwb3N0SnNvbih1cmwsIG9iaiwgY29uZmlnID0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4jcmVxdWVzdFBvc3QodXJsLCBKU09OLnN0cmluZ2lmeShvYmopLFxuICAgICAgICAgICAgICAgICh0ZXh0LCBzdGF0dXNDb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuI2V4aXN0UHJvdG9jb2woanNvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uLnN0YXR1cyA9PSAnb2snKSByZXNvbHZlKGpzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSByZWplY3QoanNvbi5tZXNzYWdlLCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoanNvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICh0ZXh0LCBzdGF0dXNDb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3Qoe30sIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4jZXhpc3RQcm90b2NvbChqc29uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24uc3RhdHVzID09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoanNvbi5tZXNzYWdlLCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChqc29uLCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKHhocikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB4aHIuaGVhZGVycy5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZyh4aHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhocjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgI3JlcXVlc3RHZXQodXJsLCBzdWNjZXNzLCBlcnJvciwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuI21ldGhvZCA9ICdHRVQnO1xuICAgICAgICB0aGlzLiNjcmVhdGVSZXF1ZXN0KHVybCxcbiAgICAgICAgICAgICh0ZXh0LCBzdGF0dXNDb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgc3VjY2Vzcyh0ZXh0LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIGVycm9yKHRleHQsIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICh4aHIpID0+IHtcbiAgICAgICAgICAgICAgICB4aHIubWV0aG9kID0gdGhpcy4jbWV0aG9kO1xuICAgICAgICAgICAgICAgIHhoci5oZWFkZXJzLmFwcGVuZCgnWC1SZXF1ZXN0ZWQtV2l0aCcsICdYTUxIdHRwUmVxdWVzdCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZyh4aHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgICNyZXF1ZXN0UG9zdCh1cmwsIGZvcm1EYXRhLCBzdWNjZXNzLCBlcnJvciwgY29uZmlnKSB7XG4gICAgICAgIC8vIGxldCBhdXRoID0gUGkuZ2V0Q29uZmlnKCdyZXF1ZXN0LkF1dGhvcml6YXRpb24nKTtcblxuICAgICAgICB0aGlzLiNjcmVhdGVSZXF1ZXN0KHVybCxcbiAgICAgICAgICAgICh0ZXh0LCBzdGF0dXNDb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgc3VjY2Vzcyh0ZXh0LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIGVycm9yKHRleHQsIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICh4aHIpID0+IHtcbiAgICAgICAgICAgICAgICB4aHIubWV0aG9kID0gdGhpcy4jbWV0aG9kO1xuICAgICAgICAgICAgICAgIHhoci5oZWFkZXJzLmFwcGVuZCgnWC1SZXF1ZXN0ZWQtV2l0aCcsICdYTUxIdHRwUmVxdWVzdCcpO1xuICAgICAgICAgICAgICAgIHhoci5ib2R5ID0gZm9ybURhdGE7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnKHhocik7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgI2NyZWF0ZVJlcXVlc3QodXJsLCBzdWNjZXNzLCBlcnJvciwgY29uZmlnKSB7XG4gICAgICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgaGVhZGVycy5hcHBlbmQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonKTtcblxuICAgICAgICB0aGlzLiN4aHIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIHZhciBzZXR0aW5ncyA9IGNvbmZpZyh7XG4gICAgICAgICAgICBzaWduYWw6IHRoaXMuI3hoci5zaWduYWwsXG4gICAgICAgICAgICBtb2RlOiAnY29ycycsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBfdXJsID0gdXJsIGluc3RhbmNlb2YgUGlVcmwgPyB1cmwgOiBQaVVybC5jcmVhdGUodXJsKTtcblxuICAgICAgICB0aGlzLiNzZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy4jY2hhaW5SZXF1ZXN0Lmludm9rZShfdXJsLCBzZXR0aW5ncywgc3VjY2VzcywgZXJyb3IpO1xuICAgIH1cblxuICAgICNleGlzdFByb3RvY29sKGpzb24pIHtcbiAgICAgICAgcmV0dXJuIGpzb24uc3RhdHVzO1xuICAgIH1cblxuICAgICNjb252ZXJ0T2JqZWN0VG9Gb3JtRGF0YShvYmopIHtcbiAgICAgICAgbGV0IGVuY29kZWRTdHJpbmcgPSAnJztcblxuICAgICAgICBmb3IgKGxldCBwcm9wIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgIGlmIChlbmNvZGVkU3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlZFN0cmluZyArPSAnJic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVuY29kZWRTdHJpbmcgKz0gcHJvcCArICc9JyArIG9ialtwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbmNvZGVkU3RyaW5nO1xuICAgIH1cblxufTsiLCIvKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaVN0YXRlbWVudCB7XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRhIHVtYSBzdGF0ZW1lbnQgaW5pY2lhbmRvIGVtIHVtIGNvbnRleHRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0YXRlbWVudCAtIFN0YXRlbWVudCBxdWUgc2Vyw6EgZXhlY3V0YWRhIGRlbnRybyBkbyBjb250ZXh0b1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IC0gQ29udGV4dG8gZGUgZXhlY3XDp8Ojb1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGV4ZWMoc3RhdGVtZW50LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBQaVN0YXRlbWVudC5leGVjV2l0aFZhcmlhYmxlcyhzdGF0ZW1lbnQsIFtbXSwgW11dLCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRhIHVtYSBzdGF0ZW1lbnQgZGVudHJvIGRlIHVtIGNvbnRleHRvIGNvbSB2YXJpYXbDqWlzIGRlIGVzY29wb1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0ZW1lbnQgLSBTdGF0ZW1lbnRcbiAgICAgKiBAcGFyYW0ge2FycmF5fSB2YXJpYWJsZXMgLSBBcnJheSBjb20gb3Mgbm9tZXMgZSB2YWxvcmVzIGRhcyB2YXJpw6F2ZWlzXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBPYmpldG8gZGUgY29udGV4dG9cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIHN0YXRpYyBleGVjV2l0aFZhcmlhYmxlcyhzdGF0ZW1lbnQsIHZhcmlhYmxlcywgY29udGV4dCkge1xuICAgICAgICBjb25zdCB2YXJpYWJsZU5hbWVzID0gdmFyaWFibGVzWzBdO1xuICAgICAgICBjb25zdCB2YXJpYWJsZVZhbHVlcyA9IHZhcmlhYmxlc1sxXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhYmxlTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZSA9IHZhcmlhYmxlTmFtZXNbaV07XG4gICAgICAgICAgICBpZiAodmFyaWFibGVOYW1lID09ICd0aGlzJykge1xuICAgICAgICAgICAgICAgIHZhcmlhYmxlTmFtZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyaWFibGVOYW1lc1tpXSA9IHZhcmlhYmxlTmFtZXNbaV0ucmVwbGFjZUFsbCgnLicsICcnKTtcbiAgICAgICAgICAgIHN0YXRlbWVudCA9IHN0YXRlbWVudC5yZXBsYWNlQWxsKHZhcmlhYmxlTmFtZSwgdmFyaWFibGVOYW1lc1tpXSlcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZ1bmMgPSBuZXcgRnVuY3Rpb24oJ190aGlzJywgLi4udmFyaWFibGVOYW1lcywgYHJldHVybiAoZnVuY3Rpb24oKXtyZXR1cm4gJHtzdGF0ZW1lbnR9fSkuY2FsbChfdGhpcyk7YCk7XG4gICAgICAgIHJldHVybiBmdW5jKGNvbnRleHQsIC4uLnZhcmlhYmxlVmFsdWVzKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgcmVnaXN0ZXIgfSBmcm9tIFwiLi9lbnZcIjtcbmltcG9ydCBQaVR5cGUgZnJvbSBcIi4vdHlwZVwiO1xuLyoqXG4gKiBAY2xhc3MgXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpU3RyaW5nIHtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0ZSB0b2RhcyBhcyBwYWxhdnJhcyBkYSBzdHJpbmcgcGFyYSBjYXBpdGFsLiBBcyBwYWxhdnJhcyBwb2RlbSBlc3RhciBzZXBlcmFkYXMgcG9yIGVzcGHDp28gb3UgXyBvdSAtXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIHN0cmluZyBcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGNhcGl0YWwoc3RyKSB7XG4gICAgICAgIGlmICghUGlUeXBlLmlzU3RyaW5nKHN0cikpIHJldHVybiAnJztcblxuICAgICAgICBzdHIgPSBzdHIudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBsZXQgcCA9IC8oXltcXHNfXFwuLV0qXFx3fFtcXHNcXC5fLV1cXHcpKy9naSxcbiAgICAgICAgICAgIG0gPSBzdHIubWF0Y2gocCk7XG5cbiAgICAgICAgZm9yIChsZXQgdiBpbiBtKSB7XG4gICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShtW3ZdLCBtW3ZdLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSDDumx0aW1hIHBhbGF2cmEgc2VwYXJhZGEgcG9yIGNhcmFjdGVyXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZXBhcmF0b3IgLSBTZXBhcmFkb3IgZGUgcGFsYXZyYXNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBsYXN0KHN0ciwgc2VwYXJhdG9yID0gJyAnKSB7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IHN0ci5zcGxpdChzZXBhcmF0b3IpO1xuXG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIGEgcHJpbWVpcmEgcGFsYXZyYSBzZXBhcmFkYSBwb3IgY2FyYWN0ZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlcGFyYXRvciAtIFNlcGFyYWRvciBkZSBwYWxhdnJhc1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGZpcnN0KHN0ciwgc2VwYXJhdG9yID0gJyAnKSB7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IHN0ci5zcGxpdChzZXBhcmF0b3IpO1xuXG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG9rZW5zWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgdW1hIHN0cmluZyBmb3JtYXRhZGEgc2VndW5kbyBvcyBtYXJjYWRvcmVzIGRlIHRleHRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbn0gZm9ybWF0IC0gU3RyaW5nIGNvbSBtYXJjYWRvcmVzIGRlIHRleHRvXG4gICAgICogQHBhcmFtICB7Li4uYW55fSBhcmdzIC0gTGlzdGEgZGUgdmFsb2VycyBwYXJhIG9zIG1hcmNhZG9yZXMgZGUgdGV4dG9cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBmb3JtYXQoZm9ybWF0LCAuLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQucmVwbGFjZSgveyhcXGQrKX0vZywgZnVuY3Rpb24gKG1hdGNoLCBudW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgYXJnc1tudW1iZXJdICE9ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyBhcmdzW251bWJlcl1cbiAgICAgICAgICAgICAgICA6IG1hdGNoXG4gICAgICAgICAgICAgICAgO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmF6IG8gcmVjb3J0ZSBubyB0ZXh0byBiYXNlYWRvIG5vcyBjYXJhY3RlcmVzIGluZm9ybWFkb3Mgbm9zIHBhcmFtZXRyb3MgYmVnaW5Xb3JkIGUgZW5kV29yZFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGV4dG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYmVnaW5Xb3JkIC0gUGFsYXZyYSBxdWUgaW5pY2lhIG8gY2xpcHBpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZW5kV29yZCAtIFBhbGF2cmEgcXVlIGZpbmFsaXphIG8gY2xpcHBpbmdcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBjbGlwcyh0ZXh0LCBiZWdpbldvcmQsIGVuZFdvcmQpIHtcbiAgICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgICBsZXQgaSA9IC0xO1xuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpID0gdGV4dC5pbmRleE9mKGJlZ2luV29yZCwgaSArIDEpO1xuICAgICAgICAgICAgaWYgKGkgPT0gLTEpIGJyZWFrO1xuICAgICAgICAgICAgaSArPSBiZWdpbldvcmQubGVuZ3RoO1xuXG4gICAgICAgICAgICBsZXQgZiA9IHRleHQuaW5kZXhPZihlbmRXb3JkLCBpICsgMSk7XG4gICAgICAgICAgICBpZiAoZiA9PSAtMSkgYnJlYWs7XG5cbiAgICAgICAgICAgIGFyci5wdXNoKHRleHQuc3Vic3RyKGksIGYgLSBpKSk7XG4gICAgICAgICAgICBpID0gZiArIDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWZXJpZmljYSBzZSBvIG9iamV0byBldmVudCBmb3JuZWNpZG8gY29udMOpbSBhcGVuYXMgY2FyYWN0ZXJlcyBhbHBoYW51bcOpcmljb3NcbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIGlzQWxwaGFOdW1lcmljXG4gICAgICogQHBhcmFtIHtldmVudH0gZSBcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBpc0FscGhhTnVtZXJpYyhlKSB7XG4gICAgICAgIGxldCBjaGFyQ29kZSA9IChlLndoaWNoKSA/IGUud2hpY2ggOiBlLmtleUNvZGU7XG4gICAgICAgIGlmIChjaGFyQ29kZSA9PSA4KSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBsZXQga2V5bnVtO1xuICAgICAgICBsZXQga2V5Y2hhcjtcbiAgICAgICAgbGV0IGNoYXJjaGVjayA9IC9bYS16QS1aMC05XS87XG4gICAgICAgIGlmICh3aW5kb3cuZXZlbnQpIC8vIElFXG4gICAgICAgIHtcbiAgICAgICAgICAgIGtleW51bSA9IGUua2V5Q29kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChlLndoaWNoKSAvLyBOZXRzY2FwZS9GaXJlZm94L09wZXJhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAga2V5bnVtID0gZS53aGljaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBrZXljaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShrZXludW0pO1xuICAgICAgICByZXR1cm4gY2hhcmNoZWNrLnRlc3Qoa2V5Y2hhcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG9kb3Mgb3MgZXNwYcOnb3MgcGFyYSBjw7NkaWdvIGh0bWwgJm5ic3A7XG4gICAgICogXG4gICAgICogQG1ldGhvZCBzcGFjZTJuYnNwXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciBcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIHNwYWNlMm5ic3Aoc3RyKSB7XG4gICAgICAgIGlmIChzdHIgPT0gbnVsbCkgcmV0dXJuICcnO1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xccy9naSwgJyZuYnNwOycpLnJlcGxhY2UoL1xcLS9naSwgJyZuYnNwOy0mbmJzcDsnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdHLDqnMgcG9udG9zIGFvIGZpbmFsIGRhIHN0cmluZyBkZSBzZXUgdGFtYW5obyBleGNlZGVyIG8gbGltaXRlIGZvcm5lY2lkb1xuICAgICAqIFxuICAgICAqIEBtZXRob2QgcmV0aWNlbmNpYXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIFxuICAgICAqIEBwYXJhbSB7aW50fSBsZW5ndGggXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyByZXRpY2VuY2lhcyhzdHIsIGxlbmd0aCkge1xuICAgICAgICBpZiAoc3RyLmxlbmd0aCA+IGxlbmd0aCkgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMCwgbGVuZ3RoKSArICcuLi4nO1xuICAgICAgICBlbHNlIHJldHVybiBzdHI7XG4gICAgfVxuICAgIDtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdG9kb3Mgb3MgZXNwYcOnb3MgZGEgc3RyaW5nXG4gICAgICogXG4gICAgICogQG1ldGhvZCByZW1vdmVTcGFjZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyByZW1vdmVTcGFjZShzdHIpIHtcbiAgICAgICAgcmV0dXJuIChzdHIgfHwgJycpLnJlcGxhY2UoL1xccyovZ2ksICcnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBhIHByaW1laXJhIHBhbGF2cmEgZGEgc3RyaW5nXG4gICAgICogXG4gICAgICogQG1ldGhvZCBmaXJ0V29yZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBmaXJzdFdvcmQoc3RyKSB7XG4gICAgICAgIGlmIChQaVR5cGUuaXNTdHJpbmcoc3RyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ci5zcGxpdCgnICcpWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgYSDDumx0aW1hIHBhbGF2cmEgZGEgc3RyaW5nXG4gICAgICogXG4gICAgICogQG1ldGhvZCBsYXN0V29yZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBsYXN0V29yZChzdHIpIHtcbiAgICAgICAgaWYgKFBpVHlwZS5pc1N0cmluZyhzdHIpKSB7XG4gICAgICAgICAgICBsZXQgcCA9IHN0ci5zcGxpdCgnICcpO1xuICAgICAgICAgICAgcmV0dXJuIHBbcC5sZW5ndGggLSAxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgYSBwcmltZWlyYSBlIMO6bHRpbWEgcGFsYXZyYXMgZGEgc3RyaW5nXG4gICAgICogXG4gICAgICogQG1ldGhvZCBmaXJzdEFuZGxhc3RXb3JkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciBcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGZpcnN0QW5kbGFzdFdvcmQoc3RyKSB7XG4gICAgICAgIGxldCBwID0gc3RyLnNwbGl0KCcgJyk7XG4gICAgICAgIGxldCBmaXJzdCA9ICcnO1xuXG4gICAgICAgIGlmIChwLmxlbmd0aCA9PSAxKSByZXR1cm4gc3RyO1xuXG4gICAgICAgIGZpcnN0ID0gc3RyLnNwbGl0KCcgJylbMF07XG5cbiAgICAgICAgcmV0dXJuIGZpcnN0ICsgJyAnICsgcFtwLmxlbmd0aCAtIDFdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0ZSB0b2RhcyBhcyBwYWxhdnJhcyBkYSBzdHJpbmcgcGFyYSBjYXBpdGFsLiBBcyBwYWxhdnJhcyBwb2RlbSBlc3RhciBzZXBlcmFkYXMgcG9yIGVzcGHDp28gb3UgX1xuICAgICAqIFxuICAgICAqIEBtZXRob2QgY2FwaXRhbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBjYXBpdGFsKHN0cikge1xuICAgICAgICBpZiAoIVBpVHlwZS5pc1N0cmluZyhzdHIpKSByZXR1cm4gJyc7XG5cbiAgICAgICAgc3RyID0gc3RyLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgbGV0IHAgPSAvKF5bXFxzX1xcLi1dKlxcd3xbXFxzXFwuXy1dXFx3KSsvZ2ksXG4gICAgICAgICAgICBtID0gc3RyLm1hdGNoKHApO1xuXG4gICAgICAgIGZvciAobGV0IHYgaW4gbSkge1xuICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UobVt2XSwgbVt2XS50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcblxuICAgIHN0YXRpYyByZXBsYWNlKGlucHV0LCBzZWFyY2gsIHJlcGxhY2VtZW50KSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKG5ldyBSZWdFeHAoc2VhcmNoLCAnZycpLCByZXBsYWNlbWVudCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZHV6IHVtIG5vbWUgZW0gbiAtIDEgcGFsYXZyYXMgaW5pY2lhaXMgbWFpcyBhIHVsdGltYSBwYWxhdnJhXG4gICAgICogXG4gICAgICogQG1ldGhvZCBjdXRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIFxuICAgICAqIEBwYXJhbSB7aW50fSB0b3RhbCBcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGN1dChzdHIsIHRvdGFsKSB7XG4gICAgICAgIGlmICghUGlUeXBlLmlzU3RyaW5nKHN0cikgfHwgdG90YWwgPCAwKSByZXR1cm4gc3RyO1xuXG4gICAgICAgIGxldCBwID0gc3RyLnNwbGl0KCcgJyksXG4gICAgICAgICAgICBhcnIgPSBbXTtcblxuICAgICAgICAvL2FkaWNpb25hIGEgcHJpbWVpcmEgcGFsYXZyYVxuICAgICAgICBhcnIucHVzaChwWzBdKTtcblxuICAgICAgICBpZiAodG90YWwgPiBwLmxlbmd0aCkgdG90YWwgPSBwLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIGFyci5wdXNoKHBbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9hZGljaW9uYSBhIHVsdGltYSBwYWxhdnJhXG4gICAgICAgIGlmIChwLmxlbmd0aCA+IHRvdGFsKSB7XG4gICAgICAgICAgICBhcnIucHVzaChwW3AubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyci5qb2luKCcgJyk7XG4gICAgfVxufTtcblxucmVnaXN0ZXIoUGlTdHJpbmcpOyIsImltcG9ydCBQaU9iamVjdCBmcm9tICcuL29iamVjdCdcbi8qKlxuICogY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgbmV3IGNsYXNzIFBpVHJhbnNsYXRlIHtcbiAgICAjdGFibGUgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0YWJsZSAtIENhcnJlZ2EgdW1hIHRhYmVsYSBkZSB0cmFkdcOnw6NvIHBhcmEgbyB0cmFuc2xhdGVcbiAgICAgKiBAcmV0dXJucyB7UGlUcmFuc2xhdGV9XG4gICAgICovXG4gICAgbG9hZCh0YWJsZSkge1xuICAgICAgICBQaU9iamVjdC5leHRlbmQodGhpcy4jdGFibGUsIHRhYmxlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgdW0gdmFsb3IgcGFyYSB1bWEgY2hhdmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBWYWxvclxuICAgICAqIEByZXR1cm5zIHtQaVRyYW5zbGF0ZX1cbiAgICAgKi9cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLiN0YWJsZVtrZXldID0gdmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB1bSB2YWxvciBkZSB1bWEgZGFkYSBjaGF2ZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBDaGF2ZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0KGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy4jdGFibGVba2V5XSB8fCAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWZXJpZmljYSBzZSBleGlzdGUgdW1hIGNoYXZlIG5hIHRhYmVsYSBkZSB0cmFkdcOnw6NvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENoYXZlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZXhpc3Qoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN0YWJsZVtrZXldICE9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcGFnYSB0b2RhIGEgdGFiZWxhIGRlIHRyYWR1w6fDo29cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlUcmFuc2xhdGV9XG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuI3RhYmxlID0ge307XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn07IiwiaW1wb3J0IHtnbG9iYWx9IGZyb20gJy4vZW52J1xuXG4vKipcbiAqIEBjbGFzc1xuICogQG5hbWUgUGlUcmVlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpVHJlZSB7XG4gICAgLyoqXG4gICAgICogQ3JpYSB1bWEgYXJ2w7NyZSB2aXJ0dWFsIG9uZGUgdG9kb3Mgb3MgZWxlbWVudG9zIHNlcsOjbyBpbnN0YW5jaWFzIGRlIFBpRWxlbWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlKGh0bWwpIHtcbiAgICAgICAgY29uc3QgdHJlZSA9IG5ldyBQaVRyZWUoKTtcbiAgICAgICAgaWYgKGh0bWwgaW5zdGFuY2VvZiBFbGVtZW50KSBodG1sID0gaHRtbC5pbm5lckhUTUw7XG5cbiAgICAgICAgY29uc3QgZG9jID0gdHJlZS5fbG9hZERvY3VtZW50KGh0bWwpO1xuICAgICAgICBjb25zdCByb290ID0gdHJlZS5fbG9hZEVsZW1lbnRSb290KGRvYyk7XG5cbiAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgfVxuXG4gICAgX2xvYWREb2N1bWVudChodG1sKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB3cCA9IG5ldyBnbG9iYWwuRE9NUGFyc2VyKCk7XG4gICAgICAgICAgICByZXR1cm4gd3AucGFyc2VGcm9tU3RyaW5nKGh0bWwsICd0ZXh0L2h0bWwnKTsgLy9WYWkgZmF6ZXIgbyBwYXJzZSBkZSBzdHJpbmcgcGFyYSBFbGVtZW50XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUGlUcmVlOiBPIGh0bWwgaW5mb3JtYWRvIGVzdGEgZm9ybWF0YWRvIGluY29ycmV0YW1lbnRlJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhodG1sKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIF9sb2FkRWxlbWVudFJvb3QoZG9jKSB7XG4gICAgICAgIGlmIChkb2MgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByb290ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOyAvLyBWYWkgY3JpYXIgdW0gZnJhZ21lbnRvIGRhIERPTSBwcmluY2lwYWxcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFsuLi5lbGVtZW50LmNoaWxkcmVuXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByb290LmFwcGVuZENoaWxkKGVsZW1lbnRzW2ldKTsgLy8gVmFpIGFkaWNpb25hbCB0b2RvcyBvcyBlbGVtZW50b3MgZGEgRE9NIHByaW5jaXBhbCBwYXJhIGEgRE9NIGZyYWdtZW50YWRhXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgcmVnaXN0ZXIgfSBmcm9tIFwiLi9lbnZcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlUeXBlIHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5hIHNlIG8gcGFyYW1ldHJvIMOpIGV4YXRhbWVudGUgJ3VuZGVmaW5lZCdcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBpc1VuZGVmaW5lZChvYmopIHtcbiAgICAgICAgaWYgKG9iaiA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBlbHNlIGlmIChvYmogPT0gdW5kZWZpbmVkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBvIG5vbWUgZG8gY29uc3RydXRvciBkbyBvYmpldG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIHR5cGVvZihvYmopIHtcbiAgICAgICAgbGV0IHYgPSBudWxsO1xuXG4gICAgICAgIGlmIChvYmogIT0gdW5kZWZpbmVkICYmIG9iaiAhPSBudWxsICYmICFQaVR5cGUuaXNOdW1iZXIob2JqKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2ID0gb2JqLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKHYgPT0gJycpIHYgPSAnT2JqZWN0JztcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChQaVR5cGUuaXNOdW1iZXIob2JqKSkge1xuICAgICAgICAgICAgcmV0dXJuICdOdW1iZXInO1xuICAgICAgICB9IGVsc2UgaWYgKG9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1VuZGVmaW5lZCdcbiAgICAgICAgfSBlbHNlIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAnTnVsbCc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHRydWUgc2UgbyBwYXJhbWV0cm8gw6kgdW0gbsO6bWVybyBvdSBmYWxzZSBjYXNvIGNvbnRyw6FyaW9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBpc051bWJlcihvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ251bWJlcicgJiYgaXNGaW5pdGUob2JqKSAmJiAhaXNOYU4ob2JqKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogUmV0dXJuYSB0cnVlIHNlIG8gcGFyYW1ldHJvIMOpIG51bGwgb3UgdW5kZWZpbmVkXG4gICAgKiBcbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogXG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIHN0YXRpYyBpc051bGxPclVuZGVmaW5lZChvYmopIHtcbiAgICAgICAgaWYgKG9iaiA9PSBudWxsIHx8IG9iaiA9PSB1bmRlZmluZWQpIHJldHVybiB0cnVlO1xuICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5hIHRydWUgc2UgbyBwYXJhbWV0cm8gw6kgdW1hIGZ1bsOnw6NvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNGdW5jdGlvbihvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHRydWU7XG4gICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybmEgdHJ1ZSBzZSBvIHBhcmFtZXRybyDDqSB1bSBhcnJheVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGlzQXJyYXkob2JqKSB7XG4gICAgICAgIGlmIChQaVR5cGUudHlwZW9mKG9iaikgPT0gJ0FycmF5JykgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgaWYgKFBpVHlwZS50eXBlb2Yob2JqKSA9PSAnU3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKC9eXFxbLipcXF0kL2dpLnRlc3Qob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgdHJ1ZSBzZSBvIHBhcmFtZXRybyDDqSB1bSBPYmplY3RcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBpc09iamVjdChvYmopIHtcbiAgICAgICAgaWYgKFBpVHlwZS50eXBlb2Yob2JqKSA9PSAnT2JqZWN0JykgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09ICdvYmplY3QnKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBpZiAoUGlUeXBlLnR5cGVvZihvYmopID09ICdTdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoL15cXHsuKlxcfSQvZ2kudGVzdChvYmopKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuYSB0cnVlIHNlIG8gcGFyYW1ldHJvIMOpIHVtYSBzdHJpbmdcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBpc1N0cmluZyhvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ3N0cmluZycpIHJldHVybiB0cnVlO1xuICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5hIHRydWUgc2UgbyBwYXJhbWV0cm8gw6kgdW0gQm9vbGVhblxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGlzQm9vbGVhbihvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ2Jvb2xlYW4nKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcblxucmVnaXN0ZXIoUGlUeXBlKTsiLCJpbXBvcnQgUGlBcyBmcm9tICcuL2FsaWFzJztcbmltcG9ydCBQaUNsYXNzIGZyb20gJy4vY2xhc3MnO1xuaW1wb3J0IFBpVHlwZSBmcm9tICcuL3R5cGUnO1xuaW1wb3J0IFBpU3RyaW5nIGZyb20gJy4vc3RyaW5nJztcbmltcG9ydCB7IGxvY2F0aW9uLCByZWdpc3Rlciwgc2V0TG9jYXRpb24gfSBmcm9tICcuL2VudidcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlVcmwgZXh0ZW5kcyBQaUNsYXNzIHtcbiAgICBzdGF0aWMgYWxpYXMgPSBuZXcgUGlBcygpO1xuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgbGV0IGFyciA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIHVybCA9ICcnO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgYWxpYXMgPSBhcnJbaV07XG5cbiAgICAgICAgICAgIGlmIChQaVVybC5hbGlhcy5leGlzdChhcnJbaV0pKSB7XG4gICAgICAgICAgICAgICAgYWxpYXMgPSBQaVVybC5hbGlhcy5nZXRWYWx1ZShhcnJbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYWxpYXNbMF0gPT0gJy8nICYmIHVybFt1cmwubGVuZ3RoIC0gMV0gPT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgdXJsICs9IGFsaWFzLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXJsICs9IGFsaWFzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFVybCh1cmwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBhIHVybFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICAgKiBAcmV0dXJucyB7UGlVcmx9XG4gICAgICovXG4gICAgc2V0VXJsKHVybCkge1xuICAgICAgICBpZiAoUGlVcmwuYWxpYXMuZXhpc3QodXJsKSkge1xuICAgICAgICAgICAgdXJsID0gUGlVcmwuYWxpYXMuZ2V0VmFsdWUodXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChQaVVybC5pc1ZhbGlkKHVybCkpIHRoaXMuX3VybCA9IHVybDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPYnRlbSBvIHNjaGVtZSBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHNjaGVtZSgpIHtcbiAgICAgICAgbGV0IHVybCA9IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgICAgICBpID0gdXJsLmluZGV4T2YoJzonKTtcblxuICAgICAgICBpZiAoaSA8IDApIHJldHVybiAnJztcbiAgICAgICAgcmV0dXJuIHVybC5zdWJzdHIoMCwgaSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIG91IG9idGVtIG8gaG9zdCBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaG9zdFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgaG9zdChob3N0KSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLmdldFVybCgpLFxuICAgICAgICAgICAgaCA9IHRoaXMuX3BhcnNlKHVybCwgJ2hvc3QnKTtcblxuICAgICAgICBpZiAoaG9zdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gaDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VXJsKHVybC5yZXBsYWNlKGgsIGhvc3QpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIG91IG9idGVtIGEgcG9ydGEgZGEgdXJsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd8aW50fSBwb3J0IFxuICAgICAqIEByZXR1cm5zIHtQaVVybHxpbnR9XG4gICAgICovXG4gICAgcG9ydChwb3J0KSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLmdldFVybCgpLFxuICAgICAgICAgICAgcCA9IHRoaXMuX3BhcnNlKHVybCwgJ3BvcnQnKSB8fCAnJztcblxuICAgICAgICBpZiAoUGlUeXBlLmlzVW5kZWZpbmVkKHBvcnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwdCA9IHRoaXMucG9ydCgpIHx8ICcnLFxuICAgICAgICAgICAgaHJlZiA9IHRoaXMuaHJlZigpO1xuXG4gICAgICAgIGlmIChwdC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoaHJlZiwgaHJlZiArICc6JyArIHBvcnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UocCwgcG9ydCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFVybCh1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBvdSBvYnRlbSBvIGhyZWYgZGEgdXJsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIEhyZWZcbiAgICAgKiBAcmV0dXJucyB7UGlVcmx8c3RyaW5nfVxuICAgICAqL1xuICAgIGhyZWYodXJsKSB7XG4gICAgICAgIGxldCB1ID0gdGhpcy5ob3N0KCksXG4gICAgICAgICAgICBoID0gdSxcbiAgICAgICAgICAgIHMgPSB0aGlzLl9wYXJzZSh0aGlzLmdldFVybCgpLCAnc2NoZW1lJyk7XG5cbiAgICAgICAgaWYgKHVybCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgcCA9IHRoaXMucG9ydCgpO1xuXG4gICAgICAgICAgICBpZiAocC5sZW5ndGggPT0gMCkgcCA9ICcnO1xuICAgICAgICAgICAgZWxzZSBwID0gJzonICsgcDtcblxuICAgICAgICAgICAgaWYgKHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGggPSBzICsgJzovLycgKyB1ICsgcDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaCA9IHUgKyBwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0VXJsKHVybCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIG91IG9idGVtIG8gaGFzaCBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaGFzaCBcbiAgICAgKiBAcmV0dXJucyB7UGlVcmx8c3RyaW5nfVxuICAgICAqL1xuICAgIGhhc2goaGFzaCkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5nZXRVcmwoKSxcbiAgICAgICAgICAgIGhoID0gdGhpcy5fcGFyc2UodXJsLCAnaGFzaCcpO1xuXG4gICAgICAgIGlmIChoYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBoaDtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKGhoLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRVcmwodXJsICsgJyMnICsgaGFzaCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VXJsKHVybC5yZXBsYWNlKGhoLCBoYXNoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQW5leGEgYW8gcGF0aCBkYSB1cmwgbyBwYXRoIGluZm9ybWFkb1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFxuICAgICAqIEByZXR1cm5zIHtQaVVybH1cbiAgICAgKi9cbiAgICBhcHBlbmRQYXRoKHBhdGgpIHtcbiAgICAgICAgbGV0IHVybCA9IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgICAgICBwID0gdGhpcy5fcGFyc2UodXJsLCAncGF0aCcpO1xuXG4gICAgICAgIGlmIChQaVVybC5hbGlhcy5leGlzdChwYXRoKSkge1xuICAgICAgICAgICAgcGF0aCA9IFBpVXJsLmFsaWFzLmdldFZhbHVlKHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVybC5zdWJzdHJpbmcodXJsLmxlbmd0aCAtIDEpICE9ICcvJykgdXJsICs9ICcvJztcbiAgICAgICAgdGhpcy5zZXRVcmwodXJsICsgcGF0aCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBvdSBvYnRlbSBvIHBhdGggZGEgdXJsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggXG4gICAgICogQHJldHVybnMge1BpVXJsfHN0cmluZ31cbiAgICAgKi9cbiAgICBwYXRoKHBhdGgpIHtcbiAgICAgICAgbGV0IHVybCA9IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgICAgICBwID0gdGhpcy5fcGFyc2UodXJsLCAncGF0aCcpLFxuICAgICAgICAgICAgcHAgPSAnLycgKyBwO1xuXG4gICAgICAgIGlmIChwYXRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBwcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChQaVVybC5hbGlhcy5leGlzdChwYXRoKSkge1xuICAgICAgICAgICAgcGF0aCA9IFBpVXJsLmFsaWFzLmdldFZhbHVlKHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHAubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGlmICh1cmwuc3Vic3RyaW5nKHVybC5sZW5ndGggLSAxKSAhPSAnLycgJiYgcGF0aC5jaGFyQXQoMCkgIT0gJy8nKSB1cmwgKz0gJy8nICsgcGF0aDtcbiAgICAgICAgICAgIGVsc2UgdXJsICs9IHBhdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShwcCwgcGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFVybCh1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBvdSBvYnRlbSBvIGZpbGVuYW1lIGRhIHVybFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlbmFtZSBcbiAgICAgKiBAcmV0dXJucyB7UGlVcmx8c3RyaW59XG4gICAgICovXG4gICAgZmlsZW5hbWUoZmlsZW5hbWUpIHtcbiAgICAgICAgbGV0IHVybCA9IHRoaXMuZ2V0VXJsKCk7XG5cbiAgICAgICAgaWYgKGZpbGVuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1cmwucmVwbGFjZSgvXFxcXC9nLCAnLycpLnJlcGxhY2UoLy4qXFwvLywgJycpLnJlcGxhY2UoL1xcPy4qLywgJycpIHx8ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHUgPSB0aGlzLmdldFVybCgpLFxuICAgICAgICAgICAgICAgIGYgPSB0aGlzLmZpbGVuYW1lKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0VXJsKHUucmVwbGFjZShmLCBmaWxlbmFtZSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgb3Ugb2J0ZW0gYSBxdWVyeSBzdHJpbmcgZGEgdXJsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5IFxuICAgICAqIEByZXR1cm5zIHtQaVVybHxzdHJpbmd9XG4gICAgICovXG4gICAgcXVlcnkocXVlcnkpIHtcbiAgICAgICAgbGV0IHVybCA9IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgICAgICBwID0gdGhpcy5fcGFyc2UodXJsLCAncXVlcnknKTtcblxuICAgICAgICBpZiAocXVlcnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcSA9IHRoaXMucXVlcnkoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0VXJsKHVybC5yZXBsYWNlKHEsIHF1ZXJ5KSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIHVtYSB2YWxvciBhIHF1ZXJ5IHN0cmluZ1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBDaGF2ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFZhbG9yXG4gICAgICogQHJldHVybnMge1BpVXJsfVxuICAgICAqL1xuICAgIGFkZFF1ZXJ5KGtleSwgdmFsdWUpIHtcbiAgICAgICAgbGV0IHEgPSB0aGlzLnF1ZXJ5KCksXG4gICAgICAgICAgICB1cmwgPSB0aGlzLmdldFVybCgpLFxuICAgICAgICAgICAgcXMgPSBQaVN0cmluZy5mb3JtYXQoJ3sxfT17Mn0nLCB1cmwsIGtleSwgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgaWYgKHEubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VXJsKHVybCArICc/JyArIHFzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VXJsKHVybCArICcmJyArIHFzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9idGVtIHVtIHZhbG9yIGRhIHF1ZXJ5IHN0cmluZyBwZWxhIHN1YSBjaGF2ZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBDaGF2ZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0UXVlcnkoa2V5KSB7XG4gICAgICAgIGxldCBxcyA9IHRoaXMucXVlcnkoKS5zcGxpdCgnJicpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBxID0gcXNbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgIGlmIChxWzBdID09IGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocVsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT2J0ZW0gbyBkaXJuYW1lIGRhIHVybFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZGlybmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXJsKCkucmVwbGFjZSgvXFxcXC9nLCAnLycpLnJlcGxhY2UoL1xcL1teXFwvXSokLywgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgYSB1cmwgZm9ybWF0YWRhXG4gICAgICogXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRVcmwoKSB7XG4gICAgICAgIC8vIHZhciBtID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIC8vIGlmIChQaVN1YmRvbWFpbnMuZXhpc3QobSkpIHtcbiAgICAgICAgLy8gICAgIHZhciBzID0gUGlTdWJkb21haW5zLm5leHQobSk7XG4gICAgICAgIC8vICAgICByZXR1cm4gUGlTdHJpbmcuZm9ybWF0KHRoaXMudXJsLCBzKTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl91cmwgfHwgJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpYXMgdG8gZ2V0VXJsXG4gICAgICogXG4gICAgICogQHJldHVybnMge3N0cmlufVxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRVcmwoKTtcbiAgICB9XG5cbiAgICBfcGFyc2UodXJsLCBwYXJ0ZSkge1xuICAgICAgICBsZXQgcCA9IHsgJ3VybCc6IDAsICdzY2hlbWUnOiAxLCAnc2xhc2gnOiAyLCAnaG9zdCc6IDMsICdwb3J0JzogNCwgJ3BhdGgnOiA1LCAncXVlcnknOiA2LCAnaGFzaCc6IDcgfSxcbiAgICAgICAgICAgIHBhdHRlcm4gPSAvXig/OihbQS1aYS16XSspOik/KFxcL3swLDN9KShbMC05LlxcLUEtWmEtel0rKSg/OjooXFxkKykpPyg/OlxcLyhbXj8jXSopKT8oPzpcXD8oW14jXSopKT8oPzojKC4qKSk/JC8sXG4gICAgICAgICAgICBzID0gcGF0dGVybi5leGVjKHVybCB8fCAnJyk7XG5cbiAgICAgICAgaWYgKHMgPT0gbnVsbCkgcmV0dXJuICcnO1xuICAgICAgICByZXR1cm4gc1twW3BhcnRlXV0gfHwgJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmVyaWZpY2Egc2UgYSB1cmwgaW5mb3JtYWRhIMOpIHZhbGlkYVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGlzVmFsaWQodXJsKSB7XG4gICAgICAgIHJldHVybiAvKGh0dHB8aHR0cHN8KSg6XFwvXFwvfCkoW1xcdy1dK1xcLj8pK1tcXHctXSsoXFwvW1xcdy0gLlxcLz8lJj1dKik/Ly50ZXN0KHVybCB8fCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgYSBsaXN0YSBkZSBwYXJhbWV0cm9zIGEgdXJsXG4gICAgICogXG4gICAgICovXG4gICAgc3RhdGljIGFkZCgpIHtcbiAgICAgICAgUGlVcmwuYWxpYXMuYWRkLmFwcGx5KFBpVXJsLmFsaWFzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGdldChuYW1lKSB7XG4gICAgICAgIHJldHVybiBQaVVybC5hbGlhcy5nZXRWYWx1ZShuYW1lKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdG8oKSB7XG4gICAgICAgIGxldCBhcnIgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICB1cmwgPSAnJztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFsaWFzID0gYXJyW2ldO1xuXG4gICAgICAgICAgICBpZiAoUGlVcmwuYWxpYXMuZXhpc3QoYXJyW2ldKSkge1xuICAgICAgICAgICAgICAgIGFsaWFzID0gUGlVcmwuYWxpYXMuZ2V0VmFsdWUoYXJyW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGFsaWFzWzBdID09ICcvJyAmJiB1cmxbdXJsLmxlbmd0aCAtIDFdID09ICcvJykge1xuICAgICAgICAgICAgICAgIHVybCArPSBhbGlhcy5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVybCArPSBhbGlhcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgc2V0TG9jYXRpb24odXJsKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcXVlcnkocXVlcnkpIHtcbiAgICAgICAgbGV0IHEgPSBQaVVybC5jcmVhdGUobG9jYXRpb24oKSkucXVlcnkoKSxcbiAgICAgICAgICAgIHAgPSBxLnNwbGl0KCcmJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSBpbiBwKSB7XG4gICAgICAgICAgICBsZXQgcHAgPSBwW2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICBpZiAocHBbMF0gPT0gcXVlcnkpIHJldHVybiBwcFsxXTtcbiAgICAgICAgfVxuICAgIH1cblxufTtcblxucmVnaXN0ZXIoUGlVcmwpOyIsImltcG9ydCBQaVJhbmRvbSBmcm9tICcuL3JhbmRvbSdcbmltcG9ydCB7Z2xvYmFsLCBsb2NhdGlvbiwgcmVnaXN0ZXJ9IGZyb20gJy4vZW52J1xuaW1wb3J0IFBpVHlwZSBmcm9tICcuL3R5cGUnXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpVXJsSGFzaCB7XG4gICAgc3RhdGljIF9jYWxsYmFja3MgPSBbXTtcbiAgICBzdGF0aWMgX2ZuV2lsbENoYW5nZXMgPSBbXTtcbiAgICBzdGF0aWMgX2ZuRGlkQ2hhbmdlcyA9IFtdO1xuICAgICNoYXNoSWQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogRGlzcGFyYWRvIHNlbXByZSBxdWUgYSBoYXNoIGRhIHVybCBmb3IgYWx0ZXJhZGFcbiAgICAgKi9cbiAgICBoYXNoRGlkQ2hhbmdlKCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT2JzZXJ2YSBtdWRhbsOnYXMgbm8gaGFzaCBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlVcmxIYXNofVxuICAgICAqL1xuICAgIGxpc3RlbigpIHtcbiAgICAgICAgdGhpcy4jaGFzaElkID0gUGlSYW5kb20udXVpZCgneHh4LXh4eCcpO1xuXG4gICAgICAgIFBpVXJsSGFzaC5fY2FsbGJhY2tzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IHRoaXMuI2hhc2hJZCxcbiAgICAgICAgICAgIGNiOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFzaERpZENoYW5nZShQaVVybEhhc2guZ2V0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWl4YSBkZSBvYnNlcnZhciBtdWRhbsOnYXMgbm8gaGFzaCBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlVcmxIYXNofVxuICAgICAqL1xuICAgIHVubGlzdGVuKCkge1xuICAgICAgICBjb25zdCBhcnIgPSBQaVVybEhhc2guX2NhbGxiYWNrcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGFycltpXTtcbiAgICAgICAgICAgIGlmIChpdGVtLmlkID09IHRoaXMuI2hhc2hJZCkge1xuICAgICAgICAgICAgICAgIFBpVXJsSGFzaC5fY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBvIHZhbG9yIGF0dWFsIGRvIGhhc2ggZGEgdXJsXG4gICAgICogXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0KCkge1xuICAgICAgICBsZXQgaCA9IGxvY2F0aW9uKCkuaGFzaDtcbiAgICAgICAgaCA9IGgubGVuZ3RoID09IDAgPyBoIDogaC5zdWJzdHIoMSk7XG5cbiAgICAgICAgcmV0dXJuIGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIG8gdmFsb3IgZG8gaGFzaCBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaGFzaCAtIFZhbG9yIGRvIGhhc2hcbiAgICAgKi9cbiAgICBzdGF0aWMgdG8oaGFzaCkge1xuICAgICAgICBsZXQgaCA9IFBpVXJsSGFzaC5nZXQoKTtcbiAgICAgICAgbGV0IHEgPSBoLmluZGV4T2YoJz8nKTtcblxuICAgICAgICBpZiAocSA+IC0xKSB7XG4gICAgICAgICAgICBxID0gaC5zdWJzdHIocSk7XG4gICAgICAgICAgICBoID0gaC5zdWJzdHIoMCwgcSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJyEnICsgaCA9PSBoYXNoIHx8ICchJyArIGhhc2ggPT0gaCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBoYXNoICs9IHE7XG4gICAgICAgIH1cblxuICAgICAgICBsb2NhdGlvbigpLmhhc2ggPSBoYXNoO1xuXG4gICAgICAgIHJldHVybiBQaVVybEhhc2g7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBvIHZhbG9yIGRhIHF1ZXJ5IHN0cmluZyBubyBoYXNoIGRhIHVybFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBDaGF2ZSBkYSBxdWVyeSBzdHJpbmdcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRRdWVyeVN0cmluZyhrZXkpIHtcbiAgICAgICAgbGV0IGggPSBQaVVybEhhc2guZ2V0KCk7XG4gICAgICAgIGxldCBwcyA9IGguc3BsaXQoJz8nKTtcblxuICAgICAgICBpZiAocHMubGVuZ3RoIDwgMikgcmV0dXJuICcnO1xuICAgICAgICBsZXQga3YgPSBwc1sxXS5zcGxpdCgnJicpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGt2Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgayA9IGt2W2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICBpZiAoa1swXSA9PSBrZXkpIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoa1sxXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFF1ZXJ5SW50KGtleSkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoUGlVcmxIYXNoLmdldFF1ZXJ5U3RyaW5nKGtleSkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRRdWVyeUZsb2F0KGtleSkge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChQaVVybEhhc2guZ2V0UXVlcnlTdHJpbmcoa2V5KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHVtIHBhciBjaGF2ZS12YWxvciBkYSBxdWVyeSBzdHJpbmcgZG8gaGFzaCBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmUgZGEgcXVlcnkgc3RyaW5nXG4gICAgICovXG4gICAgc3RhdGljIHJlbW92ZVF1ZXJ5U3RyaW5nKGtleSkge1xuICAgICAgICBsZXQgaCA9IFBpVXJsSGFzaC5nZXQoKTtcbiAgICAgICAgbGV0IHBzID0gaC5zcGxpdCgnPycpO1xuXG4gICAgICAgIGlmIChrZXkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2NhdGlvbigpLmhhc2ggPSBwc1swXTtcbiAgICAgICAgICAgIHJldHVybiBQaVVybEhhc2g7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcCA9IFtdO1xuICAgICAgICBsZXQgbWFwID0gW107XG5cbiAgICAgICAgaWYgKHBzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHAgPSBwc1sxXS5zcGxpdCgnJicpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBbaV0ubGVuZ3RoID09IDApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgbGV0IF9wcyA9IHBbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgICAgICBtYXBbX3BzWzBdXSA9IF9wc1sxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBtYXBba2V5XTtcblxuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1hcCkge1xuICAgICAgICAgICAgYXJyLnB1c2goYCR7a2V5fT0ke21hcFtrZXldfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9jYXRpb24oKS5oYXNoID0gYCR7cHNbMF19PyR7YXJyLmpvaW4oJyYnKX1gO1xuXG4gICAgICAgIHJldHVybiBQaVVybEhhc2g7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW0gcGFyIGNoYXZlLXZhbG9yIHBhcmEgYSBxdWVyeSBzdHJpbmcgZG8gaGFzaCBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmUgZGEgcXVlcnkgc3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVmFsb3IgZGEgcXVlcnkgc3RyaW5nXG4gICAgICovXG4gICAgc3RhdGljIGFkZFF1ZXJ5U3RyaW5nKGtleSwgdmFsdWUgPSAnJykge1xuICAgICAgICBsZXQgaCA9IFBpVXJsSGFzaC5nZXQoKTtcbiAgICAgICAgbGV0IHBzID0gaC5zcGxpdCgnPycpO1xuICAgICAgICBsZXQgcCA9IFtdO1xuICAgICAgICBsZXQgbWFwID0gW107XG5cbiAgICAgICAgaWYgKHBzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHAgPSBwc1sxXS5zcGxpdCgnJicpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBbaV0ubGVuZ3RoID09IDApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgbGV0IF9wcyA9IHBbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgICAgICBtYXBbX3BzWzBdXSA9IF9wc1sxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG1hcFtrZXldID0gdmFsdWUgfHwgJyc7XG4gICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWFwKSB7XG4gICAgICAgICAgICBhcnIucHVzaChgJHtrZXl9PSR7bWFwW2tleV19YCk7XG4gICAgICAgIH1cblxuICAgICAgICBsb2NhdGlvbigpLmhhc2ggPSBgJHtwc1swXX0/JHthcnIuam9pbignJicpfWA7XG5cbiAgICAgICAgcmV0dXJuIFBpVXJsSGFzaDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSBhcnJheSBkZSBwYXRocyBwYXJhIG8gaGFzaCBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IGFyZ3MgLSBBcnJheSBkZSBwYXRoc1xuICAgICAqL1xuICAgIHN0YXRpYyBhZGQoLi4uYXJncykge1xuICAgICAgICBsZXQgaCA9IFBpVXJsSGFzaC5nZXQoKTtcblxuICAgICAgICBpZiAoaC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBQaVVybEhhc2gudG8oaCArICcvJyArIGFyZ3Muam9pbignLycpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFBpVXJsSGFzaC50byhhcmdzLmpvaW4oJy8nKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgZG8gaGFzaCBkYSB1cmwgbyB2YWxvciBpbmZvcm1hZG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gU3RyaW5nIGEgc2VyIHJlbW92aWRhXG4gICAgICogQHJldHVybnMge1BpVXJsaGFzaH1cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVtb3ZlKHN0cikge1xuICAgICAgICBsb2NhdGlvbigpLmhhc2ggPSBsb2NhdGlvbigpLmhhc2gucmVwbGFjZShzdHIsICcnKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdGF0aWMgb25XaWxsQ2hhbmdlKGZuKSB7XG4gICAgICAgIFBpVXJsSGFzaC5fZm5XaWxsQ2hhbmdlcy5wdXNoKGZuKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgb25EaWRDaGFuZ2UoZm4pIHtcbiAgICAgICAgUGlVcmxIYXNoLl9mbkRpZENoYW5nZS5wdXNoKGZuKTtcbiAgICB9XG5cbn07XG5cbnZhciBsYXN0SGFzaCA9IG51bGw7XG5nbG9iYWwub25oYXNoY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChsYXN0SGFzaCA9PSBQaVVybEhhc2guZ2V0KCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsYXN0SGFzaCA9IFBpVXJsSGFzaC5nZXQoKTtcblxuICAgIGNvbnN0IGFyciA9IFBpVXJsSGFzaC5fY2FsbGJhY2tzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBQaVVybEhhc2guX2ZuV2lsbENoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgUGlVcmxIYXNoLl9mbldpbGxDaGFuZ2VzW2ldKGxhc3RIYXNoKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJbaV0uY2IoKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFBpVXJsSGFzaC5fZm5EaWRDaGFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIFBpVXJsSGFzaC5fZm5EaWRDaGFuZ2VzW2ldKGxhc3RIYXNoKTtcbiAgICB9XG59O1xuXG5yZWdpc3RlcihQaVVybEhhc2gpOyIsImltcG9ydCBQaUVsZW1lbnQgZnJvbSBcIi4vZWxlbWVudFwiO1xuaW1wb3J0IHsgZmluZENsYXNzIH0gZnJvbSAnLi9lbnYnXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpVmlydHVhbFRyZWUge1xuICAgICNlbGVtZW50c1BhcmVudCA9IG51bGw7XG4gICAgI3ZlbGVtZW50cyA9IFtdO1xuICAgICNjb21wb25lbnRzID0gW107XG4gICAgI2NvbXBvbmVudHNQYXJhbXMgPSBbXTtcbiAgICAjY29tcG9uZW50UGFyZW50ID0gbnVsbDtcbiAgICAjaG9vayA9IFtdO1xuICAgICNzY29wZSA9IHsgY29udGV4dDoge30gfTtcblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHNjb3BlID0geyBjb250ZXh0OiB7fSB9LCBjb21wb25lbnRQYXJlbnQgPSBudWxsKSB7XG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHRoaXMuI2VsZW1lbnRzUGFyZW50ID0gZWxlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuI2VsZW1lbnRzUGFyZW50ID0gZWxlbWVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuI2VsZW1lbnRzUGFyZW50ID0gW2VsZW1lbnRdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4jY29tcG9uZW50UGFyZW50ID0gY29tcG9uZW50UGFyZW50O1xuICAgICAgICB0aGlzLiNzY29wZSA9IHNjb3BlO1xuICAgIH1cblxuICAgIGhvb2sobmFtZSwgZm4pIHtcbiAgICAgICAgdGhpcy4jaG9va1tuYW1lXSA9IGZuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGxvYWQoKSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVZpcnR1YWxFbGVtZW50cyh0aGlzLiNlbGVtZW50c1BhcmVudCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUNvbXBvbmVudHMoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI3ZlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuI3ZlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIGVsZW1lbnQuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiNjb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLiNjb21wb25lbnRzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuI3ZlbGVtZW50cyA9IFtdO1xuICAgICAgICB0aGlzLiNjb21wb25lbnRzID0gW107XG4gICAgICAgIHRoaXMuI2NvbXBvbmVudHNQYXJhbXMgPSBbXTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgY29uc3QgX19jb25zdHJ1Y3RvciA9IGZpbmRDbGFzcyhjb21wb25lbnROYW1lKTtcblxuICAgICAgICBpZiAoX19jb25zdHJ1Y3RvciA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IGBDb21wb25lbnQgbsOjbyBsb2NhbGl6YWRvOiAke2NvbXBvbmVudE5hbWV9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgX19jb25zdHJ1Y3RvcigpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDb21wb25lbnRzKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI2NvbXBvbmVudHNQYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMuI2NvbXBvbmVudHNQYXJhbXNbaV07XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gcGFyYW1zLmNvbXBvbmVudE5hbWU7XG4gICAgICAgICAgICBjb25zdCB2ZWxlbWVudCA9IHBhcmFtcy52ZWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB2ZWxlbWVudC5fZWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuXG4gICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuI2NvbXBvbmVudFBhcmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudCA9IHRoaXMuI2NvbXBvbmVudFBhcmVudFtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQgPSB0aGlzLl9jcmVhdGVDb21wb25lbnQoY29tcG9uZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiNjb21wb25lbnRQYXJlbnRbbmFtZV0gPSBjb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQgPSB0aGlzLl9jcmVhdGVDb21wb25lbnQoY29tcG9uZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQgPSB0aGlzLl9jcmVhdGVDb21wb25lbnQoY29tcG9uZW50TmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZlbGVtZW50LnNldENvbXBvbmVudChjb21wb25lbnQpO1xuICAgICAgICAgICAgY29tcG9uZW50LnJlbmRlcihlbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMuI2NvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NyZWF0ZVZpcnR1YWxFbGVtZW50cyhlbGVtZW50cykge1xuICAgICAgICBpZiAoZWxlbWVudHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAxICYmIGVsZW1lbnRzWzBdIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlVmlydHVhbEVsZW1lbnRzKGVsZW1lbnRzWzBdLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTFNjcmlwdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MU3R5bGVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50Ll9waWUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW52b2tlSG9vaygnd2lsbDpjcmVhdGU6dmVsZW1lbnQnKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2ZWxlbWVudCA9IG5ldyBQaUVsZW1lbnQoZWxlbWVudCwgdGhpcy4jc2NvcGUsIHRoaXMuI2NvbXBvbmVudFBhcmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW52b2tlSG9vaygnZGlkOmNyZWF0ZTp2ZWxlbWVudCcsIHZlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnZva2VIb29rKCd3aWxsOmxvYWQ6dmVsZW1lbnQnLCB2ZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdmVsZW1lbnQubG9hZCh0aGlzLiNjb21wb25lbnRQYXJlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludm9rZUhvb2soJ2RpZDpsb2FkOnZlbGVtZW50JywgdmVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZlbGVtZW50LmlzRGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjb21wb25lbnQnKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50TmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2NvbXBvbmVudHNQYXJhbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWxlbWVudDogdmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnROYW1lOiBjb21wb25lbnROYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuI3ZlbGVtZW50cy5wdXNoKHZlbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3JlYXRlVmlydHVhbEVsZW1lbnRzKGVsZW1lbnQuY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2ludm9rZUhvb2sobmFtZSwgLi4ucGFyYW1zKSB7XG4gICAgICAgIGlmICh0aGlzLiNob29rW25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLiNob29rW25hbWVdKC4uLnBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59OyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9hcHAuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5vcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYXBwLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9DaWZyYUFuaW1lLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xub3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0NpZnJhQW5pbWUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0NpZnJhVmlldy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcbm9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9DaWZyYVZpZXcuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0hvbWVQYWdlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xub3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0hvbWVQYWdlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiaW1wb3J0IFBpQ29tcG9uZW50IGZyb20gJ3B5bGxhci9jb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IFwiLi9DaWZyYUFuaW1lLmNzc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2lmcmFBbmltZSBleHRlbmRzIFBpQ29tcG9uZW50IHtcclxuICAgIHZpZXcgPSAvKmh0bWwqL2A8ZGl2IGNsYXNzPVwiY2lmcmEtcHJldmlld1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJib3hcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJveC1pbm5lclwiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+YFxyXG59IiwiaW1wb3J0IFBpQ29uZmlnIGZyb20gJ3B5bGxhci9jb25maWcnO1xyXG5pbXBvcnQgUGlNb2RlbCBmcm9tICdweWxsYXIvbW9kZWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2lmcmFNb2RlbCBleHRlbmRzIFBpTW9kZWwge1xyXG4gICAgaW5pdCgpe1xyXG4gICAgICAgIHN1cGVyLmluaXQoUGlDb25maWcuZ2V0KCdlbmRwb2ludC5jaWZyYScpKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0V2l0aEpzb24oanNvbil7XHJcbiAgICAgICAgc3VwZXIuaW5pdFdpdGhKc29uKGpzb24pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBhY3Rpb25zKCl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ2luc2VydCc6ICdQT1NUOi8nLFxyXG4gICAgICAgICAgICAnc2F2ZSc6ICdQVVQ6LycsXHJcbiAgICAgICAgICAgICdnZXQnOiAnR0VUOi86aWQnLFxyXG4gICAgICAgICAgICAnYWxsJzogJ0dFVDovJyxcclxuICAgICAgICAgICAgJ2ltcG9ydCc6ICdHRVQ6L2ltcG9ydD91cmw9OnVybCdcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQ2lmcmFNb2RlbCBmcm9tICcuL0NpZnJhTW9kZWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2lmcmFTdHJlYW0ge1xyXG4gICAgZm5OZXdDaWZyYSA9IG51bGw7XHJcbiAgICBmbk5ld05vdGUgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGhvc3QpIHtcclxuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xyXG4gICAgfVxyXG5cclxuICAgIG9uTmV3Q2lmcmEoZm4pIHtcclxuICAgICAgICB0aGlzLmZuTmV3Q2lmcmEgPSBmblxyXG4gICAgfVxyXG5cclxuICAgIG9uTmV3Tm90ZShmbikge1xyXG4gICAgICAgIHRoaXMuZm5OZXdOb3RlID0gZm47XHJcbiAgICB9XHJcblxyXG4gICAgX3Byb2Nlc3NFdmVudChlKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBKU09OLnBhcnNlKGUuZGF0YSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PSAnbmV3OmNpZnJhJykge1xyXG4gICAgICAgICAgICAgICAgKG5ldyBDaWZyYU1vZGVsKCkpLmdldChldmVudC5pZCkudGhlbigoY2lmcmEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmZuTmV3Q2lmcmEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZuTmV3Q2lmcmEoY2lmcmEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT0gJ25vdGUnKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmZuTmV3Tm90ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbk5ld05vdGUoZXZlbnQubm90ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29ubmVjdCgpIHtcclxuICAgICAgICBjb25zdCBzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHRoaXMuaG9zdCk7XHJcblxyXG4gICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ29uZWN0YWRvIGFvIHNlcnZpZG9yIFdlYlNvY2tldCcpO1xyXG5cclxuICAgICAgICAgICAgLy8gRW52aWEgdW1hIG1lbnNhZ2VtIGFvIHNlcnZpZG9yXHJcbiAgICAgICAgICAgIHNvY2tldC5zZW5kKCdPbMOhIHNlcnZpZG9yIScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBRdWFuZG8gdW1hIG1lbnNhZ2VtIMOpIHJlY2ViaWRhIGRvIHNlcnZpZG9yXHJcbiAgICAgICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBldmVudCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NFdmVudChldmVudCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNlYmlkbyBkbyBzZXJ2aWRvcjonLCBldmVudCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFF1YW5kbyBhIGNvbmV4w6NvIMOpIGZlY2hhZGFcclxuICAgICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCBldmVudCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEZXNjb25lY3RhZG8gZG8gc2Vydmlkb3IgV2ViU29ja2V0Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59OyIsImltcG9ydCBQaUNvbXBvbmVudCBmcm9tICdweWxsYXIvY29tcG9uZW50JztcclxuXHJcbmltcG9ydCBDaWZyYU1vZGVsIGZyb20gJy4vQ2lmcmFNb2RlbCc7XHJcbmltcG9ydCBNYXJjYWRvciBmcm9tICcuLi9tYXJjYWRvci9NYXJjYWRvcic7XHJcbmltcG9ydCBOb3Rlc0NvbGxlY3Rpb24gZnJvbSAnLi4vbm90ZS9Ob3RlQ29sbGVjdGlvbic7XHJcblxyXG5pbXBvcnQgXCIuL0NpZnJhVmlldy5jc3NcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENpZnJhVmlldyBleHRlbmRzIFBpQ29tcG9uZW50IHtcclxuICAgIHZpZXcgPSAvKmh0bWwqL2A8ZGl2IDpjbGFzcz1cImNpZnJhLXZpZXcge0BfbW9zdHJhckFjb3JkZXMgPyAgJycgOiAnbm8tY2hvcmRzJ31cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidGl0dWxvXCI+XHJcbiAgICAgICAgICAgIHtAX3RpdHVsb31cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm9wdGlvbnNcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2sgZm9ybS1zd2l0Y2hcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIm1vc3RyYXJBY29yZGVzXCIgQGNoYW5nZT1cIl9zYXZlTW9zdHJhckFjb3JkZXMoJHZhbHVlKVwiIDpjaGVja2VkPVwie0BfbW9zdHJhckFjb3JkZXN9XCI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCIgZm9yPVwibW9zdHJhckFjb3JkZXNcIj5Nb3N0cmFyIEFjb3JkZXM8L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNoZWNrIGZvcm0tc3dpdGNoXCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJiYXJyYVJvbGFnZW1cIiBAY2hhbmdlPVwiX3NhdmVSb2xhZ2VtQXV0b21hdGljYSgkdmFsdWUpXCIgOmNoZWNrZWQ9XCJ7QF9yb2xhZ2VtQXV0b21hdGljYX1cIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJiYXJyYVJvbGFnZW1cIj5CYXJyYSBkZSBSb2xhZ2VtIEF1dG9tw6F0aWNhPC9sYWJlbD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVjayBmb3JtLXN3aXRjaFwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIGlkPVwiZXZpZGVuY2lhclwiIEBjaGFuZ2U9XCJfc2F2ZUV2aWRlbmNpYXJOb3RhcygkdmFsdWUpXCIgOmNoZWNrZWQ9XCJ7QF9ldmlkZW5jaWFyQWNvcmRlc31cIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJldmlkZW5jaWFyXCI+RXZpZMOqbmNpYXIgYWNvcmRlczwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IGlkPVwibWFyY2Fkb3JcIiBjbGFzcz1cIm1hcmNhZG9yXCI+PC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgICAgPHByZSBpZD1cImNvbnRlbnRcIj48L3ByZT5cclxuICAgIDwvZGl2PmA7XHJcblxyXG4gICAgX3RpdHVsbyA9ICcnO1xyXG4gICAgX21vc3RyYXJBY29yZGVzID0gdHJ1ZTtcclxuICAgIF9yb2xhZ2VtQXV0b21hdGljYSA9IHRydWU7XHJcbiAgICBfZXZpZGVuY2lhckFjb3JkZXMgPSB0cnVlO1xyXG5cclxuICAgIHZpZXdEaWRMb2FkKCkge1xyXG4gICAgICAgIHRoaXMuX2xvYWRDb25maWcoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRTdHJlYW0oc3RyZWFtKSB7XHJcbiAgICAgICAgc3RyZWFtLm9uTmV3Tm90ZShub3RlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRNYXJjYWRvclBvc2ljYW8obm90ZS5wb3NpdGlvbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgbG9hZENpZnJhKGlkLCBmbikge1xyXG4gICAgICAgIGNvbnN0IGNpZnJhID0gYXdhaXQgKG5ldyBDaWZyYU1vZGVsKCkpLmdldChpZCk7XHJcbiAgICAgICAgdGhpcy5zZXRDaWZyYShjaWZyYSwgZm4pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldENpZnJhKGNpZnJhLCBmbikge1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQuZmluZChcIiNjb250ZW50XCIpLmh0bWwodGhpcy5fZm9ybWF0Tm90ZXModGhpcy5fZm9ybWF0VGFnKGNpZnJhLnRleHRvKSkpO1xyXG5cclxuICAgICAgICB0aGlzLl90aXR1bG8gPSBjaWZyYS50aXR1bG87XHJcblxyXG4gICAgICAgIHRoaXMuX2xvYWROb3RlcygpO1xyXG4gICAgICAgIHRoaXMuX2xvYWRNYXJjYWRvcigpO1xyXG4gICAgICAgIHRoaXMuX2xvYWRDb25maWcoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRNYXJjYWRvclBvc2ljYW8oMCk7XHJcbiAgICAgICAgaWYgKGZuKSBmbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE1hcmNhZG9yUG9zaWNhbyhwb3NpdGlvbikge1xyXG4gICAgICAgIHRoaXMubWFyY2Fkb3IubW92ZSh0aGlzLm5vdGVzLmdldE5vdGVCeVBvc2l0aW9uKHBvc2l0aW9uKSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NhdmVNb3N0cmFyQWNvcmRlcyh2KSB7XHJcbiAgICAgICAgdGhpcy5fbW9zdHJhckFjb3JkZXMgPSB2O1xyXG5cclxuICAgICAgICB0aGlzLl9zYXZlQ29uZmlnKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NhdmVSb2xhZ2VtQXV0b21hdGljYSh2KSB7XHJcbiAgICAgICAgdGhpcy5fcm9sYWdlbUF1dG9tYXRpY2EgPSB2O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tYXJjYWRvcikge1xyXG4gICAgICAgICAgICB0aGlzLm1hcmNhZG9yLnNldFJvbGFnZW1BdXRvbWF0aWNhKHYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fc2F2ZUNvbmZpZygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zYXZlRXZpZGVuY2lhck5vdGFzKHYpIHtcclxuICAgICAgICB0aGlzLl9ldmlkZW5jaWFyQWNvcmRlcyA9IHY7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1hcmNhZG9yKSB7XHJcbiAgICAgICAgICAgIHYgPyB0aGlzLm1hcmNhZG9yLnNob3coKSA6IHRoaXMubWFyY2Fkb3IuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fc2F2ZUNvbmZpZygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9mb3JtYXROb3RlcyhjaWZyYSkge1xyXG4gICAgICAgIHJldHVybiBjaWZyYS5yZXBsYWNlKC9cXChbXildK1xcKS9naSwgKG5vdGUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGA8Yj4ke25vdGV9PC9iPmBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfZm9ybWF0VGFnKGNpZnJhKSB7XHJcbiAgICAgICAgcmV0dXJuIGNpZnJhLnJlcGxhY2UoL1xcW1teXFxdXStcXF0vZ2ksIChub3RlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBgPGk+JHtub3RlfTwvaT5gXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2xvYWRNYXJjYWRvcigpIHtcclxuICAgICAgICB0aGlzLm1hcmNhZG9yID0gbmV3IE1hcmNhZG9yKHRoaXMuJGVsZW1lbnQuZmluZChcIiNtYXJjYWRvclwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2xvYWROb3RlcygpIHtcclxuICAgICAgICB0aGlzLm5vdGVzID0gbmV3IE5vdGVzQ29sbGVjdGlvbih0aGlzLiRlbGVtZW50LmZpbmQoXCIjY29udGVudFwiKS5maW5kKCdiJykpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zYXZlQ29uZmlnKCkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW9zdHJhcl9hY29yZGVzJywgdGhpcy5fbW9zdHJhckFjb3JkZXMpO1xyXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncm9sYWdlbV9hdXRvbWF0aWNhJywgdGhpcy5fcm9sYWdlbUF1dG9tYXRpY2EpO1xyXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZXZpZGVuY2lhcl9hY29yZGVzJywgdGhpcy5fZXZpZGVuY2lhckFjb3JkZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIF9sb2FkQ29uZmlnKCkge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuX2dldENvbmZpZygpO1xyXG5cclxuICAgICAgICB0aGlzLl9zYXZlTW9zdHJhckFjb3JkZXMoY29uZmlnLm1vc3RyYXJBY29yZGVzKTtcclxuICAgICAgICB0aGlzLl9zYXZlUm9sYWdlbUF1dG9tYXRpY2EoY29uZmlnLnJvbGFnZW1BdXRvbWF0aWNhKTtcclxuICAgICAgICB0aGlzLl9zYXZlRXZpZGVuY2lhck5vdGFzKGNvbmZpZy5ldmlkZW5jaWFyQWNvcmRlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldENvbmZpZygpIHtcclxuICAgICAgICBjb25zdCBtb3N0cmFyQWNvcmRlcyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbW9zdHJhcl9hY29yZGVzJyk7XHJcbiAgICAgICAgY29uc3Qgcm9sYWdlbUF1dG9tYXRpY2EgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JvbGFnZW1fYXV0b21hdGljYScpO1xyXG4gICAgICAgIGNvbnN0IGV2aWRlbmNpYXJBY29yZGVzID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdldmlkZW5jaWFyX2Fjb3JkZXMnKTtcclxuXHJcbiAgICAgICAgaWYgKG1vc3RyYXJBY29yZGVzID09PSBudWxsIHx8IHJvbGFnZW1BdXRvbWF0aWNhID09PSBudWxsIHx8IGV2aWRlbmNpYXJBY29yZGVzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NhdmVDb25maWcoKTtcclxuXHJcbiAgICAgICAgICAgIG1vc3RyYXJBY29yZGVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgcm9sYWdlbUF1dG9tYXRpY2EgPSB0cnVlO1xyXG4gICAgICAgICAgICBldmlkZW5jaWFyQWNvcmRlcyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtb3N0cmFyQWNvcmRlczogbW9zdHJhckFjb3JkZXMgPT09ICd0cnVlJyxcclxuICAgICAgICAgICAgcm9sYWdlbUF1dG9tYXRpY2E6IHJvbGFnZW1BdXRvbWF0aWNhID09PSAndHJ1ZScsXHJcbiAgICAgICAgICAgIGV2aWRlbmNpYXJBY29yZGVzOiBldmlkZW5jaWFyQWNvcmRlcyA9PT0gJ3RydWUnXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5QaUNvbXBvbmVudC5yZWdpc3RlcihDaWZyYVZpZXcpOyIsImltcG9ydCBQaUNvbXBvbmVudCBmcm9tICdweWxsYXIvY29tcG9uZW50JztcclxuaW1wb3J0IFBpQ29uZmlnIGZyb20gJ3B5bGxhci9jb25maWcnO1xyXG5cclxuaW1wb3J0IENpZnJhVmlldyBmcm9tICcuLi9jaWZyYS9DaWZyYVZpZXcnO1xyXG5pbXBvcnQgQ2lmcmFBbmltZSBmcm9tICcuLi9jaWZyYS9DaWZyYUFuaW1lJztcclxuaW1wb3J0IENpZnJhU3RyZWFtIGZyb20gJy4uL2NpZnJhL0NpZnJhU3RyZWFtJztcclxuXHJcbmltcG9ydCBUcmFuc3BvcnRlTW9kZWwgZnJvbSAnLi4vdHJhbnNwb3J0ZS9UcmFuc3BvcnRlTW9kZWwnO1xyXG5cclxuaW1wb3J0IFwiLi9Ib21lUGFnZS5jc3NcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWVQYWdlIGV4dGVuZHMgUGlDb21wb25lbnQge1xyXG4gICAgdmlldyA9IC8qaHRtbCovYDxkaXYgY2xhc3M9XCJjb250YWluZXIgaG9tZXBhZ2VcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwidmlld1wiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+YDtcclxuXHJcbiAgICBpbnN0YW5jZXMoKSB7XHJcbiAgICAgICAgdGhpcy5jaWZyYVN0cmVhbSA9IG5ldyBDaWZyYVN0cmVhbShQaUNvbmZpZy5nZXQoJ2NpZnJhU3RyZWFtJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHZpZXdEaWRMb2FkKCkge1xyXG4gICAgICAgIHRoaXMuY2lmcmFTdHJlYW0uY29ubmVjdCgpO1xyXG5cclxuICAgICAgICB0aGlzLl9sb2FkVHJhbnNwb3J0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2xvYWRFdmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRWaWV3KHZpZXcpIHtcclxuICAgICAgICB2aWV3LnJlbmRlcih0aGlzLiRlbGVtZW50LmZpbmQoJyN2aWV3JykpO1xyXG4gICAgfVxyXG5cclxuICAgIF9sb2FkVHJhbnNwb3J0ZSgpIHtcclxuICAgICAgICAobmV3IFRyYW5zcG9ydGVNb2RlbCgpKS5nZXQoKS50aGVuKCh0cmFuc3BvcnRlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0cmFuc3BvcnRlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmlldyhuZXcgQ2lmcmFBbmltZSgpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRyYW5zcG9ydGUuY2lmcmFJZCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXcobmV3IENpZnJhQW5pbWUoKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNpZnJhVmlldyA9IG5ldyBDaWZyYVZpZXcoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRWaWV3KGNpZnJhVmlldyk7XHJcbiAgICAgICAgICAgIGNpZnJhVmlldy5zZXRTdHJlYW0odGhpcy5jaWZyYVN0cmVhbSk7XHJcbiAgICAgICAgICAgIGNpZnJhVmlldy5sb2FkQ2lmcmEodHJhbnNwb3J0ZS5jaWZyYUlkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaWZyYVZpZXcuc2V0TWFyY2Fkb3JQb3NpY2FvKHRyYW5zcG9ydGUucG9zaWNhbyk7XHJcbiAgICAgICAgICAgICAgICBjaWZyYVZpZXcuc2V0TWFyY2Fkb3JQb3NpY2FvKDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfbG9hZEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLmNpZnJhU3RyZWFtLm9uTmV3Q2lmcmEoY2lmcmEgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjaWZyYVZpZXcgPSBuZXcgQ2lmcmFWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmlldyhjaWZyYVZpZXcpO1xyXG4gICAgICAgICAgICBjaWZyYVZpZXcuc2V0U3RyZWFtKHRoaXMuY2lmcmFTdHJlYW0pO1xyXG4gICAgICAgICAgICBjaWZyYVZpZXcuc2V0Q2lmcmEoY2lmcmEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFyY2Fkb3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCRtYXJjYWRvcikge1xyXG4gICAgICAgIHRoaXMuJG1hcmNhZG9yID0gJG1hcmNhZG9yO1xyXG4gICAgICAgIHRoaXMubm90ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yb2xhZ2VtQXV0b21hdGljYSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZShub3RlKSB7XHJcbiAgICAgICAgaWYgKG5vdGUgPT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IG5vdGUucG9zaXRpb24oKTtcclxuICAgICAgICBjb25zdCB3ID0gbm90ZS53aWR0aCgpO1xyXG4gICAgICAgIGNvbnN0IGggPSBub3RlLmhlaWdodCgpO1xyXG5cclxuICAgICAgICB0aGlzLiRtYXJjYWRvci5jc3MoJ3RvcCcsIHBvc2l0aW9uLnRvcCAtIDIpLmNzcygnbGVmdCcsIHBvc2l0aW9uLmxlZnQgLSA3KTtcclxuICAgICAgICB0aGlzLiRtYXJjYWRvci5jc3MoJ3dpZHRoJywgdyArIDEzKS5jc3MoJ2hlaWdodCcsIGggKyA0KTtcclxuXHJcbiAgICAgICAgbm90ZS5zYXZlKCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIG5vdGUuaGlnaGxpZ2h0KCk7XHJcbiAgICAgICAgfSwgMjAwKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubm90ZSkge1xyXG4gICAgICAgICAgICB0aGlzLm5vdGUucmVzdG9yZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ub3RlID0gbm90ZTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVTY3JvbGwoKTtcclxuICAgICAgICB9LCAyMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFJvbGFnZW1BdXRvbWF0aWNhKGIpIHtcclxuICAgICAgICB0aGlzLnJvbGFnZW1BdXRvbWF0aWNhID0gYjtcclxuICAgIH1cclxuXHJcbiAgICBzaG93KCkge1xyXG4gICAgICAgIHRoaXMuJG1hcmNhZG9yLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIHRoaXMuJG1hcmNhZG9yLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBfbW92ZVNjcm9sbCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMucm9sYWdlbUF1dG9tYXRpY2EpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuJG1hcmNhZG9yLmdldCgwKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBpZiAoKHJlY3QuYm90dG9tICsgMzApID4gd2luZG93LmlubmVySGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxCeSgwLCByZWN0LmJvdHRvbSAtIHdpbmRvdy5pbm5lckhlaWdodCArIDEwMCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChyZWN0LnRvcCA8IDApIHtcclxuICAgICAgICAgICAgd2luZG93LnNjcm9sbEJ5KDAsIChyZWN0LnRvcCAtIDMwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGUge1xyXG4gICAgY29uc3RydWN0b3IoJG5vdGUpIHtcclxuICAgICAgICB0aGlzLiRub3RlID0gJG5vdGU7XHJcbiAgICB9XHJcblxyXG4gICAgaGlnaGxpZ2h0KCkge1xyXG4gICAgICAgIHRoaXMuJG5vdGUuY3NzKCdjb2xvcicsICd3aGl0ZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3RvcmUoKSB7XHJcbiAgICAgICAgdGhpcy4kbm90ZS5jc3MoJ2NvbG9yJywgdGhpcy4kbm90ZS5hdHRyKCdkYXRhLWNvbG9yJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHNhdmUoKSB7XHJcbiAgICAgICAgdGhpcy4kbm90ZS5hdHRyKCdkYXRhLWNvbG9yJywgdGhpcy4kbm90ZS5jc3MoJ2NvbG9yJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc2l0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiRub3RlLnBvc2l0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgd2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuJG5vdGUud2lkdGgoKTtcclxuICAgIH1cclxuXHJcbiAgICBoZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuJG5vdGUuaGVpZ2h0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0ICRlbGVtZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiRub3RlO1xyXG4gICAgfVxyXG59OyIsImltcG9ydCBOb3RlIGZyb20gXCIuL05vdGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVzQ29sbGVjdGlvbiBleHRlbmRzIEFycmF5IHtcclxuICAgIGNvbnN0cnVjdG9yKCRub3Rlcykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgICRub3Rlcy5nZXQoKS5mb3JFYWNoKChub3RlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnB1c2gobmV3IE5vdGUoJChub3RlKSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5vdGVCeVBvc2l0aW9uKHApIHtcclxuICAgICAgICByZXR1cm4gdGhpc1twIC0gMV07XHJcbiAgICB9XHJcbn07IiwiaW1wb3J0IFBpQ29uZmlnIGZyb20gJ3B5bGxhci9jb25maWcnO1xyXG5pbXBvcnQgUGlNb2RlbCBmcm9tICdweWxsYXIvbW9kZWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNwb3J0ZU1vZGVsIGV4dGVuZHMgUGlNb2RlbCB7XHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgc3VwZXIuaW5pdChQaUNvbmZpZy5nZXQoJ2VuZHBvaW50LnRyYW5zcG9ydGUnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWN0aW9ucygpe1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdnZXQnOiAnR0VUOi8nLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0XCJtYWluXCI6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbi8vIG5vIG9uIGNodW5rcyBsb2FkZWRcblxuLy8gbm8ganNvbnAgZnVuY3Rpb24iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsImltcG9ydCB7IGdsb2JhbCB9IGZyb20gXCJweWxsYXIvZW52XCI7XHJcbmltcG9ydCBCb290c3RyYXAgZnJvbSBcInB5bGxhci9ib290c3RyYXBcIjtcclxuaW1wb3J0IFBpQ29uZmlnIGZyb20gXCJweWxsYXIvY29uZmlnXCI7XHJcblxyXG5pbXBvcnQgSG9tZVBhZ2UgZnJvbSBcIi4vaG9tZXBhZ2UvSG9tZVBhZ2VcIjtcclxuaW1wb3J0IENpZnJhVmlldyBmcm9tIFwiLi9jaWZyYS9DaWZyYVZpZXdcIjtcclxuXHJcbmltcG9ydCBcIi4vYXBwLmNzc1wiXHJcblxyXG5pZiAod2luZG93LmFwcFNldHRpbmdzKSB7XHJcbiAgICBQaUNvbmZpZy5sb2FkKGFwcFNldHRpbmdzKTtcclxufVxyXG5cclxuUGlDb25maWcuc2V0KCdyZXF1ZXN0LmZldGNoJywgZnVuY3Rpb24gKHVybCwgc2V0dGluZ3MsIHN1Y2Nlc3MsIGVycm9yLCBuZXh0KSB7XHJcbiAgICBuZXh0KCk7XHJcbn0pO1xyXG5cclxubmV3IEJvb3RzdHJhcCgpXHJcbiAgICAub25Mb2FkKChib290KSA9PiB7XHJcbiAgICAgICAgXHJcbiAgICB9KVxyXG4gICAgLm9uUmVhZHkoKGJvb3QpID0+IHtcclxuICAgICAgICBjb25zdCBob21lcGFnZSA9IG5ldyBIb21lUGFnZSgpO1xyXG4gICAgICAgIGhvbWVwYWdlLnJlbmRlcihnbG9iYWwuYXBwLiRlbGVtZW50KTtcclxuICAgICAgICBob21lcGFnZS5zZXRWaWV3KG5ldyBDaWZyYVZpZXcoKSk7XHJcbiAgICB9KVxyXG4gICAgLmxvYWQoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=