/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/app.css":
/*!***********************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/app.css ***!
  \***********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `:root{
    --app-color: #a007ff;
}

.btn-primary {
    background-color: var(--app-color) !important;
    border-color: var(--app-color) !important;
}`, "",{"version":3,"sources":["webpack://./src/app.css"],"names":[],"mappings":"AAAA;IACI,oBAAoB;AACxB;;AAEA;IACI,6CAA6C;IAC7C,yCAAyC;AAC7C","sourcesContent":[":root{\r\n    --app-color: #a007ff;\r\n}\r\n\r\n.btn-primary {\r\n    background-color: var(--app-color) !important;\r\n    border-color: var(--app-color) !important;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraAnime.css":
/*!************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraAnime.css ***!
  \************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
// Imports



var ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e */ "data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e"), __webpack_require__.b);
var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.cifra-preview {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
    background-color: #01101D;
}

.cifra-preview .box {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0px;
    bottom: 0px;
    left: 0px;
    right: 0px;
}

.cifra-preview .box:before {
    position: absolute;
    content: '';
    width: calc(100% + 30px);
    height: calc(100% + 30px);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(.7);
    filter: blur(0);
    opacity: 1;
    transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1);
}

.cifra-preview .box:hover:before {
    transform: translate(-50%, -50%) scale(1);
    filter: blur(50px);
}

.cifra-preview .box-inner {
    position: relative;
    width: 100%;
    height: 100%;
}

.cifra-preview .box:before,
.cifra-preview .box-inner {
    background-color: #440099;
    box-shadow: 2px 2px 12px 0 rgba(0, 0, 0, 0.58);
    /* border-radius: 21px; */

    background-image:
        url(${___CSS_LOADER_URL_REPLACEMENT_0___}),
        url(${___CSS_LOADER_URL_REPLACEMENT_0___}),
        url(${___CSS_LOADER_URL_REPLACEMENT_0___});
    background-repeat: repeat-x;
    background-size: 1600px 50%;
    background-position: 0 130%, -50px 130%, 500px 130%;

    animation: 20s waves linear infinite forwards;
}

@keyframes waves {
    to {
        background-position: 1600px 130%, 3150px 130%, 5300px 130%;
    }
}`, "",{"version":3,"sources":["webpack://./src/cifra/CifraAnime.css"],"names":[],"mappings":"AAAA;IACI,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,aAAa;IACb,yBAAyB;AAC7B;;AAEA;IACI,eAAe;IACf,WAAW;IACX,YAAY;IACZ,QAAQ;IACR,WAAW;IACX,SAAS;IACT,UAAU;AACd;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,wBAAwB;IACxB,yBAAyB;IACzB,QAAQ;IACR,SAAS;IACT,0CAA0C;IAC1C,eAAe;IACf,UAAU;IACV,oDAAoD;AACxD;;AAEA;IACI,yCAAyC;IACzC,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;AAChB;;AAEA;;IAEI,yBAAyB;IACzB,8CAA8C;IAC9C,yBAAyB;;IAEzB;;;+CAG4e;IAC5e,2BAA2B;IAC3B,2BAA2B;IAC3B,mDAAmD;;IAEnD,6CAA6C;AACjD;;AAEA;IACI;QACI,0DAA0D;IAC9D;AACJ","sourcesContent":[".cifra-preview {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100vh;\r\n    background-color: #01101D;\r\n}\r\n\r\n.cifra-preview .box {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0px;\r\n    bottom: 0px;\r\n    left: 0px;\r\n    right: 0px;\r\n}\r\n\r\n.cifra-preview .box:before {\r\n    position: absolute;\r\n    content: '';\r\n    width: calc(100% + 30px);\r\n    height: calc(100% + 30px);\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) scale(.7);\r\n    filter: blur(0);\r\n    opacity: 1;\r\n    transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1);\r\n}\r\n\r\n.cifra-preview .box:hover:before {\r\n    transform: translate(-50%, -50%) scale(1);\r\n    filter: blur(50px);\r\n}\r\n\r\n.cifra-preview .box-inner {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.cifra-preview .box:before,\r\n.cifra-preview .box-inner {\r\n    background-color: #440099;\r\n    box-shadow: 2px 2px 12px 0 rgba(0, 0, 0, 0.58);\r\n    /* border-radius: 21px; */\r\n\r\n    background-image:\r\n        url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='1600' height='198'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='-10.959%25' y2='100%25'%3e%3cstop stop-color='%23fcc900' stop-opacity='.25' offset='0%25'/%3e%3cstop stop-color='%23fcc900' offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill='url(%23a)' fill-rule='evenodd' d='M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z'/%3e%3c/svg%3e\"),\r\n        url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='1600' height='198'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='-10.959%25' y2='100%25'%3e%3cstop stop-color='%23fcc900' stop-opacity='.25' offset='0%25'/%3e%3cstop stop-color='%23fcc900' offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill='url(%23a)' fill-rule='evenodd' d='M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z'/%3e%3c/svg%3e\"),\r\n        url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='1600' height='198'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='-10.959%25' y2='100%25'%3e%3cstop stop-color='%23fcc900' stop-opacity='.25' offset='0%25'/%3e%3cstop stop-color='%23fcc900' offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill='url(%23a)' fill-rule='evenodd' d='M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z'/%3e%3c/svg%3e\");\r\n    background-repeat: repeat-x;\r\n    background-size: 1600px 50%;\r\n    background-position: 0 130%, -50px 130%, 500px 130%;\r\n\r\n    animation: 20s waves linear infinite forwards;\r\n}\r\n\r\n@keyframes waves {\r\n    to {\r\n        background-position: 1600px 130%, 3150px 130%, 5300px 130%;\r\n    }\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraView.css":
/*!***********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraView.css ***!
  \***********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.cifra-view .marcador {
    position: absolute;
    background: red;
    color: white;
    padding: 2px 10px;
    z-index: -1;
    border-radius: 4px;
    transition: top 0.2s, left 0.2s, width 0.2s, height 0.2s;
    display: none;
}

.cifra-view b {
    color: #f70;
}

.cifra-view.no-chords b {
    color: #fff;
    background-color: #fff;

}

.cifra-view.no-chords .marcador {
    color: #fff;
    background-color: #fff;

}

.cifra-view i {
    background-color: #fffb39;
    color: #555;
    border: 1px solid #333;
    font-style: normal;
}

.cifra-view .titulo {
    font-size: 16px;
    font-family: Roboto;
    font-weight: bold;
    background: var(--app-color);
    /*
* Created with https://www.css-gradient.com
* Gradient link: https://www.css-gradient.com/?c1=5e21c7&c2=a33cd3&gt=l&gd=dtl
*/
    background: #5E21C7;
    background: linear-gradient(135deg, #5E21C7, #A33CD3);
    border-bottom-right-radius: 7px;
    border-bottom-left-radius: 7px;
    color: #fff;
    padding: 10px;
    margin-bottom: 30px;
}

.cifra-view .options {
    margin-bottom: 30px;
}

.cifra-view .options .form-check {
    margin: 5px;
}`, "",{"version":3,"sources":["webpack://./src/cifra/CifraView.css"],"names":[],"mappings":"AAAA;IACI,kBAAkB;IAClB,eAAe;IACf,YAAY;IACZ,iBAAiB;IACjB,WAAW;IACX,kBAAkB;IAClB,wDAAwD;IACxD,aAAa;AACjB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,WAAW;IACX,sBAAsB;;AAE1B;;AAEA;IACI,WAAW;IACX,sBAAsB;;AAE1B;;AAEA;IACI,yBAAyB;IACzB,WAAW;IACX,sBAAsB;IACtB,kBAAkB;AACtB;;AAEA;IACI,eAAe;IACf,mBAAmB;IACnB,iBAAiB;IACjB,4BAA4B;IAC5B;;;CAGH;IACG,mBAAmB;IACnB,qDAAqD;IACrD,+BAA+B;IAC/B,8BAA8B;IAC9B,WAAW;IACX,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,WAAW;AACf","sourcesContent":[".cifra-view .marcador {\r\n    position: absolute;\r\n    background: red;\r\n    color: white;\r\n    padding: 2px 10px;\r\n    z-index: -1;\r\n    border-radius: 4px;\r\n    transition: top 0.2s, left 0.2s, width 0.2s, height 0.2s;\r\n    display: none;\r\n}\r\n\r\n.cifra-view b {\r\n    color: #f70;\r\n}\r\n\r\n.cifra-view.no-chords b {\r\n    color: #fff;\r\n    background-color: #fff;\r\n\r\n}\r\n\r\n.cifra-view.no-chords .marcador {\r\n    color: #fff;\r\n    background-color: #fff;\r\n\r\n}\r\n\r\n.cifra-view i {\r\n    background-color: #fffb39;\r\n    color: #555;\r\n    border: 1px solid #333;\r\n    font-style: normal;\r\n}\r\n\r\n.cifra-view .titulo {\r\n    font-size: 16px;\r\n    font-family: Roboto;\r\n    font-weight: bold;\r\n    background: var(--app-color);\r\n    /*\r\n* Created with https://www.css-gradient.com\r\n* Gradient link: https://www.css-gradient.com/?c1=5e21c7&c2=a33cd3&gt=l&gd=dtl\r\n*/\r\n    background: #5E21C7;\r\n    background: linear-gradient(135deg, #5E21C7, #A33CD3);\r\n    border-bottom-right-radius: 7px;\r\n    border-bottom-left-radius: 7px;\r\n    color: #fff;\r\n    padding: 10px;\r\n    margin-bottom: 30px;\r\n}\r\n\r\n.cifra-view .options {\r\n    margin-bottom: 30px;\r\n}\r\n\r\n.cifra-view .options .form-check {\r\n    margin: 5px;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/homepage/HomePage.css":
/*!*************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/homepage/HomePage.css ***!
  \*************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.homepage .menu {
    background: var(--app-color);
    color: #fff;
    border-bottom-right-radius: 10px;
    border-bottom-left-radius: 10px;
    margin-bottom: 20px;
}

.homepage .menu a{
    color: #fff;
}`, "",{"version":3,"sources":["webpack://./src/homepage/HomePage.css"],"names":[],"mappings":"AAAA;IACI,4BAA4B;IAC5B,WAAW;IACX,gCAAgC;IAChC,+BAA+B;IAC/B,mBAAmB;AACvB;;AAEA;IACI,WAAW;AACf","sourcesContent":[".homepage .menu {\r\n    background: var(--app-color);\r\n    color: #fff;\r\n    border-bottom-right-radius: 10px;\r\n    border-bottom-left-radius: 10px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.homepage .menu a{\r\n    color: #fff;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (url, options) {
  if (!options) {
    options = {};
  }
  if (!url) {
    return url;
  }
  url = String(url.__esModule ? url.default : url);

  // If url is already wrapped in quotes, remove them
  if (/^['"].*['"]$/.test(url)) {
    url = url.slice(1, -1);
  }
  if (options.hash) {
    url += options.hash;
  }

  // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls
  if (/["'() \t\n]|(%20)/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, "\\n"), "\"");
  }
  return url;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/pyllar/action.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/action.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiAction)
/* harmony export */ });
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./request */ "./node_modules/pyllar/request.js");
/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./promise */ "./node_modules/pyllar/promise.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./url */ "./node_modules/pyllar/url.js");






/**
 * @class
 */
class PiAction extends _class__WEBPACK_IMPORTED_MODULE_0__["default"] {
    #request = new _request__WEBPACK_IMPORTED_MODULE_1__["default"]();
    #promise = new _promise__WEBPACK_IMPORTED_MODULE_2__["default"]();

    constructor(options) {
        super(options)

        this._load();
    }

    /**
     * Retorna a promise
     * 
     * @returns {PiPromise}
     */
    get promise() {
        return this.#promise;
    }

    /**
     * Shadow method
     */
    invoke() {
        return this._callModelMethod.apply(this, arguments);
    }

    processErrorResponse() {
        this.#promise.reject.apply(this.#promise, arguments);
    }

    processSuccessResponse(data, paging) {
        if (this._ignore_response) {
            this.#promise.resolve(this.model);
            return;
        }

        if (_type__WEBPACK_IMPORTED_MODULE_3__["default"].isArray(data)) {
            const arr = [];
            const promises = [];

            for (let i = 0; i < data.length; i++) {
                const model = this.model.create().initWithJson(data[i]);

                if (model instanceof _promise__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                    model.ok((data) => {
                        arr.push(data);
                    });

                    promises.push(model);
                } else {
                    arr.push(model);
                }
            }

            if (promises.length == 0) {
                this.#promise.resolve(arr, paging);
            } else {
                _promise__WEBPACK_IMPORTED_MODULE_2__["default"].wait(promises).ok(() => {
                    this.#promise.resolve(arr, paging);
                });
            }
        } else {
            const model = this.model.create().initWithJson(data);

            if (model instanceof _promise__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                model.ok((data) => {
                    this.#promise.resolve(data, paging);
                });
            } else {
                this.#promise.resolve(model, paging);
            }
        }
    }

    _load() {
        this._parseStmt(this.actionStmt);
        this._addModelMethod();
    }

    _addModelMethod() {
        var self = this;

        if (this._is_static) {
            this.model.constructor[this.actionName] = function () {
                const action = new PiAction({
                    actionName: self.name,
                    actionStmt: self.stmt,
                    model: self.model.clone()
                });

                const promise = action.invoke.apply(action, arguments);
                return new Promise((ok, error) => {
                    promise.ok(ok);
                    promise.error(error);
                });
            };

            return;
        }

        this.model[this.actionName] = function () {
            const promise = self.invoke.apply(self, arguments);
            return new Promise((ok, error) => {
                promise.ok(ok);
                promise.error(error);
            });
        };
    }

    _callModelMethod(...args) {
        this.#promise = new _promise__WEBPACK_IMPORTED_MODULE_2__["default"]();

        if (_type__WEBPACK_IMPORTED_MODULE_3__["default"].isObject(args[0])) {
            this.model.inject(args[0]);
        }

        if (this._method == 'GET' || this._method == 'OPTIONS') {
            this._createRequestGet.apply(this, args);
        }

        if (this._method == 'PUT' || this._method == 'POST' || this._method == 'DELETE' || this._method == 'PATH') {
            this._createRequestPost.apply(this, args);
        }

        return this.#promise;
    }

    _createRequestGet(...args) {
        let url = this._createUrl(...args);

        if (this.#request.isSending()) {
            this.#request.abort();
        }

        this.model.requestWillGet(url);

        this.#request.getJson(url)
            .then((json) => {
                this.model.responseSuccessWillLoad.apply(this.model, [this, url, json.data, json.paging]);
            })
            .catch((json) => {
                if (args[0] instanceof TypeError) {
                    throw args[0];
                }

                this.model.responseErrorWillLoad.apply(this.model, [this, url, json.data, json.paging]);
            });

        this.model.requestDidGet(url);
    }

    _createRequestPost(...args) {
        let url = this._createUrl(...args);
        let json = this.model.toJson();

        if (this.#request.isSending()) {
            this.#request.abort();
        }

        this.model.requestWillPost(json, url);
        this.#request.setMethod(this._method).postJson(url, json)
            .then((json) => {
                this.model.responseSuccessWillLoad.apply(this.model, [this, url, json.data, json.paging]);
            }).catch((...args) => {
                if (args[0] instanceof TypeError) {
                    throw args[0];
                }

                this.model.responseErrorWillLoad.apply(this.model, [this, url, json.data, json.paging]);
            });

        this.model.requestDidPost(json, url);
    }

    _createUrl(...args) {
        let action = this._getAction(...args);
        let url = '';

        if (this.model.getBaseUrl() instanceof _url__WEBPACK_IMPORTED_MODULE_4__["default"]) {
            url = _url__WEBPACK_IMPORTED_MODULE_4__["default"].create(this.model.getBaseUrl()).path(action);
        } else {
            if (this.model.getBaseUrl().indexOf('http') > -1) {
                url = _url__WEBPACK_IMPORTED_MODULE_4__["default"].create(this.model.getBaseUrl() + action);
            } else {
                url = _url__WEBPACK_IMPORTED_MODULE_4__["default"].create('localhost', this.model.getBaseUrl() + action);
            }
        }

        return url;
    }

    _getAction(...args) {
        let count = 0;

        return this._url.replace(/\:\w+[\(\w*\)]*/gi, (pattern) => {
            let property = pattern.substring(1);
            let modelValue = this.model[property] || '';

            if (args.length == 0) {
                return modelValue;
            } else {
                return (args[count++] || modelValue).toString();
            }
        });
    }

    _parseStmt(stmt) {
        const p = stmt.split(':/');
        const method = p[0];
        const path = p[1];

        this._is_static = false;
        if (method.indexOf('static') > -1) {
            this._is_static = true;
        }

        this._ignore_response = false;
        if (method.indexOf('~') > -1) {
            this._ignore_response = true;
        }

        this._url = path.length ? '/' + path : '';

        if (stmt.toUpperCase().indexOf('GET') > -1) {
            this._method = 'GET';
        } else if (stmt.toUpperCase().indexOf('POST') > -1) {
            this._method = 'POST';
        } else if (stmt.toUpperCase().indexOf('PUT') > -1) {
            this._method = 'PUT';
        } else if (stmt.toUpperCase().indexOf('DELETE') > -1) {
            this._method = 'DELETE';
        } else if (stmt.toUpperCase().indexOf('PATH') > -1) {
            this._method = 'PATH';
        } else if (stmt.toUpperCase().indexOf('OPTIONS') > -1) {
            this._method = 'OPTIONS';
        } else if (this._url.indexOf('?') > -1) {
            this._method = 'GET';
        } else {
            this._method = 'POST';
        }
    }

};

/***/ }),

/***/ "./node_modules/pyllar/alias.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/alias.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiAs)
/* harmony export */ });
/* harmony import */ var _dictionary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dictionary */ "./node_modules/pyllar/dictionary.js");


/**
 * @class
 */
class PiAs {
    #alias = new _dictionary__WEBPACK_IMPORTED_MODULE_0__["default"]();

    /**
     * Adiciona a lista de parametros ao conjunto
     * 
     * @returns {boolean}
     */
    add() {
        if (arguments.length < 2) {
            throw "PiAs: numero insulficiente de parametros";
        }

        if (this.#alias.existKey(arguments[0])) {
            throw "PiAs: este apelido ja foi definido: " + arguments[0];
        }

        let value = "";
        for (let i = 1; i < arguments.length; i++) {
            let as = arguments[i];

            if (this.#alias.existKey(as)) {
                value += this.#alias.getValue(as);
            } else {
                value += as;
            }
        }

        this.#alias.add(arguments[0], value);

        return true;
    }

    /**
     * Atualiza o conjunto
     * @returns {boolean}
     */
    update() {
        if (arguments.length < 2) {
            throw "PiAs: numero insulficiente de parametros";
        }

        if (this.#alias.existKey(arguments[0])) {
            this.remove(arguments[0]);
            return false;
        }

        let value = "";
        for (let i = 1; i < arguments.length; i++) {
            let as = arguments[i];

            if (this.#alias.existKey(as)) {
                value += this.#alias.getValue(as);
            } else {
                value += as;
            }
        }

        this.#alias.add(arguments[0], value);

        return true;
    }

    /**
     * Remove um item do conjunto
     * 
     * @param {string} as - Item
     * @returns {boolean}
     */
    remove(as) {
        this.#alias.remove(as);

        return this;
    }

    /**
     * Retorna se existe o item no conjunto
     * 
     * @param {string} as 
     * @returns {boolean}
     */
    exist(as) {
        return this.#alias.existKey(as);
    }

    /**
     * Retorna o valor do item
     * 
     * @param {string} as 
     * @returns {object}
     */
    getValue(as) {
        let v = this.#alias.getValue(as);

        if (this.exist(as) == false) {
            return null;
        } else if (this.#alias.existKey(v)) {
            return this.getValue(v);
        } else {
            return v;
        }
    }

};

/***/ }),

/***/ "./node_modules/pyllar/app.js":
/*!************************************!*\
  !*** ./node_modules/pyllar/app.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiApp)
/* harmony export */ });
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./url */ "./node_modules/pyllar/url.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _url_hash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./url_hash */ "./node_modules/pyllar/url_hash.js");





if ((0,_env__WEBPACK_IMPORTED_MODULE_2__.location)().host.length == 0) {
    _url__WEBPACK_IMPORTED_MODULE_1__["default"].add('localhost', 'http://localhost');
} else {
    _url__WEBPACK_IMPORTED_MODULE_1__["default"].add('localhost', _url__WEBPACK_IMPORTED_MODULE_1__["default"].create((0,_env__WEBPACK_IMPORTED_MODULE_2__.location)().toString()).href());
}

/**
 * @class
 */
class PiApp extends _class__WEBPACK_IMPORTED_MODULE_0__["default"] {
    page = null;
    services = [];
    _totalRouteNotFound = 0;

    init(){
        super.init();

        _url_hash__WEBPACK_IMPORTED_MODULE_3__["default"].onWillChange(() => {
            this._totalRouteNotFound = 0;
        });
    }

    register() {
        for (let i = 0; i < arguments.length; i++) {
            const cpo = arguments[i];
            (0,_env__WEBPACK_IMPORTED_MODULE_2__.register)(cpo);
        }

        return this;
    }

    addServices() {
        for (let i = 0; i < arguments.length; i++) {
            const service = arguments[i];

            service.onRouteNotFound((route) => {
                this._totalRouteNotFound++;

                if (this._totalRouteNotFound == this.services.length) {
                    this.#routeNotFound(route);
                }
            });

            this.services.push(service);
        }

        return this;
    }
    
    startServices() {
        for (let i = 0; i < this.services.length; i++) {
            const service = this.services[i];
            service.start();
        }

        return this;
    }

    stopServices() {
        for (let i = 0; i < this.services.length; i++) {
            const service = this.services[i];
            service.stop();
        }

        return this;
    }

    setPage(page) {
        if (this.page) {
            this.page.destroy();
        }

        page.render(this.element);

        this.page = page;

        return this;
    }

    getPage(){
        return this.page;
    }

    openModal(modal) {
        modal.render(this.element, true);
    }

    #routeNotFound(route) {
        for (let i = 0; i < this.services.length; i++) {
            const service = this.services[i];
            if (service.routeNotFound) {
                service.routeNotFound(route);
            }
        }

        return this;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/array.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/array.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiArray)
/* harmony export */ });
/**
 * @class
 * @name PiArray
 */
class PiArray {
    static addMethod(array, name, cb) {
        const cbs = [];
        if (array[name] != undefined) {
            cbs.push(cb);
            return;
        }

        Object.defineProperty(array, name, {
            enumerable: false,
            configurable: false,
            writable: false,
            value: function (...params) {
                cb.call(array, ...params);
                return this;
            }
        })
    }
};

/***/ }),

/***/ "./node_modules/pyllar/boot.js":
/*!*************************************!*\
  !*** ./node_modules/pyllar/boot.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiBoot)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app */ "./node_modules/pyllar/app.js");
/* harmony import */ var _tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tree */ "./node_modules/pyllar/tree.js");
/* harmony import */ var _virtual_tree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./virtual_tree */ "./node_modules/pyllar/virtual_tree.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");







/**
 * @class
 */
class PiBoot extends _class__WEBPACK_IMPORTED_MODULE_5__["default"] {

    createApp() {
        if ((0,_env__WEBPACK_IMPORTED_MODULE_1__.app)() == undefined) {
            _env__WEBPACK_IMPORTED_MODULE_1__.global.app = new _app__WEBPACK_IMPORTED_MODULE_2__["default"]();
            _env__WEBPACK_IMPORTED_MODULE_1__.global.app._scope = { context: _env__WEBPACK_IMPORTED_MODULE_1__.app };
        } else {
            _env__WEBPACK_IMPORTED_MODULE_1__.global.app = new App();
            _env__WEBPACK_IMPORTED_MODULE_1__.global.app._scope = { context: _env__WEBPACK_IMPORTED_MODULE_1__.app };
        }

        return _env__WEBPACK_IMPORTED_MODULE_1__.global.app;
    }

    loadApp() {
        if (_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('app.parse.enable')) {
            this.#createVirtualTree();
        }
    }

    #createVirtualTree() {
        const element = document.querySelector(_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('app.parse.selector'));
        if (element == null) {
            throw `PiBoot: Não foi possível encontrar o elemento pelo seletor informado ${_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('app.parse.selector')}`;
        }

        const root = _tree__WEBPACK_IMPORTED_MODULE_3__["default"].parse(element.innerHTML);
        element.innerHTML = '';
        element.append(root);

        const vtree = new _virtual_tree__WEBPACK_IMPORTED_MODULE_4__["default"](element, (0,_env__WEBPACK_IMPORTED_MODULE_1__.app)()._scope, (0,_env__WEBPACK_IMPORTED_MODULE_1__.app)());
        vtree.load();

        (0,_env__WEBPACK_IMPORTED_MODULE_1__.app)().element = element;
        (0,_env__WEBPACK_IMPORTED_MODULE_1__.app)().$element = $(element);
    }
};

/***/ }),

/***/ "./node_modules/pyllar/bootstrap.js":
/*!******************************************!*\
  !*** ./node_modules/pyllar/bootstrap.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Bootstrap)
/* harmony export */ });
/* harmony import */ var _boot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./boot */ "./node_modules/pyllar/boot.js");
/* harmony import */ var _initialize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./initialize */ "./node_modules/pyllar/initialize.js");
/* harmony import */ var _callback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./callback */ "./node_modules/pyllar/callback.js");
/* harmony import */ var _native_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./native_element */ "./node_modules/pyllar/native_element.js");
/* harmony import */ var _native_element__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_native_element__WEBPACK_IMPORTED_MODULE_3__);





class Bootstrap {
    #hooks = new _callback__WEBPACK_IMPORTED_MODULE_2__["default"]();

    onInit(fn){
        this.#hooks.add('init', fn);

        return this;
    }

    onLoad(fn){
        this.#hooks.add('load', fn);

        return this;
    }

    onReady(fn){
        this.#hooks.add('ready', fn);

        return this;
    }

    async load() {
        const boot = new _boot__WEBPACK_IMPORTED_MODULE_0__["default"]();
        let app = null;

        _initialize__WEBPACK_IMPORTED_MODULE_1__["default"]
            .init(() => {
                this.#hooks.trigger('init', app);
                app = boot.createApp();
            })
            .start(() => {
                this.#hooks.trigger('load', app);
                boot.loadApp();
                this.#hooks.trigger('ready', app);
            });
        
        await _initialize__WEBPACK_IMPORTED_MODULE_1__["default"].load();
    }
}

/***/ }),

/***/ "./node_modules/pyllar/callback.js":
/*!*****************************************!*\
  !*** ./node_modules/pyllar/callback.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiCallback)
/* harmony export */ });
/**
 * @class
 */
class PiCallback {
    #list = [];

    /**
     * Remove todos os listeners
     * 
     * @returns {PiCallback}
     */
    clear() {
        this.#list = [];

        return this;
    }

    /**
     * Adiciona um callback
     * 
     * @param {string} name - Nome do callback
     * @param {function} fn - Função de callback
     * @param {object} ctx - Contexto onde o callback será chamado
     * @returns {PiCallback}
     */
    add(name, fn, ctx) {
        if (this.#list[name] == null) {
            this.#list[name] = [];
        }

        this.#list[name].push({ name: name, fn: fn, ctx: ctx });

        return this;
    }

    /**
     * Remove um callback por nome
     * 
     * @param {string} name - Nome do callback
     * @returns {PiCallback}
     */
    remove(name) {
        if (!this.exist(name)) return this;

        this.#list[name] = [];

        return this;
    }

    /**
     * Verifica se existe um callback adicionado
     * 
     * @param {string} name - Nome do callback
     * @returns {boolean}
     */
    exist(name) {
        return this.#list[name] != null;
    }

    /**
     * Returna uma lista com todos os callbacks adicionado pelo nome
     * 
     * @param {string} name - Nome do callback
     * @returns {array}
     */
    get(name) {
        if (!this.exist(name)) return [];
        return this.#list[name];
    }

    /**
     * Alias para get(name)
     * 
     * @param {string} name - Nome do callback
     * @returns {array}
     */
    findAll(name) {
        return this.get(name);
    }

    /**
     * Dispara os callback adicionados pelo nome
     * 
     * @param {string} name - Nome
     * @param  {...any} args - Lista de parametros passado para o callback
     * @returns {object}
     */
    trigger(name, ...args) {
        let arr = this.findAll(name);
        let r = undefined;

        for (let i = 0; i < arr.length; i++) {
            let item = arr[i];

            r = item.fn.apply(item.ctx, args);
        }

        return r;
    }
};

/***/ }),

/***/ "./node_modules/pyllar/class.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/class.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiClass)
/* harmony export */ });
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");



/**
 * @class
 */
class PiClass {
    #parameters = null;

    constructor(...args) {
        this.instances(...args);

        if (_type__WEBPACK_IMPORTED_MODULE_0__["default"].isObject(args[0])) {
            _object__WEBPACK_IMPORTED_MODULE_1__["default"].extendAndCall(this, args[0]);
        }

        this.#parameters = args[0] == undefined ? {} : args[0];

        this.init(...args);
    }

    instances() {

    }

    /**
     * Retorna o parametro fornecido na criação do objeto
     * 
     * @returns {object}
     */
    get parameters() {
        return this.#parameters;
    }

    /**
     * Injeta as propriedades do objeto
     * 
     * @param {json} json - Objeto a ser injetado no objeto atual
     * @returns {this}
     */
    inject(json) {
        for (var property in json) {
            this[property] = json[property];
        }

        return this;
    }

    init() {

    }

    jsonWillConvert() {

    }

    /**
     * Converte o objeto em um json
     * 
     * @returns {object}
     */
    toJson() {
        this.jsonWillConvert();
        let json = JSON.parse(JSON.stringify(this));
        this.jsonDidConvert(json);

        return json;
    }

    jsonDidConvert(json) {

    }

    cloneWillLoad() {

    }

    /**
     * Clona o objeto atual
     * 
     * @returns {this}
     */
    clone() {
        this.cloneWillLoad();
        let json = this.toJson();
        let clone = new this.constructor(json);
        this.cloneDidLoad(clone);

        return clone;
    }

    cloneDidLoad() {

    }

    /**
     * Cria uma nova instancia da classe
     * 
     * @param  {...any} args 
     * @returns {this}
     */
    static create(...args) {
        return new this(...args);
    }

    create(...args) {
        return new this.constructor(...args);
    }
};

/***/ }),

/***/ "./node_modules/pyllar/component.js":
/*!******************************************!*\
  !*** ./node_modules/pyllar/component.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiComponent)
/* harmony export */ });
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./event */ "./node_modules/pyllar/event.js");
/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./string */ "./node_modules/pyllar/string.js");
/* harmony import */ var _model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model */ "./node_modules/pyllar/model.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _tree__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tree */ "./node_modules/pyllar/tree.js");
/* harmony import */ var _virtual_tree__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./virtual_tree */ "./node_modules/pyllar/virtual_tree.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./promise */ "./node_modules/pyllar/promise.js");
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./random */ "./node_modules/pyllar/random.js");













const $ = _env__WEBPACK_IMPORTED_MODULE_8__.global.$;

/**
 * @class
 */
class PiComponent extends _class__WEBPACK_IMPORTED_MODULE_1__["default"] {
    event = new _event__WEBPACK_IMPORTED_MODULE_2__["default"]();

    #vtrees = [];
    #watchs = [];
    #scope = null;
    #$element = null;
    #isParentElement = false;
    #elementId = '';

    constructor(...args) {
        super(...args);

        this.#scope = {
            context: this
        };

        this.#elementId = _random__WEBPACK_IMPORTED_MODULE_10__["default"].uuid('xx-xx');
    }

    init(...args) {
        super.init(...args);

        this._loadPromise = new _promise__WEBPACK_IMPORTED_MODULE_9__["default"]();
        this.willLoad(this._loadPromise);
    }

    /**
     * Injeta o modelo em todos os elementos de pagina com o atributo 'data-model'
     * Caso o parametro seja um json, seu valor será embutido no component
     * 
     * @param {PiModel} model - Modelo a ser injetado
     * @returns {PiComponent}
     */
    inject(model) {
        if (model instanceof _model__WEBPACK_IMPORTED_MODULE_4__["default"]) {
            const names = _string__WEBPACK_IMPORTED_MODULE_3__["default"].clips(this.view, 'data-model="', '"');
            for (let i = 0; i < names.length; i++) {
                const name = names[i];
                const element = this.element.querySelector('[data-model="' + name + '"]');
                const value = _object__WEBPACK_IMPORTED_MODULE_5__["default"].extractValue(model, name);

                if (element._hasComponent) {
                    element._component.set(value);
                } else if (element.firstChild && element.firstChild._hasComponent) {
                    element.firstChild._component.set(value);
                } else {
                    element.set(value);
                }
            }
        } else {
            super.inject(model);
        }

        return this;
    }

    /**
     * Retorna o valor que representa o component
     * 
     * @returns {string}
     */
    get() {
        return '';
    }

    /**
     * Define um valor para o component
     * Dispara o evento 'change'
     * 
     * @returns {PiComponent}
     */
    set(value) {
        if (this.element == null) {
            return this;
        }

        this.dispatchEvent('change', value);

        return this;
    }

    /**
     * Dispara um evento nativo sobre o elemento
     * 
     * @param {string} eventName - Nome do evento
     * @param {Object} param - Objeto a ser passado pelo evento
     * @returns {PiComponent}
     */
    dispatchEvent(eventName, param, newEvent = true) {
        if (this.element == null) {
            return this;
        }

        var event = param;
        if (newEvent) {
            event = new CustomEvent(eventName, {
                bubbles: true,
                cancelable: true,
                composed: false,
                detail: param,
            });
        }

        if (this.#isParentElement) {
            this.element.dispatchEvent(event);
        } else {
            this.element.parentElement.dispatchEvent(event);
        }

        return this;
    }

    /**
     * Retorna wrapper jquery
     * 
     * @returns {jQueryElement}
     */
    get $element() {
        if (this.#$element) return this.#$element;
        return this.#$element = $(this.element);
    }

    /**
     * Renderiza o elemento anexando ou inserindo no elemento
     * 
     * @param {Element} element - Elemento html onde o componente será renderizado
     * @param {boolean} append 
     * @returns {PiComponent}
     */
    render(element, append = false) {
        if (element instanceof $) {
            element = element.get(0);
        }

        this._loadPromise.once(() => {
            this.#loadAttributes(element);

            if (element.mount) {
                element.mount(this);
            }

            this.viewWillLoad();
            this.viewWillRender();
            this.viewRender(element, append);
            this.viewDidRender();
            this.#listen();
            this.viewDidLoad();

            if (element.didMount) {
                element.didMount(this);
            }

            this.element.setAttribute('data-id', this.#elementId);
        });

        return this;
    }

    get isRendered() {
        const elemento = document.querySelector(`[data-id="${this.#elementId}"]`);
        return document.contains(elemento);
    }

    willLoad(promise) {
        promise.resolve();
    }

    didLoad() {

    }

    viewWillLoad() {

    }

    viewWillRender() {

    }

    viewDidRender() {

    }

    viewRender(element, append = false) {
        if (!append) {
            element.innerHTML = '';
        }

        if (this.view) {
            const elements = this.loadView(this.view, element);

            if (elements.length == 1) {
                this.element = elements[0];
                this.#isParentElement = false;
            } else {
                this.element = element;
                this.#isParentElement = true;
            }

        } else {
            this.element = element;
        }
    }

    viewDidLoad() {

    }

    /**
     * Monitora alteração sobre propriedade 
     * 
     * @param {string} property - Nome da propriedade a ser monitorada
     * @param {function} fn - Função de callback
     * @returns {PiElement}
     */
    watch(property, fn) {
        const ids = _object__WEBPACK_IMPORTED_MODULE_5__["default"].on(this.#scope, 'context.' + property, fn)
        this.#watchs = this.#watchs.concat({
            property: property,
            ids: ids
        });

        return this;
    }

    /**
     * Para de monitorar uma proprieade do contexto
     * 
     * @param {string} property - Nome da propriedade
     * @returns {PiElement}
     */
    unWatch(property) {
        const arr = this.#watchs;

        for (let i = 0; i < arr.length; i++) {
            if (arr[i].property == property) {
                _object__WEBPACK_IMPORTED_MODULE_5__["default"].off(this.#scope, arr[i].ids);
                break;
            }
        }

        return this;
    }

    destroy() {
        for (let i = 0; i < this.#vtrees.length; i++) {
            const vtree = this.#vtrees[i];
            vtree.destroy();
        }
        this.#vtrees = [];

        this.#clearContextWatch();
    }

    loadView(view, element) {
        const root = _tree__WEBPACK_IMPORTED_MODULE_6__["default"].parse(view);
        const children = [];

        for (; root.childElementCount;) {
            const child = root.children[0];
            element.append(child);
            children.push(child);
        }

        this.#loadTree(children);

        return children;
    }

    #loadTree(tree) {
        const vtree = new _virtual_tree__WEBPACK_IMPORTED_MODULE_7__["default"](tree, this.#scope, this);
        vtree.load();
        this.#vtrees.push(vtree);
    }

    #listen() {
        if (this.element == null) {
            return this;
        }

        const self = this;
        const observer = new MutationObserver(function (mutations) {
            mutations.forEach(function (mutation) {
                if (mutation.type == 'childList') {
                    for (var i = 0; i < mutation.addedNodes.length; i++) {
                        const element = mutation.addedNodes[i];
                        self.#loadTree(element);
                    }
                }
            });
        });

        observer.observe(this.element, {
            childList: true,
            attributes: false,
            characterData: false,
            subtree: false,
            attributeOldValue: false,
            characterDataOldValue: false
        });
    }

    #clearContextWatch() {
        let ids = [];

        for (let i = 0; i < this.#watchs.length; i++) {
            ids = ids.concat(this.#watchs[i].ids);
        }

        _object__WEBPACK_IMPORTED_MODULE_5__["default"].off(this.#scope, ids);
        this.#watchs = [];
    }

    #loadAttributes(element) {
        if (element.getAttributeNames == undefined) {
            return;
        }

        const attrs = element.getAttributeNames();

        for (let i = 0; i < attrs.length; i++) {
            const name = attrs[i];
            let value = element.getAttribute(name);

            if (name.indexOf('prop-') == -1) {
                continue
            }

            if (_type__WEBPACK_IMPORTED_MODULE_0__["default"].isString(value) && (_type__WEBPACK_IMPORTED_MODULE_0__["default"].isObject(value) || _type__WEBPACK_IMPORTED_MODULE_0__["default"].isArray(value))) {
                value = JSON.parse(value);
            }

            const cname = name.replace('prop-', '');
            this[cname] = value;
        }
    }

    static register(cpo) {
        (0,_env__WEBPACK_IMPORTED_MODULE_8__.register)(cpo);
    }
}

/***/ }),

/***/ "./node_modules/pyllar/config.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/config.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");



const defaults = {
    app: {
        parse: {
            enable: true,
            selector: 'body'
        }
    },
    html: {
        loader: 'Carregando ...'
    },
    expression: {
        xlanguage: /(\{>?)([^\}]+)(\})/gi,
        xvariable: /(@)([\w\.]+)/gi,
        xhtml: /(\{>)([^\}]+)(\})/gi,
    },
    history: {
        popstate: false,
        prefixHashtag: true
    },
    services: [],
    request: {
        fetch: null
    }
};

/**
 * @class
 */
class PiConfig {
    /**
     * Define uma configuração
     * 
     * @param {string} key - Parametro da configuração
     * @param {object} value - Valor da configuração
     * @returns {PiConfig}
     */
    static set(key, value) {
        _object__WEBPACK_IMPORTED_MODULE_0__["default"].setProperty(defaults, key, value);

        return PiConfig;
    }

    /**
     * Retorna uma configuração
     * 
     * @param {string} key - Path da configuração
     * @returns {object||string}
     */
    static get(key) {
        return _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(defaults, key);
    };

    /**
     * Carrega um conjunto de configurações
     * 
     * @param {object} settings - Objeto contendo configurações
     * @returns {PiConfig}
     */
    static load(settings) {
        _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(defaults, settings);
        return PiConfig;
    }

    /**
     * Mescla a configuração atual com a nova configuração informada por parametro
     * 
     * @param {object} settings - Configuração
     * @param {object} value - Valor da configuração
     * @returns {object}
     */
    static extend(settings, value = false) {
        if (value == false) return _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(defaults, settings);
        else return _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(defaults, { settings: value });
    }

};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PiConfig);

(0,_env__WEBPACK_IMPORTED_MODULE_1__.register)(PiConfig);

/***/ }),

/***/ "./node_modules/pyllar/dictionary.js":
/*!*******************************************!*\
  !*** ./node_modules/pyllar/dictionary.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiDictionary)
/* harmony export */ });
/**
 * @class
 */
class PiDictionary {
    #list = [];

    /**
     * Adiciona o par chave valor
     * 
     * @param {string} key - Chave
     * @param {string} value - Valor
     * @returns {PiDictionary}
     */
    add(key, value) {
        this.#list[key] = value;

        return this;
    }

    /**
     * Verifica se existe a chave
     * 
     * @param {string} key - Chave
     * @returns {boolean}
     */
    existKey(key) {
        return this.#list[key] != undefined;
    }

    /**
     * Verifica se existe o valor
     * 
     * @param {string} value - Valor
     * @returns {boolean}
     */
    existValue(value) {
        for (let i = this.#list.length - 1; i >= 0; i--) {
            if (this.#list[i] == value) return true;
        }

        return false;
    }

    /**
     * Retorna o valor
     * 
     * @param {string} key - Chave
     * @returns {string}
     */
    getValue(key) {
        return this.#list[key];
    }

    /**
     * Remove a chave
     * 
     * @param {string} key - Chave
     * @returns {PiDictionary}
     */
    remove(key) {
        delete this.#list[key];

        return this;
    }

    /**
     * Limpa o dicionario
     * 
     * @returns {PiDictionary}
     */
    clear() {
        this.#list = [];

        return this;
    }

    /**
     * Convert o dicionario em array
     * 
     * @returns {array}
     */
    toArray() {
        return this.#list;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/element.js":
/*!****************************************!*\
  !*** ./node_modules/pyllar/element.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiElement)
/* harmony export */ });
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _expression__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./expression */ "./node_modules/pyllar/expression.js");
/* harmony import */ var _statement__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./statement */ "./node_modules/pyllar/statement.js");
/* harmony import */ var _virtual_tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./virtual_tree */ "./node_modules/pyllar/virtual_tree.js");
/* harmony import */ var _for_directive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./for_directive */ "./node_modules/pyllar/for_directive.js");
/* harmony import */ var _foreach_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./foreach_directive */ "./node_modules/pyllar/foreach_directive.js");
/* harmony import */ var _array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./array */ "./node_modules/pyllar/array.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./promise */ "./node_modules/pyllar/promise.js");












/**
 * @class
 */
class PiElement {
    /**
     * Constroi PiElement baseado no elemento html
     * 
     * @param {Element} element - Elemento html
     * @param {object} [scope = {context: {}}] - Classe de escopo
     */
    constructor(element, scope = { context: {} }, componentParent = null) {
        this._element = element;

        this._attrNames = element.getAttributeNames();
        this._destroyed = false;
        this._directives = [];
        this._autoBind = true;

        this._element._component = null;
        this._element._hasComponent = false;
        this._element._componentParent = componentParent;

        this._foreachContext = {};

        this._defaultVariablesNames = [];
        this._defaultVariablesValues = [];

        this._scope = scope;
        this._watchs = [];
        this._children = [];
        this._events = {
            'enter': this._eventEnter
        };

        this._orderAttributeNames();
        this._loadDirectivesBase();

        this._element._pie = true;
    }

    /**
     * 
     * @param {string} name - Adiciona propriedade ao contexto do foreach
     * @param {obj} value - Objeto associado a propriedade de contexto do foreach
     * @returns {PiElement}
     */
    addForeachContext(name, value) {
        this._foreachContext[name] = value;

        return this;
    }

    setComponent(cx) {
        this._element._hasComponent = true;
        this._element._component = cx;

        return this;
    }

    extendForeachContext(foreachContext) {
        _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(this._foreachContext, foreachContext);

        return this;
    }

    /**
     * Monitora alteração sobre propriedade 
     * 
     * @param {string} propertyName - Nome da propriedade a ser monitorada
     * @param {function} fn - Função de callback
     * @returns {PiElement}
     */
    watch(propertyName, fn) {
        this._addContextWatch(propertyName, fn);

        return this;
    }

    /**
     * Para de monitorar uma proprieade do contexto
     * 
     * @param {string} propertyName - Nome da propriedade
     * @returns {PiElement}
     */
    unWatch(propertyName) {
        this._removeContextWatch(propertyName);

        return this;
    }

    /**
     * Carrega e analisa todas as diretivas juntamente com o template
     * 
     * @returns {PiElement}
     */
    load(wrapper) {
        this._loadDefaultVariables();
        this._runDirectives(wrapper);
        this._loadTemplate();

        return this;
    }

    _loadDefaultVariables() {
        let variablesForeachNames = Object.keys(this._foreachContext);
        let variablesForeachValues = Object.values(this._foreachContext);
        let contextPropertyNames = [];
        let contextPropertyValues = [];

        const cpo = this._element._componentParent;
        if (cpo != null) {
            contextPropertyNames = Object.getOwnPropertyNames(cpo.__proto__);
            for (let i = 0; i < contextPropertyNames.length; i++) {
                if (cpo[contextPropertyNames[i]] instanceof Function) {
                    contextPropertyValues.push(cpo[contextPropertyNames[i]].bind(cpo));
                }
            }
        }

        this._defaultVariablesNames = variablesForeachNames.concat(contextPropertyNames);
        this._defaultVariablesValues = variablesForeachValues.concat(contextPropertyValues);
    }

    /**
     * Adiciona uma directiva para um atributo do elemento
     * 
     * @param {string} name - nome da diretiva
     * @param {function} fn - Função de callback
     * @returns {this}
     */
    addDirective(name, fn) {
        this._directives[name] = fn;

        return this;
    }

    /**
     * Retorna se existe uma diretiva adicionada pelo seu nome
     * 
     * @param {string} name - Nome da diretiva
     * @returns {boolean}
     */
    existDirective(name) {
        return this._directives[name] != null;
    }

    /**
     * Retorna wrapper jquery
     * 
     * @returns {jQueryElement}
     */
    get $() {
        if (this._$element) return this._$element;
        return this._$element = $(this._element);
    }

    /**
     * Alias para listen
     * 
     * @param {string} eventName - Nome do evento
     * @param {function} fn - Função de callback
     * @param  {...any} args - Argumentos enviados ao callback quando ocorrer o evento
     * @returns {PiElement}
     */
    on(eventName, fn, ...args) {
        return this.listen(eventName, fn, ...args);
    }

    _eventEnter(fn, ...args) {
        this._element.addEventListener('keyup', (e) => {
            if (e.keyCode == 13) {
                fn.apply(this, [e, ...args]);
            }
        });
    }

    _eventDefault(eventName, fn, ...args) {
        this._element.addEventListener(eventName, (e) => {
            fn.apply(this, [e, ...args]);
        });
    }

    /**
     * Adiciona um callback sobre um evento do elemento
     * 
     * @param {string} eventName - Nome do evento
     * @param {function} fn - Função de callback
     * @param  {...any} args - Argumentos enviados ao callback quando ocorrer o evento
     * @returns {PiElement}
     */
    listen(eventName, fn, ...args) {
        const event = this._events[eventName];

        if (event) {
            event.call(this, fn, ...args);
        } else {
            this._eventDefault(eventName, fn, ...args);
        }

        return this;
    }

    /**
     * Alias para unlisten
     * 
     * @param {string} eventName - Nome do evento
     * @param {function} fn - Função de callback
     * @returns {PiElement}
     */
    off(eventName, fn) {
        return this.unlisten(eventName, fn);
    }

    /**
     * Remove callback sobre um evento do elemento
     * 
     * @param {string} eventName - Nome do evento
     * @param {function} fn - Função de callback
     * @returns {PiElement}
     */
    unlisten(eventName, fn) {
        this._element.removeEventListener(eventName, fn);

        return this;
    }

    _dispose() {
        if (this._destroyed) {
            return;
        }

        this._destroyed = true;
        this._element.remove();

        for (let i = 0; i < this._children.length; i++) {
            this._children[i].destroy();
        }
        this._children = [];

        return this;
    }

    /**
     * Remove elemento do DOM
     * 
     * @returns {PiElement}
     */
    destroy() {
        if (this._destroyed) {
            return;
        }

        this._dispose();
        this._clearContextWatch();

        return this;
    }

    /**
     * Insere elemento depois
     * 
     * @param {PiElement} element - Elemento a ser inserido
     * @returns {PiElement}
     */
    insertBefore(element) {
        this._element.parentNode.insertBefore(element._element, this._element.nextElementSibling);

        return this;
    }

    /**
     * Insere elemento antes
     * 
     * @param {PiElement} element - Elemento a ser inserido
     * @returns {PiElement}
     */
    insertAfter(element) {
        this._element.parentNode.insertBefore(element._element, this._element.nextSibling);

        return this;
    }

    /**
     * Adiciona um elemento 
     * 
     * @param {PiElement} element 
     * @returns {PiElement}
     */
    append(element) {
        this._element.parentNode.append(element._element);

        return this;
    }

    /**
     * Executa uma statement dentro do contexto sempre que o evento associado for disparado
     * 
     * @param {string} statement - Statement executada sempre que o ocorrer o evento
     * @param {strin} event - Nome do evento a ser observado
     * @returns {PiElement}
     */
    addEventStatement(statement, _, event) {
        const expression = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](statement);

        this.listen(event, function (e) {
            const ctx = this._getContext();
            const variables = this._getDefaultVariables();

            variables[0].push('$event');
            variables[1].push(e);

            const stmt = expression.parse(ctx, variables);

            return _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(stmt, variables, ctx);
        });

        return this;
    }

    setChangeDirective(statement) {
        const expression = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](statement);

        this.listen('change', function (e) {
            const ctx = this._getContext();
            const variables = this._getDefaultVariables();

            variables[0].push('$event');
            variables[1].push(e);

            const stmt = expression.parse(ctx, variables);

            return _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(stmt, variables, ctx);
        });

        return this;
    }

    /**
     * Retorna o valor do elemento
     * 
     * @returns {string|number|boolean}
     */
    get value() {
        const e = this._element;

        if (e instanceof HTMLInputElement && e.type == 'checkbox') {
            return e.checked;
        }

        if (e instanceof HTMLInputElement && e.type == 'radio') {
            return e.checked;
        }

        return e.value;
    }

    /**
     * Define o valor do elemento
     * 
     * @param {string|boolean} value - Valor
     * @returns {PiElement}
     */
    set value(value) {
        const e = this._element;

        if (e instanceof HTMLInputElement && (e.type == 'checkbox' || e.type == 'radio')) {
            e.checked = value;
            return this;
        }

        e.value = value;

        return this;
    }

    /**
     * Adiciona um vinculo de direção dupla entre uma propriedade do contexto e o elemento virtual
     * 
     * @param {string} propertyName - Nome da propriedade do contexto que será vinculada ao elemento
     * @param {string} eventName - Nome da propriedade do contexto que será vinculada ao elemento
     * @returns {PiElement}
     */
    addBind(propertyName, _, eventName) {
        if (propertyName == null || propertyName.length == 0) {
            return;
        }

        this._addBindToElementContext(propertyName, eventName);

        return this;
    }

    /**
     * Retorna verdadeiro se o elemento estiver destruido
     * 
     * @returns {boolean}
     */
    get isDestroyed() {
        return this._destroyed;
    }

    /**
     * Define uma expression de inicialização
     * 
     * @param {string} expression
     * @returns {PiElement}
     */
    setInitDirective(expression) {
        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();
        const defaultVariables = this._getDefaultVariables();
        const stmt = ex.parse(ctx, defaultVariables);

        _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables('this.' + stmt, defaultVariables, ctx);

        return this;
    }

    /**
     * Adiciona bind fullduplex do elemento a propriedade da model
     * 
     * @param {string} propertyName - Nome da propriedade da model que será vinculada ao elemento
     * @returns {PiElement}
     */
    setModelDirective(propertyName) {
        let event = 'change';

        if (this._element instanceof HTMLInputElement) {
            event = 'keyup';
        }

        this._addBindToElementContext(propertyName, event);

        return this;
    }

    /**
     * Define o valor do elemento baseado em uma expression language avaliada dentro do contexto do elemento
     * 
     * @param {string} expression - Expressão a ser avaliada dentro do contexto
     * @returns {PiElement}
     */
    setValueDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();

        this.value = ex.parse(ctx, this._getDefaultVariables());

        return this;
    }

    /**
     * Define se o elemento terá o atributo 'selected' baseado na expression language
     * 
     * @param {string} expression - Expressão a ser avaliada dentro do contexto
     * @returns {PiElement}
     */
    setSelectedDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();
        const value = ex.parse(ctx, this._getDefaultVariables());

        if (value === true || value === "true") {
            this._element.setAttribute('selected', true);
        } else {
            this._element.removeAttribute('selected');
        }

        return this;
    }

    setCheckedDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();
        const variables = ex.variables;
        let value = ex.parse(ctx, this._getDefaultVariables());

        this._element.checked = value == 'true';

        if (variables.length > 0) {
            for (let i = 0; i < variables.length; i++) {
                const variable = variables[i];
                this._addContextWatch(variable, () => {
                    value = ex.parse(ctx, this._getDefaultVariables());

                    this._element.checked = value == 'true';
                });
            }
        }
    }

    setSrcDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();
        const variables = ex.variables;
        let value = ex.parse(ctx, this._getDefaultVariables());

        this._element.setAttribute('src', value);

        if (variables.length > 0) {
            for (let i = 0; i < variables.length; i++) {
                const variable = variables[i];
                this._addContextWatch(variable, () => {
                    value = ex.parse(ctx, this._getDefaultVariables());

                    this._element.setAttribute('src', value);
                });
            }
        }
    }

    setConditionalDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const variables = ex.variables;

        this._updateConditional(ex);

        if (variables.length > 0) {
            for (let i = 0; i < variables.length; i++) {
                const variable = variables[i];
                this._addContextWatch(variable, () => {
                    this._updateConditional(ex);
                });
            }
        }
    }

    /**
     * Define se o elemento terá o atributo 'disabled' baseado na expression language
     * 
     * @param {string} expression - Expressão a ser avaliada dentro do contexto
     * @returns {PiElement}
     */
    setDisabledDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        this._updateDisabled(ex);

        for (let i = 0; i < ex.variables.length; i++) {
            const variableName = ex.variables[i];

            this._addContextWatch(variableName, () => {
                this._updateDisabled(ex);
            });
        }

        return this;
    }

    /**
     * Define a manipulação do estilo do elemento por meio de uma expression language
     * 
     * @param {string} expression 
     * @returns {PiElement}
     */
    setStyleDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        this._expressionStyle = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);

        this._updateStyle();

        const variableNames = this._expressionStyle.variables;
        for (let i = 0; i < variableNames.length; i++) {
            const variableName = variableNames[i];

            this._addContextWatch(variableName, () => {
                this._updateStyle();
            });
        }

        return this;
    }

    /**
     * Define a manipulação das classes do elemento por meio de uma expression language
     * 
     * @param {string} expression
     * @returns {PiElement}
     */
    setClassDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        this._expressionClass = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);

        this._updateClass();

        const variables = this._expressionClass.variables;
        for (let i = 0; i < variables.length; i++) {
            const v = variables[i];

            this._addContextWatch(v, () => {
                this._updateClass();
            });
        }

        return this;
    }

    setForDirective(stmt) {
        const exp = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](stmt);
        const ctx = this._getContext();
        const variables = this._getDefaultVariables();
        const _stmt = exp.parse(ctx, variables);
        const forDirective = new _for_directive__WEBPACK_IMPORTED_MODULE_4__["default"](_stmt);
        const attrNodes = this._getPiAttributeNodes([':for']);

        let nodes = [];
        let refNode = document.createTextNode('');
        this._element.parentNode.insertBefore(refNode, this._element.nextSibling);

        forDirective
            .loop((ixn, index) => {
                const cpoParent = this._element.componentParent;
                this._setAttributeNodes(attrNodes);

                const clonedElement = this._element.cloneNode(true);
                const newElement = new PiElement(clonedElement, this._scope, cpoParent);
                newElement.extendForeachContext(this._foreachContext);
                newElement._autoBind = false;
                newElement.addForeachContext(ixn, index);
                newElement.load(cpoParent);

                const vtree = new _virtual_tree__WEBPACK_IMPORTED_MODULE_3__["default"](clonedElement.children, this._scope, cpoParent);
                vtree.hook('did:create:velement', (ve) => {
                    newElement._children.push(ve);
                    ve.extendForeachContext(newElement._foreachContext);
                });
                vtree.load();

                nodes.push(newElement);
            })
            .end(() => {
                for (let i = nodes.length - 1; i >= 0; i--) {
                    const newNode = nodes[i]._element;
                    refNode.parentNode.insertBefore(newNode, refNode.nextSibling);
                }
            })
            .run();

        if (exp.variables.length > 0) {
            for (let i = 0; i < exp.variables.length; i++) {
                const variableName = exp.variables[i];
                this._addContextWatch(variableName, (value) => {
                    for (let i = 0; i < nodes.length; i++) {
                        nodes[i].destroy();
                    }

                    nodes = [];
                    forDirective.run(value);
                });
            }
        }

        this._element.parentElement.dispatchEvent(new CustomEvent('fordone', {
            bubbles: true,
            cancelable: true,
            composed: false,
        }));

        this._dispose();

        return this;

    }

    /**
     * Define a diretiva foreach do elemento
     * 
     * @param {stmt} stmt - Declaração foreach
     * @returns {PiElement}
     */
    setForEachDirective(stmt) {
        const exp = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](stmt);
        const ctx = this._getContext();
        const variables = this._getDefaultVariables();
        const _stmt = exp.parse(ctx, variables);
        const foreach = new _foreach_directive__WEBPACK_IMPORTED_MODULE_5__["default"](_stmt);
        const propertyName = foreach.objectInterableName;
        const attrNodes = this._getPiAttributeNodes([':foreach']);
        let array = _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(this._scope, 'context.' + propertyName);

        if (array == undefined) {
            array = (0,_env__WEBPACK_IMPORTED_MODULE_7__.findClass)(propertyName);
        }

        if (array == undefined) {
            array = _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(this._foreachContext, propertyName);
        }

        if (array == undefined) {
            throw `ForEach: propriedade não encontrada '${propertyName}'`;
        }

        let nodes = [];
        let currentElements = [];

        var refNode = document.createTextNode('');
        this._element.parentNode.insertBefore(refNode, this._element.nextSibling);

        foreach
            .loop((arr, index, vn, ixn) => {
                const cpoParent = this._element._componentParent;
                const foreachPropertyName = vn;
                const forearchProperyValue = array[index];
                const forearchIndexName = ixn;

                this._setAttributeNodes(attrNodes);

                const clonedElement = this._element.cloneNode(true);
                const newElement = new PiElement(clonedElement, this._scope, cpoParent);
                newElement.extendForeachContext(this._foreachContext);
                newElement._autoBind = false;

                newElement.addForeachContext(foreachPropertyName, forearchProperyValue);
                if (forearchIndexName) {
                    newElement.addForeachContext(forearchIndexName, index);
                }
                newElement.load(cpoParent);

                const vtree = new _virtual_tree__WEBPACK_IMPORTED_MODULE_3__["default"](clonedElement.children, this._scope, cpoParent);
                vtree.hook('did:create:velement', (ve) => {
                    newElement._children.push(ve);
                    ve.extendForeachContext(newElement._foreachContext);
                });
                vtree.load();

                nodes.push(clonedElement);
                currentElements.push(newElement);
            })
            .end(() => {
                for (let i = 0; i < nodes.length; i++) {
                    const newNode = nodes[i];
                    refNode.parentNode.insertBefore(newNode, refNode);
                }

                nodes = [];
            }).
            run(array);

        const splice = function (array, index, deleteCount, ...items) {
            if (deleteCount > 0) {
                const length = index + deleteCount > currentElements.length ? currentElements.length : index + deleteCount;

                // destroy os elementos
                for (let i = index; i < length; i++) {
                    currentElements[i].destroy();
                }

                Array.prototype.splice.call(array, index, deleteCount);
                currentElements.splice(index, deleteCount);
            }

            if (items.length > 0) {
                Array.prototype.splice.call(array, index, 0, ...items);
                foreach.run(array, index);
            }

            return array;
        };

        if (_type__WEBPACK_IMPORTED_MODULE_8__["default"].isArray(array)) {

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'load', function (array, index = 0) {
                splice(this, index, 0, ...array);

                return this;
            });

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'add', function (item) {
                splice(this, this.length, 0, item);

                return this;
            });

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'clear', function () {
                splice(this, 0, this.length);

                return this;
            });

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'remove', function (index) {
                splice(this, index, 1);

                return this;
            });

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'reload', function () {
                for (let i = 0; i < this.length; i++) {
                    currentElements[i].destroy();
                }
                currentElements = [];

                foreach.run(this, 0);
            });
        }

        this._element.parentElement.dispatchEvent(new CustomEvent('fordone', {
            bubbles: true,
            cancelable: true,
            composed: false,
        }));

        this.destroy();

        return this;
    }

    setRenderDirective(directiva, propName, eventName, context) {
        const ctx = this._getContext();
        const variables = this._getDefaultVariables();

        const create = _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(directiva, variables, ctx);
        let fn;
        if (create.name == directiva) {
            fn = new create();
        } else if (create.call) {
            fn = create.call(context);
        } else {
            fn = create;
        }

        this._loadLoader();

        if (fn instanceof Promise) {
            fn.then((c) => {
                this.setComponent(c);
                c.render(this._element);
            });
        } else if (fn instanceof _promise__WEBPACK_IMPORTED_MODULE_10__["default"]) {
            fn.ok((c) => {
                this.setComponent(c);
                c.render(this._element);
            })
        } else {
            this.setComponent(fn);
            fn.render(this._element);
        }
    }

    _getValueFromDefaultVariables(name) {
        const { defaultNames, defaultValues } = this._getDefaultVariables();

        for (let i = 0; i < defaultNames.length; i++) {
            const vname = defaultNames[i];
            if (vname == name) {
                return defaultValues[i];
            }
        }

        return null;
    }

    _getDefaultVariables() {
        const self = this._element._component || this._element._componentParent;
        const elementValue = this._element.get ? this._element.get() : '';
        const variablesNames = ['$this', '$element', '$value'];
        const variablesValues = [self, this._element, elementValue];

        this._loadDefaultVariables();
        (0,_env__WEBPACK_IMPORTED_MODULE_7__.getClasses)().forEach(c => { variablesNames.push(c.name); variablesValues.push(c) });

        return [this._defaultVariablesNames.concat(variablesNames), this._defaultVariablesValues.concat(variablesValues)];
    }

    _addBindToElementContext(propertyName, eventName) {
        let isChangePropertyByEvent = false;

        const value = _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(this._scope, 'context.' + propertyName);
        this._element.set(value);

        this._addContextWatch(propertyName, () => {
            if (isChangePropertyByEvent) {
                return;
            }

            const value = _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(this._scope, 'context.' + propertyName);
            this._element.set(value);

            this._updateView();
        });

        if (eventName !== false) {
            this.listen(eventName, function () {
                isChangePropertyByEvent = true;
                _object__WEBPACK_IMPORTED_MODULE_0__["default"].setProperty(this._scope.context, propertyName, this.value);
                isChangePropertyByEvent = false;
            });
        } else {
            this.listen('change', function (e) {
                isChangePropertyByEvent = true;
                _object__WEBPACK_IMPORTED_MODULE_0__["default"].setProperty(this._scope.context, propertyName, e.detail);
                isChangePropertyByEvent = false;
            });
        }

        return this;
    }

    _getPiAttributeNodes(excepts = []) {
        const attrs = [];

        for (let i = 0; i < this._attrNames.length; i++) {
            const name = this._attrNames[i];
            const firstCharacter = name[0];

            if (excepts.indexOf(name) == -1 && (firstCharacter == ':' || firstCharacter == '#' || firstCharacter == '@')) {
                attrs.push(this._element.getAttributeNode(name));
            }
        }

        return attrs;
    }

    _setAttributeNodes(attrNodes = []) {
        for (let i = 0; i < attrNodes.length; i++) {
            const attrNode = attrNodes[i];
            if (attrNode == null) {
                continue;
            }
            this._element.setAttributeNode(attrNode);
        }

        return this;
    }

    setMountDirective(expression) {
        this._element.mount = (component) => {
            const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
            const ctx = this._getContext();
            const defaultVariables = this._getDefaultVariables();
            const stmt = ex.parse(ctx, defaultVariables);
            defaultVariables['$this'] = component;

            _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables('this.' + stmt, defaultVariables, ctx);
        };

        return this;
    }

    setDidMountDirective() {

    }

    setWillMountDirective() {

    }

    setForEndValueDirective(expression, propName, eventName, context) {
        if (eventName == 'value' || eventName == 'setValue') {
            this.listen(propName, function (e) {
                const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
                const ctx = this._getContext();
                const defaultVariables = this._getDefaultVariables();
                this.value = ex.parse(ctx, defaultVariables);
            });
            return;
        }
    }

    _loadDirectivesBase() {
        this.addDirective('for', this.setForDirective);
        this.addDirective('foreach', this.setForEachDirective);
        this.addDirective('loader', this.setLoaderDirective);
        this.addDirective('class', this.setClassDirective);
        this.addDirective('style', this.setStyleDirective);
        this.addDirective('init', this.setInitDirective);
        this.addDirective('bind', this.addBind);
        this.addDirective('on', this.addEventStatement);
        this.addDirective('value', this.setValueDirective);
        this.addDirective('selected', this.setSelectedDirective);
        this.addDirective('disabled', this.setDisabledDirective);
        this.addDirective('if', this.setConditionalDirective);
        this.addDirective('model', this.setModelDirective);
        this.addDirective('change', this.setChangeDirective);
        this.addDirective('src', this.setSrcDirective);
        this.addDirective('checked', this.setCheckedDirective);
        this.addDirective('mount', this.setMountDirective);
        this.addDirective('render', this.setRenderDirective);
        this.addDirective('forend', this.setForEndValueDirective);
        this.addDirective('fordone', this.setForEndValueDirective);
    }

    setLoaderDirective(directiva, propName, eventName, context) {
        const ctx = this._getContext();
        const variables = this._getDefaultVariables();

        const create = _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(directiva, variables, ctx);
        if (create.name == directiva) {
            const loader = new create();
            loader.render(this._element);
        } else if (create.call) {
            const loader = create.call(context);
            loader.render(this._element);
        } else {
            create.render(this._element);
        }

        this._hasLoader = true;
    }

    _loadLoader() {
        if (this._hasLoader == undefined) {
            const loader = _config__WEBPACK_IMPORTED_MODULE_9__["default"].get('html.loader');
            let html = loader;

            if (loader.constructor.name == 'Function') {
                html = loader();
            }

            this._element.innerHTML = html;
        }
    }

    _(context) {
        const contextPropertyNames = Object.keys(context);
        const contextPropertyValues = Object.values(context);

        for (let i = 0; i < contextPropertyValues.length; i++) {
            const value = contextPropertyValues[i];
            if (value instanceof Function) {
                contextPropertyValues[i] = value.bind(context);
            }
        }
    }

    _createExpression(value, node) {
        const exp = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](value);
        node._piex = exp;

        if (this._autoBind) {
            for (let i = 0; i < exp.variables.length; i++) {
                const variableName = exp.variables[i];
                this._addContextWatch(variableName, () => {
                    this._updateView();
                });
            }
        }
    }

    _loadTemplate() {
        if (this._destroyed) {
            return;
        }

        const nodes = this._element.childNodes;
        const xhtml = _config__WEBPACK_IMPORTED_MODULE_9__["default"].get('expression.xhtml');

        for (let i = 0; i < nodes.length; i++) {
            let node = nodes[i];
            let value = node.nodeValue;
            if (value && xhtml.test(value)) {
                const el = document.createElement('span');
                el.innerHTML = value;

                node.parentNode.insertBefore(el, node.nextSibling);

                this._element.removeChild(node);
                this._createExpression(value, el);

                i--;
                continue;
            }

            if (value && value.indexOf('{') > -1 && node instanceof Text) {
                this._createExpression(value, node);
            }
        }

        this._updateView();
    }

    _updateConditional(ex) {
        const ctx = this._getContext();
        const defaultVariables = this._getDefaultVariables();
        const value = _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(ex.parse(ctx, defaultVariables), defaultVariables, ctx);
        const nextElement = this._element.nextElementSibling;

        if (nextElement && nextElement.hasAttribute(':else')) {
            nextElement.__pielse = true;
            nextElement.removeAttribute(':else');
        }

        const hasElse = nextElement && nextElement.__pielse;

        if (value) {
            this.$.show();

            if (hasElse) {
                $(nextElement).hide();
            }
        } else {
            this.$.hide();

            if (hasElse) {
                $(nextElement).show();
            }
        }
    }

    _updateDisabled(ex) {
        const ctx = this._getContext();
        const value = ex.parse(ctx, this._getDefaultVariables());

        if (value == 'true' || value === true) {
            this._element.setAttribute('disabled', true);
        } else {
            this._element.removeAttribute('disabled');
        }
    }

    _updateView() {
        if (this._destroyed) {
            return;
        }

        const nodes = this._element.childNodes;
        for (let i = 0; i < nodes.length; i++) {
            const node = nodes[i];
            if (node._piex) {
                const text = node._piex.parse(this._getContext(), this._getDefaultVariables());
                if (node instanceof Text) {
                    node.nodeValue = text;
                } else {
                    node.innerHTML = text;
                }

            }
        }
    }

    _updateStyle() {
        if (this._destroyed) {
            return;
        }

        if (this._expressionStyle) {
            const styleInline = this._expressionStyle.parse(this._getContext(), this._getDefaultVariables());
            const styles = styleInline.split(';');

            for (let i = 0; i < styles.length; i++) {
                const style = styles[i].split(':');
                if (style.length != 2) {
                    continue;
                }

                const styleName = style[0].trim();
                const styleValue = style[1].trim();

                this.$.css(styleName, styleValue);
            }
        }
    }

    _updateClass() {
        if (this._destroyed) {
            return;
        }

        if (this._expressionClass) {
            const classList = this._expressionClass.parse(this._getContext(), this._getDefaultVariables()).trim();
            if (classList == this._element.className) {
                return
            }

            this._element.className = '';
            if (classList.length > 0) {
                this._element.classList.add(...classList.split(' ').filter(e => e !== ''));
            }
        }
    }

    _orderAttributeNames(){
        let i = this._attrNames.indexOf('foreach');
        if (i > -1) {
            this._attrNames.splice(i, 1);
            this._attrNames.unshift('foreach');
        }

        i = this._attrNames.indexOf('for');
        if (i > -1) {
            this._attrNames.splice(i, 1);
            this._attrNames.unshift('for');
        }
    }

    _runDirectives(wrapper) {
        if (this._destroyed) {
            return;
        }

        for (let i = 0; i < this._attrNames.length; i++) {
            const attrName = this._attrNames[i];
            const attrValue = this._element.getAttribute(attrName);
            const { propName, eventName } = this._extractPiAttributeNameAndProperty(attrName);

            if (this.existDirective(propName)) {
                this._element.removeAttribute(attrName);
                this._directives[propName].call(this, attrValue, propName, eventName, wrapper);
                continue;
            }

            if (propName == 'foreach') {
                return;
            }

            if (propName == 'for') {
                return;
            }

            if (attrName.indexOf('#') == 0) {
                const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](attrValue);
                const value = ex.parse(this._getContext(), this._getDefaultVariables());
                if (value) {
                    this._element.setAttribute(attrName.substr(1), value);
                }

                this._element.removeAttribute(attrName);
                continue;
            }

            if (attrName.indexOf(':') == 0) {
                const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](attrValue);
                const ctx = this._getContext();
                const variables = ex.variables;
                let value = ex.parse(ctx, this._getDefaultVariables());

                if (value) {
                    this._element.setAttribute(attrName.substr(1), value);
                }

                this._element.removeAttribute(attrName);

                if (variables.length > 0) {
                    for (let i = 0; i < variables.length; i++) {
                        const variable = variables[i];
                        this._addContextWatch(variable, () => {
                            value = ex.parse(ctx, this._getDefaultVariables());

                            this._element.setAttribute(attrName.substr(1), value);
                        });
                    }
                }

                continue;
            }
        }
    }

    _extractPiAttributeNameAndProperty(attribute) {
        let propName = '';
        let eventName = false;

        if (attribute.indexOf('@') > -1) {
            propName = 'on';
            eventName = attribute.replace('@', '');

            const nameAndEvent = eventName.split(':');
            if (nameAndEvent.length > 1) {
                propName = nameAndEvent[0];
                eventName = nameAndEvent[1];
            }
        } else if (attribute.indexOf(':') > -1) {
            propName = attribute.replace(':', '');

            const nameAndEvent = propName.split('.');
            if (nameAndEvent.length > 1) {
                propName = nameAndEvent[0];
                eventName = nameAndEvent[1];
            }
        }

        return { propName, eventName };
    }

    _getContext() {
        return this._scope.context;
    }

    _clearContextWatch() {
        let ids = [];

        for (let i = 0; i < this._watchs.length; i++) {
            ids = ids.concat(this._watchs[i].ids);
        }

        _object__WEBPACK_IMPORTED_MODULE_0__["default"].off(this._scope, ids);
        this._watchs = [];
    }

    _addContextWatch(property, fn) {
        const ids = _object__WEBPACK_IMPORTED_MODULE_0__["default"].on(this._scope, 'context.' + property, fn)
        this._watchs = this._watchs.concat({
            property: property,
            ids: ids
        });

        return this;
    }

    _removeContextWatch(propertyName) {
        const arr = this._watchs;

        for (let i = 0; i < arr.length; i++) {
            if (arr[i].property == propertyName) {
                _object__WEBPACK_IMPORTED_MODULE_0__["default"].off(this._scope, arr[i].ids);
                break;
            }
        }

        return this;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/env.js":
/*!************************************!*\
  !*** ./node_modules/pyllar/env.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ $),
/* harmony export */   app: () => (/* binding */ app),
/* harmony export */   findClass: () => (/* binding */ findClass),
/* harmony export */   getClasses: () => (/* binding */ getClasses),
/* harmony export */   global: () => (/* binding */ global),
/* harmony export */   location: () => (/* binding */ location),
/* harmony export */   register: () => (/* binding */ register),
/* harmony export */   setLocation: () => (/* binding */ setLocation)
/* harmony export */ });
/***
 * Copyright Manoel Neco 2022, Todos os direitos reservados
 *
 * @autor: Manoel Neco
 * @create: 2012-present
 * @version: v11.2.6-beta
 */

const global = window;
const components = [];

function registerObject(name, obj) {
    obj.name = name;
    components.push(obj);
}

function register(name, obj) {
    if (name != null && name.constructor.name == 'String' && obj != null) {
        registerObject(name, obj);
        return;
    }

    for (let i = 0; i < arguments.length; i++) {
        let obj = arguments[i];
        const cName = obj.constructor.name;

        if (findClass(obj) == undefined) {
            if (cName == 'Function' || cName == 'Object') {
                obj = Object.freeze(obj);
            }

            components.push(obj);
        }
    }
}

function getClasses() {
    return components;
}

function findClass(cName) {
    return components.find(c => c.name == cName || (c.constructor && c.constructor.name == cName));
}

function app() {
    return global.app;
}

function location() {
    return global.location;
}

function setLocation(url) {
    global.location = url;
}

function $() {
    return global.$
}



/***/ }),

/***/ "./node_modules/pyllar/event.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/event.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiEvent)
/* harmony export */ });
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./random */ "./node_modules/pyllar/random.js");


/**
 * @class
 */
class PiEvent {
    #list = [];

    /**
     * Adiciona um evento para ser observado
     * 
     * @param {string} event - Nome do evento
     * @param {function} callback - Callback
     * @param {object} ctx - Contexto do callback
     * @param {boolean} once - Se o callback deverá ser chamado apenas uma vez
     * @returns {PiEvent}
     */
    listen(event, callback, ctx, once = false) {
        const uuid = _random__WEBPACK_IMPORTED_MODULE_0__["default"].uuid('xxx-xx');
        callback.id = uuid;

        this.#list.push({ uuid: uuid, event: event, cb: callback, ctx: ctx, once: once });

        return uuid;
    }

    /**
     * Deixa de observar um evento
     * 
     * @param {string} event - Nome do evento
     * @param {function} cb - Callback
     * @returns {PiEvent}
     */
    unlisten(event, cb = '*') {
        for (let i = this.#list.length - 1; i >= 0; i--) {
            let item = this.#list[i];
            if (item.event == event) {
                if (cb === item.uuid) {
                    this.#list.splice(i, 1);
                    break;
                }

                if (cb == '*' || cb.id == item.cb.id) {
                    this.#list.splice(i, 1);
                    i--;
                }
            }
        }

        return this;
    }

    /**
     * Adiciona um evento para ser observado apenas uma vez
     * 
     * @param {string} event - Nome do evento
     * @param {function} callback - Callback
     * @param {object} ctx - Contexto do callback
     * @returns {PiEvent}
     */
    once(event, callback, ctx) {
        return this.listen(event, callback, ctx, true);
    }

    /**
     * Dispara os callback associados ao evento
     * 
     * @param {string} event - Nome do evento
     * @param  {...any} args - Parametros enviados ao callback do evento
     * @returns {PiEvent}
     */
    trigger(event, ...args) {
        let eventsOnce = [];

        for (let i = 0; i < this.#list.length; i++) {
            if (this.#list[i].event == event) {
                let item = this.#list[i];
                item.cb.apply(item.ctx, args);

                if (item.once) {
                    eventsOnce.push(item);
                }
            }
        }

        for (let i = eventsOnce.length - 1; i >= 0; i--) {
            this.unlisten(eventsOnce[i].event, eventsOnce[i].cb);
        }

        return this;
    }

    /**
     * Verifica se foi adicionado um evento
     * 
     * @param {string} event - Nome do evento
     * @returns {boolean}
     */
    exist(event) {
        for (let i = this.#list.length - 1; i >= 0; i--) {
            if (this.#list[i].event == event) return true;
        }

        return false;
    }

    reseed(name, event) {
        if (name instanceof PiEvent) {
            this._reseedAll(event);
            return this;
        }

        this.listen(name, function() {
            event.trigger.call(event, name, ...arguments);
        });

        return this;
    };

    _reseedAll(event){
        for (let i = this.#list.length - 1; i >= 0; i--) {
            const eventName = this.#list[i].event;
            this.reseed(eventName, event);
        }
    }

    /**
     * Remove todos os eventos
     * 
     * @returns {PiEvent}
     */
    clear() {
        this.#list = [];

        return this;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/expression.js":
/*!*******************************************!*\
  !*** ./node_modules/pyllar/expression.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiExpression)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _statement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./statement */ "./node_modules/pyllar/statement.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helpers */ "./node_modules/pyllar/helpers.js");






const hps = _helpers__WEBPACK_IMPORTED_MODULE_4__.helpers;

/**
 * @class
 */
class PiExpression {

    /**
     * 
     * @param {string} template - Template base
     */
    constructor(template) {
        this._template = template;

        this._rxExpression = _config__WEBPACK_IMPORTED_MODULE_0__["default"].get('expression.xlanguage');
        this._rxVariable = _config__WEBPACK_IMPORTED_MODULE_0__["default"].get('expression.xvariable');

        this._load();
    }

    setDelimiters(pattern){
        this._rxExpression = pattern;

        return this;
    }

    /**
     * Retorna todas as expressões encontradas no template base
     * 
     * @returns {array}
     */
    get all() {
        const expressions = [];

        for (let i = 0; i < this._expressions.length; i++) {
            expressions.push(this._clear(this._expressions[i].value));
        }

        return expressions;
    }

    /**
     * Retorna todas as variáveis encontradas dentro das expressões
     * 
     * @returns {array}
     */
    get variables() {
        if (this._variables == undefined) {
            this._variables = this._extractAllVariables();
        }

        return this._variables;
    }

    /**
     * Retorna resultado do template parseado com o contexto informado
     * 
     * @param {object} context 
     * @returns {string}
     */
    parse(context, variables = [[], []]) {
        let expressions = this._expressions;
        let phrase = this._phrase;

        const contextPropertyNames = Object.keys(context);
        const contextPropertyValues = Object.values(context);

        for (let i = 0; i < contextPropertyValues.length; i++) {
            const value = contextPropertyValues[i];
            if (value instanceof Function) {
                contextPropertyValues[i] = value.bind(context);
            }
        }

        variables[0] = contextPropertyNames.concat(variables[0]);
        variables[1] = contextPropertyValues.concat(variables[1]);

        for (let i = 0; i < hps.all.length; i++) {
            const hook = hps.all[i];

            variables[0].push(hook[0]);
            variables[1].push(hook[1]);
        }

        for (let i = 0; i < expressions.length; i++) {
            const expression = expressions[i];
            const stmt = this._clear(expression.value);

            let value = _statement__WEBPACK_IMPORTED_MODULE_1__["default"].execWithVariables(stmt, variables, context);

            if (_type__WEBPACK_IMPORTED_MODULE_2__["default"].isNumber(value) && value == 0) {
                value = '0';
            } else if (_type__WEBPACK_IMPORTED_MODULE_2__["default"].isObject(value)) {
                value = JSON.stringify(value);
            }

            phrase = phrase.replace(expression.key, _type__WEBPACK_IMPORTED_MODULE_2__["default"].isBoolean(value) ? value : value || '');
        }

        return phrase;
    }

    _load() {
        var { phrase, expressions } = this._extractPhraseAndExpressions();
        this._phrase = phrase;
        this._expressions = expressions;
    }

    _clear(expression) {
        expression = expression.replace(this._rxExpression, function (_, dbegin, body, dend) {
            return body;
        });

        expression = expression.replace(this._rxVariable, function (_, dbegin, body, dend) {
            return body;
        });

        return expression.trim();
    }

    _extractPhraseAndExpressions() {
        var expressions = [];
        var counter = 1;
        var phrase = this._template.replace(this._rxExpression, function (expressionFounded) {
            const variable = `_$${counter++}_`;

            expressions.push({
                value: expressionFounded,
                key: variable
            });

            return variable;
        });

        return { phrase, expressions };
    }

    _extractAllVariables() {
        var variables = this._template.match(this._rxVariable) || [];

        for (let i = 0; i < variables.length; i++) {
            const v = variables[i];
            variables[i] = v.substr(1);
        }

        return variables;
    }

    _extractVariables(expression) {
        var variables = expression.match(this._rxVariable) || [];

        for (let i = 0; i < variables.length; i++) {
            const v = variables[i];
            variables[i] = v.substr(1);
        }

        return variables;
    }

    _extractVariablesValues(variableNames, context) {
        const variables = [];

        for (let i = 0; i < variableNames.length; i++) {
            const name = variableNames[i];

            variables.push(_object__WEBPACK_IMPORTED_MODULE_3__["default"].extractValue(context, name));
        }

        return variables;
    }

}

/***/ }),

/***/ "./node_modules/pyllar/for_directive.js":
/*!**********************************************!*\
  !*** ./node_modules/pyllar/for_directive.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiForDirective)
/* harmony export */ });
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");


const stmtRange1 = /^(\w+)\s+in\s+range\(\s*(-?\d+)\s*\)$/gi;
const stmtRange2 = /^(\w+)\s+in\s+range\(\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/gi;
const stmtRange3 = /^(\w+)\s+in\s+range\(\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/gi;
const stmtLiteral = /^(\w+)\s+in\s+([0-9]+)$/gi;
const stmtProperty = /^(\w+)\s+in\s+(\w+)$/gi;

class PiForDirective {
    constructor(stmt) {
        this._stmt = stmt;

        this._iterableCount = null;
        this._iterableProperty = null;
        this._iterableStart = 0;
        this._iterableStep = 1;
        this._indexName = null;
        this._loop = null;
        this._end = null;

        this._load();
    }

    get objectInterableName() {
        return this._iterableProperty;
    }

    loop(fn) {
        this._loop = fn;

        return this;
    }

    end(fn) {
        this._end = fn;

        return this;
    }

    run(count = null) {
        let length = 0;

        if (count != null) {
            length = count;
        } else if (this._iterableCount) {
            length = this._iterableCount;
        }

        if (this._iterableStep < 0) {
            for (let i = this._iterableCount - this._iterableStart; i >= 0; i += this._iterableStep) {
                this._loop(this._indexName, i);
            }
        } else {
            for (let i = this._iterableStart; i < length; i += this._iterableStep) {
                this._loop(this._indexName, i);
            }
        }

        this._end();

        return this;
    }

    _loadNumber(n) {
        const number = parseInt(n);
        const isNumber = _type__WEBPACK_IMPORTED_MODULE_0__["default"].isNumber(number);

        if (isNumber) {
            this._iterableCount = number;
            this._iterableProperty = null;
        } else {
            this._iterableCount = null;
            this._iterableProperty = n;
        }
    }

    _load() {
        if (stmtRange1.test(this._stmt)) {
            this._loadForRange1();
        } else if (stmtRange2.test(this._stmt)) {
            this._loadForRange2();
        } else if (stmtRange3.test(this._stmt)) {
            this._loadForRange3();
        } else if (stmtLiteral.test(this._stmt)) {
            this._loadForLiteral();
        } else if (stmtProperty.test(this._stmt)) {
            this._loadForProperty();
        } else {
            throw `PiForDirective: Statement inválida para laço for = ${this._stmt}. Padrão esperado: (variável in literal) ou (variável in range(total[, inicio[, passo]]))`;
        }
    }

    _loadForRange1() {
        this._stmt.replace(stmtRange1, (stmt, indexName, propertyName) => {
            this._loadNumber(propertyName);
            this._indexName = indexName;

            return stmt;
        });
    }

    _loadForRange2() {
        this._stmt.replace(stmtRange2, (stmt, indexName, propertyName, start) => {
            this._loadNumber(propertyName);
            this._indexName = indexName;
            this._iterableStart = parseInt(start);

            return stmt;
        });
    }

    _loadForRange3() {
        this._stmt.replace(stmtRange3, (stmt, indexName, propertyName, start, step) => {
            this._loadNumber(propertyName);
            this._indexName = indexName;
            this._iterableStart = parseInt(start);
            this._iterableStep = parseInt(step);

            return stmt;
        });
    }

    _loadForProperty() {
        this._stmt.replace(stmtProperty, (stmt, indexName, propertyName) => {
            this._loadNumber(propertyName);
            this._indexName = indexName;

            return stmt;
        });
    }

    _loadForLiteral() {
        this._stmt.replace(stmtLiteral, (stmt, indexName, propertyName) => {
            this._iterableCount = parseInt(propertyName);
            this._indexName = indexName;

            return stmt;
        });
    }
};

/***/ }),

/***/ "./node_modules/pyllar/foreach_directive.js":
/*!**************************************************!*\
  !*** ./node_modules/pyllar/foreach_directive.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiForEachDirective)
/* harmony export */ });
/* harmony import */ var _function__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./function */ "./node_modules/pyllar/function.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");



const stmtForearchWithIndex = /^\((\w+)\s*,\s*(\w+)\)\s+in\s+(\w+(\.\w+)*)$/gi;

class PiForEachDirective {
    constructor(stmt, context = {}, fn = _function__WEBPACK_IMPORTED_MODULE_0__["default"].noop) {
        this._stmt = stmt;
        this._context = context;
        this._fn = fn;
        this._end = _function__WEBPACK_IMPORTED_MODULE_0__["default"].noop;

        this._load();
    }

    get variableInterableName() {
        return this._variableInterableName;
    }

    get objectInterableName() {
        return this._objectInterableName;
    }

    loop(fn) {
        this._fn = fn;

        return this;
    }

    run(array = null, indexBegin = 0, indexEnd = -1, step = 1) {
        const objectInterable = array || _object__WEBPACK_IMPORTED_MODULE_1__["default"].extractValue(this._context, this._objectInterableName);

        if (objectInterable.constructor.name == 'Function' || objectInterable.constructor.name == 'Object') {
            const foreachFn = new Function('_this', 'obj', 'vn', 'ixn', 'fn', `for(const i in obj){fn(obj, i, vn, ixn);}`);
            foreachFn(this, objectInterable, this._variableInterableName, this._variableIndexName, this._fn)
            this._end();
            return this;
        }
        
        const foreachFn = new Function('_this', 'arr', 'indexBegin', 'indexEnd', 'step', 'vn', 'ixn', 'fn', `for(var i = indexBegin ; i < indexEnd ; i += step){fn(arr, i, vn, ixn);}`);
        if (indexEnd == -1) {
            indexEnd = objectInterable.length;
        }

        foreachFn(this, objectInterable, indexBegin, indexEnd, step, this._variableInterableName, this._variableIndexName, this._fn)
        this._end();

        return this;
    }

    end(fn) {
        this._end = fn;

        return this;
    }

    _load() {
        if (stmtForearchWithIndex.test(this._stmt)) {
            this._loadForeachIndexAndProperties();
        } else {
            this._loadForeachProperties();
        }

    }

    _loadForeachIndexAndProperties() {
        this._stmt.replace(stmtForearchWithIndex, (stmt, indexName, propertyName, interableName) => {
            this._variableInterableName = propertyName;
            this._objectInterableName = interableName;
            this._variableIndexName = indexName;

            return stmt;
        });
    }

    _loadForeachProperties() {
        const stmt = this._stmt;
        const tokens = stmt.trim().split(' ');

        if (tokens.length != 3) {
            throw `PiForEachDirective: Statement inválida para laço foreach = ${stmt}. Padrão esperado: [variável in iterável] ou [(index, variável) in iterável]`;
        }

        this._variableIndexName = null;
        this._variableInterableName = tokens[0];
        this._objectInterableName = tokens[2];
    }
};

/***/ }),

/***/ "./node_modules/pyllar/function.js":
/*!*****************************************!*\
  !*** ./node_modules/pyllar/function.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiFunction)
/* harmony export */ });
/**
 * @class
 */
class PiFunction {
    /**
     * Função vazia
     */
    static noop() { }
};

/***/ }),

/***/ "./node_modules/pyllar/helpers.js":
/*!****************************************!*\
  !*** ./node_modules/pyllar/helpers.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   debounce: () => (/* binding */ debounce),
/* harmony export */   helpers: () => (/* binding */ helpers),
/* harmony export */   timeout: () => (/* binding */ timeout),
/* harmony export */   timeoutSec: () => (/* binding */ timeoutSec)
/* harmony export */ });
/* harmony import */ var _translate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./translate */ "./node_modules/pyllar/translate.js");


function timeout(time, fn, ctx) {
    setTimeout(() => {
        fn.call(ctx);
    }, time);
}

function timeoutSec(time, fn, ctx) {
    timeout(time * 1000, fn, ctx);
}

function debounce(time) {
    return function (fn, ctx) {
        timeout(time, fn, ctx);
    }
}

const helpers = {
    _all: [],

    register(name, fn) {
        this._all.push([name, fn]);
    },

    get all() {
        return this._all;
    }
};

helpers.register('_', function () {
    return _translate__WEBPACK_IMPORTED_MODULE_0__["default"].get.apply(_translate__WEBPACK_IMPORTED_MODULE_0__["default"], arguments);
});



/***/ }),

/***/ "./node_modules/pyllar/initialize.js":
/*!*******************************************!*\
  !*** ./node_modules/pyllar/initialize.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");


/**
 * @class
 */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new class PiInitialize {
    #readyFn = [];
    #bootFn = [];
    #bootInit = [];
    #bootStart = [];
    #isLoaded = false;

    /**
     * 
     * @param {function} fn - Função que será executada no inicio do boot
     * 
     * @returns {PiInitialize}
     */
    boot(fn) {
        this.#bootFn.unshift(fn);

        return this;
    }

    /**
     * Função executada apos o boot
     * 
     * @param {function} fn - Callback
     * @returns {PiInitialize}
     */
    init(fn) {
        this.#bootInit.unshift(fn);

        return this;
    }

    /**
     * Função executada após a inicialização
     * @param {function} fn - Callback
     * @returns {PiInitialize}
     */
    start(fn) {
        this.#bootStart.unshift(fn);

        return this;
    }

    /**
     * Executa a sequencia de incialização: boot -> callback -> ready
     * 
     * @returns {Promise}
     */
    load() {
        return new Promise((ok) => {
            _env__WEBPACK_IMPORTED_MODULE_0__.global.$(() => {
                this.#dispatch(this.#bootFn);
                this.#dispatch(this.#bootInit);
                this.#dispatch(this.#bootStart);
                this.#dispatch(this.#readyFn);

                this.#isLoaded = true;
                console.log(';)')
                ok();
            });
        });
    }

    /**
     * Função executada após todo processo de inicialização
     * 
     * @param {function} fn - Função que será executada depois que o sistema estiver inicializado
     * @returns {Promise}
     */
    ready() {
        return new Promise((ok, err) => {
            if (this.#isLoaded) {
                ok();
                return;
            }

            this.#readyFn.unshift(ok);
        });
    }

    #dispatch(arr) {
        for (let i = 0; i < arr.length; i++) {
            arr[i]();
        }
    }
});

/***/ }),

/***/ "./node_modules/pyllar/model.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/model.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiModel)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action */ "./node_modules/pyllar/action.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./component */ "./node_modules/pyllar/component.js");
/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./string */ "./node_modules/pyllar/string.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./url */ "./node_modules/pyllar/url.js");
/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app */ "./node_modules/pyllar/app.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");











/**
 * @class
 */
class PiModel {
    #parameters = null;
    #actionList = [];
    #validatorList = [];
    #baseUrl = '';

    constructor(...args) {
        this.#actionList = [];
        this.#validatorList = [];
        this.#baseUrl = '';

        if (_type__WEBPACK_IMPORTED_MODULE_9__["default"].isObject(args[0])) {
            _object__WEBPACK_IMPORTED_MODULE_3__["default"].extendAndCall(this, args[0]);
        }

        this.#parameters = args[0] == undefined ? {} : args[0];

        this.init(...args);
    }

    getBaseUrl() {
        return this.#baseUrl;
    }

    /**
     * Injeta as propriedades do objeto
     * 
     * @param {json} json - Objeto a ser injetado no objeto atual
     * @returns {this}
     */
    _inject(json) {
        for (var property in json) {
            this[property] = json[property];
        }

        return this;
    }

    /**
     * Clona o objeto atual
     * 
     * @returns {this}
     */
    clone() {
        this.cloneWillLoad();
        let json = this.toJson();
        let clone = new this.constructor(json);
        this.cloneDidLoad(clone);

        return clone;
    }

    cloneDidLoad() {

    }

    cloneWillLoad() {

    }

    /**
     * Cria uma nova instancia da classe
     * 
     * @param  {...any} args 
     * @returns {this}
     */
    static create(...args) {
        return new this(...args);
    }

    create(...args) {
        return new this.constructor(...args);
    }

    toJson() {
        this.jsonWillConvert();
        let json = JSON.parse(JSON.stringify(this));
        this.jsonDidConvert(json);

        return json;
    }

    jsonDidConvert(json) {

    }

    jsonWillConvert() {

    }

    instances() {

    }

    /**
     * Initializa as rotas
     * 
     * @param {string} url - Url base utilizada pelas actions para as requests
     */
    init(url) {
        this._loadActions();
        this._loadValidations();

        this._configUrl(url || this.#parameters.url || '');
    }

    /**
     * Injeta o json dentro da model
     * 
     * @param {object} json - Json a ser injetado no modelo
     * @returns {PiModel}
     */
    initWithJson(json) {
        this._inject(json);

        return this;
    }

    /**
     * Adiciona uma action
     * 
     * @param {string} name - Nome da rota
     * @param {string} stmt - Rota no formato: METHOD:/route?querystring
     * @returns {PiModel}
     */
    addAction(name, stmt) {
        const action = new _action__WEBPACK_IMPORTED_MODULE_2__["default"]({
            actionName: name,
            actionStmt: stmt,
            model: this
        });

        this.#actionList[name] = action;

        return this;
    }

    /**
     * Adiciona uma regra de validação para uma propriedade da model
     * 
     * @param {string} name - Propriedade da model
     * @param {PiValidator} rule - Classe que implementa a regra de validação
     * @returns {PiModel}
     */
    addValidator(name, rule) {
        this.#validatorList[name] = rule;

        return this;
    }

    /**
     * Retorna um objeto literal contendo todas as regras de validação
     * 
     * @returns {object}
     */
    validators() {
        return {};
    }

    /**
     * Retorna um objeto literal contendo todas as actions
     * 
     * @returns {object}
     */
    actions() {
        return {};
    }

    /**
     * Define um valor para uma propriedade.
     * Este método dispara a execução da validação 
     * de propriedade antes de inserir o valor
     * 
     * @param {string} key - Nome da propriedade
     * @param {object} value - Valor da propriedade
     * @returns {PiModel}
     */
    setProperty(key, value, type) {
        const names = key.split('.');
        let isComposed = names.length > 1,
            rule = this.#validatorList[key];

        switch (type) {
            case 'int':
                value = parseInt(value);
                if(isNaN(value)) {
                    value = 0;
                }
                break;
        }
        
        if (isComposed) {
            let last = names[names.length - 1],
                property = _object__WEBPACK_IMPORTED_MODULE_3__["default"].extractPropertyContext(this, key);

            if (property instanceof PiModel) {
                property.setProperty(last, value);
            } else {
                if (property[last] instanceof Function) {
                    property[last](value);
                } else {
                    property[last] = value;
                }
            }

        } else {
            if (rule == undefined) {
                if (this[key] instanceof Function) {
                    this[key](value);
                } else {
                    this[key] = value;
                }
            } else {
                rule.load(this, key, value);

                if (rule.isValid()) {
                    this[key] = value;
                } else {
                    throw rule.label;
                }
            }
        }

        return this;
    }

    /**
     * Insere a model caso id seja zero ou atualiza a model 
     * caso o valor do id seja maior que zero
     * 
     * @returns {PiPromise}
     */
    save() {
        if (this.id == undefined) return this.insert()
        else if (this.id == 0) return this.insert();
        else return this.update();
    }

    /**
     * Retorna uma action pelo nome
     * 
     * @param {string} name - Nome da action
     * @returns {PiAction}
     */
    getAction(name) {
        return this.#actionList[name];
    }

    /**
     * Tentar injetar os data-models do component na model caso o parametro seja um PiComponent.
     * Retorna em um array string com todos os erros encontrados.
     * Se o parametro for um json ele ira injetar as propriedades na model.
     * 
     * @param {PiComponent} component
     * @param {object} options 
     * @returns {array}
     */
    inject(component, options = {}) {
        if (component instanceof _component__WEBPACK_IMPORTED_MODULE_4__["default"] || component instanceof _app__WEBPACK_IMPORTED_MODULE_8__["default"]) {
            let names = _string__WEBPACK_IMPORTED_MODULE_5__["default"].clips(component.element.innerHTML, 'data-model="', '"'),
                isComponent = false,
                errors = [];

            options = _object__WEBPACK_IMPORTED_MODULE_3__["default"].extend({}, {
                invalidInputClass: 'invalid-feedback'
            }, options);

            for (let i = 0; i < names.length; i++) {
                let property = names[i],
                    element = component.element.querySelector('[data-model="' + property + '"]'),
                    value = undefined,
                    parent = element.parentNode;

                if (element.firstChild && element.firstChild._hasComponent) {
                    value = element.firstChild._component.get();
                    isComponent = true;
                } else if (element._hasComponent) {
                    value = element._component.get();
                    isComponent = true;
                } else {
                    isComponent = false;
                    value = element.get();
                }

                var nextElement = element.nextElementSibling;
                var elementMessage = null;
                if (nextElement && nextElement.hasAttribute('validation-message')) {
                    elementMessage = nextElement;
                } else {
                    elementMessage = document.createElement('div');
                    elementMessage.setAttribute('validation-message', '');
                    parent.insertBefore(elementMessage, element.nextSibling);
                }

                if (element.setCustomValidity) {
                    element.setCustomValidity('');
                }

                elementMessage.style.display = 'none';
                elementMessage.innerHTML = '';
                elementMessage.classList.remove(options.invalidInputClass);
                parent.classList.remove('was-validated');

                try {
                    this.setProperty(property, value, element.getAttribute('data-type'));
                } catch (msg) {
                    elementMessage.innerHTML = msg;
                    elementMessage.classList.add(options.invalidInputClass);
                    elementMessage.style.display = 'block';

                    if (element.setCustomValidity) {
                        element.setCustomValidity(msg);
                    }

                    if (!isComponent) {
                        parent.classList.add('was-validated');
                    }

                    errors.push(msg);
                }
            }

            return errors;
        } else {
            if (component instanceof PiModel) {
                this._inject(component.toJson());
            } else {
                this._inject(component);
            }
        }

        return [];
    }

    requestWillGet(json) {

    }

    jsonDidConvert(json) {

    }

    requestDidGet(json) {

    }

    requestWillPost(json) {

    }

    requestDidPost(json) {

    }

    responseSuccessWillLoad(action, url, data) {
        this.responseSuccess.apply(this, arguments);
    }

    responseSuccess(action, url, ...args) {
        action.processSuccessResponse.apply(action, args);
        this.responseSuccessDidLoad.apply(this, arguments);
    }

    responseSuccessDidLoad() {

    }

    responseErrorWillLoad(action, url, data) {
        this.responseError.apply(this, arguments);
    }

    responseError(action, url, ...args) {
        action.processErrorResponse.apply(action, args);
        this.responseErrorDidLoad.apply(this, arguments);
    }

    responseErrorDidLoad() {

    }

    _loadActions() {
        const userActions = this.actions();
        const defaultActions = {
            'add': 'POST:/',
            'insert': 'POST:/',
            'update': 'PUT:/:id',
            'remove': 'REMOVE:/:id',
            'get': 'GET:/:id',
            'find': 'GET:/find/:id',
            'all': 'GET:/'
        };
        const actions = _object__WEBPACK_IMPORTED_MODULE_3__["default"].extend({}, defaultActions, userActions);

        for (let name in actions) {
            this.addAction(name, actions[name]);
        }
    }

    _configUrl(url) {
        const modelUrl = _config__WEBPACK_IMPORTED_MODULE_6__["default"].get('model.url');

        if (modelUrl == undefined) {
            this.setBaseUrl(url);
        } else {
            this.setBaseUrl(modelUrl + url);
        }
    }

    setBaseUrl(url) {
        if (url == undefined) {
            this.#baseUrl = _url__WEBPACK_IMPORTED_MODULE_7__["default"].create('localhost').href();
        } else {
            this.#baseUrl = url;
        }

        return this;
    }

    _loadValidations() {
        const validators = this.validators();
        for (var v in validators) {
            this.addValidator(v, validators[v]);
        }
    }

    static register(model) {
        (0,_env__WEBPACK_IMPORTED_MODULE_0__.register)(model)
    }
};

/***/ }),

/***/ "./node_modules/pyllar/native_element.js":
/*!***********************************************!*\
  !*** ./node_modules/pyllar/native_element.js ***!
  \***********************************************/
/***/ (() => {

HTMLElement.prototype.get = function () {
    if (this instanceof HTMLImageElement) {
        return this.getAttribute('src');
    }

    if (this instanceof HTMLLinkElement) {
        return this.getAttribute('href');
    }

    if (this instanceof HTMLInputElement && this.type == 'checkbox') {
        return this.checked;
    }

    if (this instanceof HTMLInputElement && this.type == 'radio') {
        return this.checked;
    }

    return this.value;
};

HTMLPreElement.prototype.get = function () {
    return this.innerHTML;
};

HTMLPreElement.prototype.set = function (v) {
    this.innerHTML = v;
};

HTMLElement.prototype.set = function (v) {
    if (this instanceof HTMLImageElement) {
        this.setAttribute('src', v);
        return;
    }

    if (this instanceof HTMLLinkElement) {
        this.setAttribute('href', v);
        return;
    }

    if (this instanceof HTMLInputElement && this.type == 'checkbox') {
        this.checked = v;
        return;
    }

    if (this instanceof HTMLInputElement && this.type == 'radio') {
        this.checked = v;
        return;
    }

    this.value = v;
};

/***/ }),

/***/ "./node_modules/pyllar/object.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/object.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiObject)
/* harmony export */ });
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./random */ "./node_modules/pyllar/random.js");
/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./string */ "./node_modules/pyllar/string.js");



/**
 * @class
 * @name PiObject
 */
class PiObject {

    /**
     * Adiciona e chama todas as propriedades com nome de função dos argumentos no primeiro parametro
     * 
     * @returns {object}
     */
    static extendAndCall = function () {
        let dst = arguments[0];

        for (let i = arguments.length - 1; i > 0; i--) {
            let obj = arguments[i];

            for (let p in obj) {
                if (typeof dst[p] == 'function') {
                    dst[p](obj[p]);
                } else {
                    dst[p] = obj[p];
                }
            }
        }

        return dst;
    }

    /**
     * Extrai o contexto onde propriedade existe
     * 
     * @param {object} obj - objeto
     * @param {string} property - path da propriedade
     * @returns {object}
     */
    static extractPropertyContext = function (obj, property) {
        let p = property.split('.');

        if (p.length > 1) {
            for (let i = 0; i < p.length - 1; i++) {
                let m = p[i];
                if (obj[m] == undefined) obj[m] = {};
                obj = obj[m];
            }
        }

        return obj;
    }

    /**
     * Chama uma função de callback sempre que a propriedade do objeto for alterada
     * 
     * @param {object} obj - Objeto base
     * @param {string} property - Nome da propriedade a ser monitorada
     * @param {function} callback - Callback executado sempre a a propriedade é alterada
     * @param {boolean} [deep = true] deep - Define se as propriedades acima tambem serão observadas
     */
    static on = function (obj, property, callback, deep = true) {
        let currentValue = PiObject.extractValue(obj, property);
        let path = property.split('.');

        if (obj.__onSetList == undefined) {
            obj.__onSetList = [];
            obj.__onSetFn = [];
        }

        if (obj.__onSetFn[property] == undefined) {
            obj.__onSetFn[property] = [];
        }

        const exist = obj.__onSetList.find(p => p == property) !== undefined;
        if (!exist) {
            const _obj = PiObject.extractPropertyContext(obj, property);
            const _property = _string__WEBPACK_IMPORTED_MODULE_1__["default"].last(property, '.');

            if (!(_property == 'length' && PiType.isArray(_obj))) {
                Object.defineProperty(_obj, _property, {
                    set: function (value) {
                        currentValue = value;

                        const arrFn = obj.__onSetFn[property];
                        for (let i = 0; i < arrFn.length; i++) {
                            arrFn[i].cb(value, property);
                        }

                        return value;
                    },

                    get: function () {
                        return currentValue;
                    }
                });

                obj.__onSetList.push(property);
            }
        }

        const id = _random__WEBPACK_IMPORTED_MODULE_0__["default"].uuid('xxx-xxx');
        let ids = [id];
        obj.__onSetFn[property].push({
            id: id,
            cb: callback
        });

        if (deep && path.length > 1) {
            path.pop();
            const _ids = PiObject.on(obj, path.join('.'), callback);
            ids = ids.concat(_ids);
        }

        return ids;
    }

    static off = function (obj, ids) {
        if (obj.__onSetFn == undefined) {
            return;
        }

        for (const property in obj.__onSetFn) {
            const arr = obj.__onSetFn[property];
            for (let i = 0; i < arr.length; i++) {
                const item = arr[i];
                if (ids.find(e => e == item.id)) {
                    i--;
                    arr.splice(i, 1);
                }
            }
        }
    }

    /**
     * Extrai o valor de uma propriedade
     * 
     * @param {object} obj - objeto
     * @param {string} property - path da propriedade
     * @returns {object}
     */
    static extractValue = function (obj, property) {
        const p = property.split('.');

        if (p.length > 1) {
            for (let i = 0; i < p.length; i++) {
                obj = obj[p[i]]
                if (obj == undefined) break;
            }

            return obj;
        } else {
            return obj[property];
        }
    }

    /**
     * Atribui um valor a uma propriedade
     * 
     * @param {object} obj - objeto
     * @param {string} property - path da propridade
     * @param {object} value - valor a ser inserido na propriedade
     */
    static setProperty = function (obj, property, value) {
        const p = property.split('.');

        if (p.length > 1) {
            const lastProperty = p[p.length - 1];
            for (let i = 0; i < p.length - 1; i++) {
                obj = obj[p[i]]
                if (obj == undefined) break;
            }

            obj[lastProperty] = value;
        } else {
            obj[property] = value;
        }
    }

    /**
     * Adiciona todas as propriedades e metodos de todos os parametros no primeiro
     * 
     * @method PiObject.extend
     * @param {arguments} arg
     * @return {object}
     */
    static extend = function () {
        for (let i = 1; i < arguments.length; i++) {
            let obj = arguments[i];
            for (let v in obj) {
                arguments[0][v] = obj[v];
            }
        }

        return arguments[0];
    }
};

/***/ }),

/***/ "./node_modules/pyllar/promise.js":
/*!****************************************!*\
  !*** ./node_modules/pyllar/promise.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiPromise)
/* harmony export */ });
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");



/**
 * @class
 */
class PiPromise extends _class__WEBPACK_IMPORTED_MODULE_0__["default"] {
    #isOnce = false;
    #promise = this.newPromise();

    instances() {
        this.clear();
    }

    /**
     * Espera até que todas as promises informadas por parametro
     * sejam resolvidas. Chama o callback de ok caso haja sucesso
     * em todos os retornos. Caso haja um erro retorna o callback de error
     * 
     * @returns {PiPromise}
     */
    static wait(promises = null) {
        var promise = new PiPromise();
        var count = 0;
        var success = true;
        var arr = promises || arguments;

        for (let i = 0; i < arr.length; i++) {
            arr[i].finally(() => {
                count++;
                if (count == arr.length) {
                    success ? promise.resolve() : promise.reject();
                }
            }).catch(() => {
                success = false;
            });
        }

        return promise;
    }

    /**
     * Retorna uma promise nativa associada a instancia
     * 
     * @returns Promise
     */
    get() {
        return this.#promise;
    }

    /**
     * Cria uma promise nativa associada a instancia
     * 
     * @returns Promise
     */
    newPromise() {
        return new Promise((resolve, reject) => {
            this.ok(resolve);
            this.error(reject);
        });
    }

    /**
     * Resolve a promise
     * 
     * @returns {PiPromise}
     */
    resolve() {
        this._argOk = arguments;

        this._callOk();
        this._callOnce();
        this._callDone();

        if (this.#isOnce) {
            this.reset();
        }

        return this;
    }

    /***
     * Vincula uma promise à promise atual
     * 
     * @returns {PiPromise}
     */
    link(promise) {
        const self = this;

        promise.ok(function () {
            self.resolve.apply(self, arguments);
        });

        promise.error(function () {
            self.reject.apply(self, arguments);
        });

        return this;
    }

    /**
     * Rejeita a promise
     * 
     * @returns {PiPromise}
     */
    reject() {
        this._argErr = arguments;

        this._callErr();
        this._callDone();

        if (this.#isOnce) {
            this.reset();
        }

        return this;
    }

    /**
     * Adiciona callback disparado quando a promise for resolvida
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    ok(cb, context) {
        this._cbOk.push({ cb: cb, context: context });

        if (this._isOk) {
            this._callOk();
        }

        return this;
    }

    /**
     * Alias para método ok
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    then() {
        return this.ok.apply(this, arguments);
    }

    /**
     * Adiciona callback disparado apenas uma vez quando a promise for resolvida
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    once(cb, context) {
        this._cbOnce.push({ cb: cb, context: context });

        if (this._isOk) {
            this._callOnce();
        }

        return this;
    }

    /**
     * Adiciona callback disparado quando a promise for rejeitada
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    error(cb, context) {
        this._cbErr.push({ cb: cb, context: context });

        if (this._isErr) {
            this._callErr();
        }

        return this;
    }

    /***
     * Alias para método error
     */
    catch() {
        return this.error.apply(this, arguments);
    }

    /**
     * Adiciona callback disparado sempre que a promise é resolvida ou rejeitada
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    done(cb, context) {
        this._cbDone.push({ cb: cb, context: context });

        if (this._isDone) {
            this._callDone();
        }

        return this;
    }

    /**
     * Alias para método done
     */
    finally() {
        return this.done.apply(this, arguments);
    }

    /**
     * Limpa todos os callbacks
     * 
     * @returns {PiPromise}
     */
    reset() {
        this._cbOk = [];
        this._cbErr = [];
        this._cbDone = [];

        return this;
    }

    /**
     * Reseta todos os valores
     * 
     * @returns {PiPromise}
     */
    clear() {
        this._cbOk = [];
        this._cbErr = [];
        this._cbDone = [];
        this._cbOnce = [];

        this._isOk = false;
        this._isErr = false;
        this._isDone = false;

        this._argOk = [];
        this._argErr = [];

        return this;
    }

    toPromise() {
        return this.#promise;
    }

    _call(arr, args) {
        for (let i = arr.length - 1; i >= 0; i--) {
            arr[i].cb.apply(arr[i].context, args);
        }
    }

    _callOnce() {
        this._isOk = true;
        this._call(this._cbOnce, this._argOk);
        this._cbOnce = [];
    }

    _callOk() {
        this._isOk = true;
        this._call(this._cbOk, this._argOk);
    }

    _callErr() {
        this._isErr = true;
        this._call(this._cbErr, this._argErr);
    }

    _callDone() {
        this._isDone = true;
        this._call(this._cbDone, []);
    }
};

(0,_env__WEBPACK_IMPORTED_MODULE_1__.register)(PiPromise);

/***/ }),

/***/ "./node_modules/pyllar/random.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/random.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiRandom)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");


/**
 * @class
 */
class PiRandom {
    static #seed = 0;
    /**
     * Gera um número aleatório
     * 
     * @returns {number}
     */
    static generator() {
        return PiRandom.range(0, Number.MAX_VALUE);
    }

    /**
     * Gera um número aleatório entre {min} e {max}
     * 
     * @param {number} _min - Valor mínimo
     * @param {number} _max - Valor máximo
     * @returns {number}
     */
    static range(_min, _max) {
        _min = _min || 0;
        _max = _max || Number.MAX_VALUE;

        let random = Math.floor(Math.random() * (1 + _max - _min)) + _min;

        if (random > _max) return _max;
        else return random;
    }

    static uuid(format) {
        let d = new Date().getTime();
        let uuid = (format || 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx').replace(/[xy]/g, function (c) {
            let r = (d + Math.random() * 16) % 16 | 0;
            d = Math.floor(d / 16);
            return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);
        });

        return uuid + (PiRandom.#seed++);
    }

};

(0,_env__WEBPACK_IMPORTED_MODULE_0__.register)(PiRandom);

/***/ }),

/***/ "./node_modules/pyllar/request.js":
/*!****************************************!*\
  !*** ./node_modules/pyllar/request.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiRequest)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./url */ "./node_modules/pyllar/url.js");




class ChainRequestItem {
    next = null;
    #fn = null;

    constructor(fn) {
        this.#fn = fn;
    }

    invoke() {
        this.#fn.call(this.#fn, ...arguments, () => {
            this.next.invoke(...arguments);
        });
    }
}

class ChainRequest {
    #requests = [];

    first() {
        if (this.#requests.length == 0) {
            return null;
        }

        return this.#requests[0];
    }

    last() {
        if (this.#requests.length == 0) {
            return null;
        }

        return this.#requests[this.#requests.length - 1];
    }

    add(fn) {
        if (fn == null) {
            return this;
        }

        const last = this.last();
        const current = new ChainRequestItem(fn);
        if (last != null) {
            last.next = current;
        }

        this.#requests.push(current);

        return this;
    }

    invoke() {
        const first = this.first();
        if (first == null) {
            return this;
        }

        first.invoke.apply(first, arguments);

        return this;
    }
}


/**
 * @class
 */
class PiRequest extends _class__WEBPACK_IMPORTED_MODULE_1__["default"] {
    #sending = false;
    #xhr = null;
    #chainRequest = new ChainRequest();
    #method = 'POST';

    constructor() {
        super();

        this.#chainRequest
            .add(_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('request.fetch'))
            .add((url, settings, success, error) => {
                try {
                    fetch(url, settings).then((response) => {
                        this.#sending = false;

                        if (response.status >= 200 && response.status < 300) {
                            response.text().then((text) => {
                                success(text, response.status);
                            });
                        } else {
                            response.text().then((text) => {
                                error(text, response.status);
                            });
                        }

                        this.#xhr = null;
                    }).catch(function (e) {
                        if (e.message == 'Failed to fetch') {
                            error(`{ "message": "${e.message}", "status": "error" }`, 503);
                        }
                    });
                } catch (error) {
                    error(`{ "message": "offline", "status": "error" }`, 503);
                }
            });
    }

    addHandler(fn) {
        this.#chainRequest.add(fn);

        return this;
    }

    /**
     * Aborta o request caso a solicitação tenha sido enviada
     * 
     * @returns {PiRequest}
     */
    abort() {
        if (this.#xhr) {
            this.#xhr.abort();
            this.#xhr = null;
            this.#sending = false;
        }

        return this;
    }

    /**
     * Retorna se a request esta sendo enviada
     * 
     * @returns {boolean}
     */
    isSending() {
        return this.#sending;
    }

    setMethod(method) {
        this.#method = method;

        return this;
    }

    /**
     * Envia uma request do tipo GET
     * 
     * @param {string} url - Url da request
     * @param {object} obj - Query string como objeto
     * @returns {Promise}
     */
    get(url, obj, config = (xhr) => { return xhr; }) {
        return new Promise((resolve, reject) => {
            let qs = '';

            if (obj != undefined) qs = '?' + this.#convertObjectToFormData(obj);

            this.#requestGet(url + qs, (text, statusCode) => {
                resolve(text, statusCode);
            }, (text, statusCode) => {
                reject(text, statusCode);
            }, config);
        });
    }

    /**
     * Envia uma solicitação do tipo GET e faz o parse JSON da resposta
     * 
     * @param {string} url - Url da request
     * @param {object} obj - Query string como objeto
     * @returns {Promise}
     */
    getJson(url, obj, config = (xhr) => { return xhr; }) {
        return new Promise((resolve, reject) => {
            let qs = '';

            if (obj != undefined) qs = '?' + this.#convertObjectToFormData(obj);

            this.#requestGet(url + qs,
                (text, statusCode) => {
                    if (text.length == 0) {
                        resolve({});
                        return
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'ok') resolve(json);
                        else reject(json.message, statusCode);
                    } else {
                        resolve(json);
                    }
                },
                (text, statusCode) => {
                    if (text.length == 0) {
                        reject({}, statusCode);
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'error') {
                            reject(json.message, statusCode);
                        }
                    } else {
                        reject(json, statusCode);
                    }
                }, config);
        });
    }

    /**
     * Envia uma solicitação do tipo POST.
     * 
     * @param {string} url - Url da requeset
     * @param {object} obj - Objeto a ser enviado no formato value=key
     * @returns {Promise}
     */
    post(url, obj, config = null) {
        return new Promise((resolve, reject) => {
            let formData = this.#convertObjectToFormData(obj);

            this.#requestPost(url, encodeURI(formData),
                (text, statusCode) => {
                    resolve(text, statusCode);
                },
                (text, statusCode) => {
                    reject(text, statusCode);
                },
                (xhr) => {
                    xhr.headers.append('Content-Type', 'application/x-www-form-urlencoded');
                    if (config) {
                        config(xhr);
                    }

                    return xhr;
                });
        });
    }

    /**
     * Envia para a url informada array de File
     * 
     * @param {string} url - Url da request e faz o parse JSON da resposta
     * @param {array} files - Array File
     * @returns {Promise}
     */
    sendFiles(url, files, config = null) {
        return new Promise((resolve, reject) => {
            var formData = new FormData();

            for (var i = 0; i < files.length; i++) {
                formData.append(`file${i}`, files[i]);
            };

            this.#requestPost(url, formData,
                (text, statusCode) => {
                    if (text.length == 0) {
                        resolve({});
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'ok') resolve(json);
                        else reject(json.message, statusCode);
                    } else {
                        resolve(json);
                    }
                },
                (text, statusCode) => {
                    if (text.length == 0) {
                        reject({}, statusCode);
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'error') reject(json.message, statusCode);
                    } else {
                        reject(json, statusCode);
                    }
                },
                (xhr) => {
                    if (config) {
                        config(xhr);
                    }

                    return xhr;
                });
        });
    }

    /**
     * Envia uma solicitação do tipo POST e faz o parse JSON da resposta
     * 
     * @param {string} url - Url da request
     * @param {object} obj - Objeto a ser enviado no formato json
     * @returns {Promise}
     */
    postJson(url, obj, config = null) {
        return new Promise((resolve, reject) => {
            this.#requestPost(url, JSON.stringify(obj),
                (text, statusCode) => {
                    if (text.length == 0) {
                        resolve({});
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'ok') resolve(json);
                        else reject(json.message, statusCode);
                    } else {
                        resolve(json);
                    }
                },
                (text, statusCode) => {
                    if (text.length == 0) {
                        reject({}, statusCode);
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'error') {
                            reject(json.message, statusCode);
                        }
                    } else {
                        reject(json, statusCode);
                    }
                },
                (xhr) => {
                    xhr.headers.append('Content-Type', 'application/json');
                    if (config) {
                        config(xhr);
                    }

                    return xhr;
                });
        });
    }

    #requestGet(url, success, error, config) {
        this.#method = 'GET';
        this.#createRequest(url,
            (text, statusCode) => {
                success(text, statusCode);
            },
            (text, statusCode) => {
                error(text, statusCode);
            },
            (xhr) => {
                xhr.method = this.#method;
                xhr.headers.append('X-Requested-With', 'XMLHttpRequest');

                return config(xhr);
            }
        );
    }

    #requestPost(url, formData, success, error, config) {
        // let auth = Pi.getConfig('request.Authorization');

        this.#createRequest(url,
            (text, statusCode) => {
                success(text, statusCode);
            },
            (text, statusCode) => {
                error(text, statusCode);
            },
            (xhr) => {
                xhr.method = this.#method;
                xhr.headers.append('X-Requested-With', 'XMLHttpRequest');
                xhr.body = formData;

                return config(xhr);
            }
        );
    }

    #createRequest(url, success, error, config) {
        var headers = new Headers();
        headers.append('Accept', 'application/json, text/plain, */*');

        this.#xhr = new AbortController();
        var settings = config({
            signal: this.#xhr.signal,
            mode: 'cors',
            headers: headers
        });

        var _url = url instanceof _url__WEBPACK_IMPORTED_MODULE_2__["default"] ? url : _url__WEBPACK_IMPORTED_MODULE_2__["default"].create(url);

        this.#sending = true;
        this.#chainRequest.invoke(_url, settings, success, error);
    }

    #existProtocol(json) {
        return json.status;
    }

    #convertObjectToFormData(obj) {
        let encodedString = '';

        for (let prop in obj) {
            if (obj.hasOwnProperty(prop)) {
                if (encodedString.length > 0) {
                    encodedString += '&';
                }
                encodedString += prop + '=' + obj[prop];
            }
        }

        return encodedString;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/statement.js":
/*!******************************************!*\
  !*** ./node_modules/pyllar/statement.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiStatement)
/* harmony export */ });
/**
 * @class
 */
class PiStatement {

    /**
     * Executa uma statement iniciando em um contexto
     * 
     * @param {string} statement - Statement que será executada dentro do contexto
     * @param {object} context - Contexto de execução
     * @returns {object}
     */
    static exec(statement, context) {
        return PiStatement.execWithVariables(statement, [[], []], context);
    }

    /**
     * Executa uma statement dentro de um contexto com variavéis de escopo
     * 
     * @param {string} statement - Statement
     * @param {array} variables - Array com os nomes e valores das variáveis
     * @param {object} context - Objeto de contexto
     * @returns {object}
     */
    static execWithVariables(statement, variables, context) {
        const variableNames = variables[0];
        const variableValues = variables[1];

        for (let i = 0; i < variableNames.length; i++) {
            const variableName = variableNames[i];
            if (variableName == 'this') {
                variableNames.splice(i, 1);
                i--;
                continue;
            }

            variableNames[i] = variableNames[i].replaceAll('.', '');
            statement = statement.replaceAll(variableName, variableNames[i])
        }

        const func = new Function('_this', ...variableNames, `return (function(){return ${statement}}).call(_this);`);
        return func(context, ...variableValues);
    }
};


/***/ }),

/***/ "./node_modules/pyllar/string.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/string.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiString)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");


/**
 * @class 
 */
class PiString {
    /**
     * Converte todas as palavras da string para capital. As palavras podem estar seperadas por espaço ou _ ou -
     * 
     * @param {string} str - string 
     * @return {string}
     */
    static capital(str) {
        if (!_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str)) return '';

        str = str.toLowerCase();

        let p = /(^[\s_\.-]*\w|[\s\._-]\w)+/gi,
            m = str.match(p);

        for (let v in m) {
            str = str.replace(m[v], m[v].toUpperCase());
        }

        return str;
    };

    /**
     * Retorna última palavra separada por caracter
     * 
     * @param {string} str - String
     * @param {string} separator - Separador de palavras
     * @returns {string}
     */
    static last(str, separator = ' ') {
        const tokens = str.split(separator);

        if (tokens.length == 0) {
            return str;
        }

        return tokens[tokens.length - 1];
    }

    /**
     * Retorna a primeira palavra separada por caracter
     * 
     * @param {string} str - String
     * @param {string} separator - Separador de palavras
     * @returns {string}
     */
    static first(str, separator = ' ') {
        const tokens = str.split(separator);

        if (tokens.length == 0) {
            return str;
        }

        return tokens[0];
    }

    /**
     * Retorna uma string formatada segundo os marcadores de texto
     * 
     * @param {strin} format - String com marcadores de texto
     * @param  {...any} args - Lista de valoers para os marcadores de texto
     * @returns {string}
     */
    static format(format, ...args) {
        return format.replace(/{(\d+)}/g, function (match, number) {
            return typeof args[number] != 'undefined'
                ? args[number]
                : match
                ;
        });
    };

    /**
     * Faz o recorte no texto baseado nos caracteres informados nos parametros beginWord e endWord
     * 
     * @param {string} text - Texto
     * @param {string} beginWord - Palavra que inicia o clipping
     * @param {string} endWord - Palavra que finaliza o clipping
     * @returns {string}
     */
    static clips(text, beginWord, endWord) {
        let arr = [];
        let i = -1;

        while (true) {
            i = text.indexOf(beginWord, i + 1);
            if (i == -1) break;
            i += beginWord.length;

            let f = text.indexOf(endWord, i + 1);
            if (f == -1) break;

            arr.push(text.substr(i, f - i));
            i = f + 1;
        }

        return arr;
    };

    /**
     * Verifica se o objeto event fornecido contém apenas caracteres alphanuméricos
     * 
     * @method isAlphaNumeric
     * @param {event} e 
     * @return {boolean}
     */
    static isAlphaNumeric(e) {
        let charCode = (e.which) ? e.which : e.keyCode;
        if (charCode == 8) return true;

        let keynum;
        let keychar;
        let charcheck = /[a-zA-Z0-9]/;
        if (window.event) // IE
        {
            keynum = e.keyCode;
        }
        else {
            if (e.which) // Netscape/Firefox/Opera
            {
                keynum = e.which;
            }
            else return true;
        }

        keychar = String.fromCharCode(keynum);
        return charcheck.test(keychar);
    };

    /**
     * Convert todos os espaços para código html &nbsp;
     * 
     * @method space2nbsp
     * @param {string} str 
     * @return {string}
     */
    static space2nbsp(str) {
        if (str == null) return '';
        return str.replace(/\s/gi, '&nbsp;').replace(/\-/gi, '&nbsp;-&nbsp;');
    };

    /**
     * Adiciona três pontos ao final da string de seu tamanho exceder o limite fornecido
     * 
     * @method reticencias
     * @param {string} str 
     * @param {int} length 
     * @return {string}
     */
    static reticencias(str, length) {
        if (str.length > length) return str.substring(0, length) + '...';
        else return str;
    }
    ;
    /**
     * Remove todos os espaços da string
     * 
     * @method removeSpace
     * @param {string} str 
     * @return {string}
     */
    static removeSpace(str) {
        return (str || '').replace(/\s*/gi, '');
    };

    /**
     * Retorna a primeira palavra da string
     * 
     * @method firtWord
     * @param {string} str 
     * @return {string}
     */
    static firstWord(str) {
        if (_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str)) {
            return str.split(' ')[0];
        } else {
            return '';
        }
    };

    /**
     * Retorna a última palavra da string
     * 
     * @method lastWord
     * @param {string} str 
     * @return {string}
     */
    static lastWord(str) {
        if (_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str)) {
            let p = str.split(' ');
            return p[p.length - 1];
        } else {
            return '';
        }

    };

    /**
     * Retorna a primeira e última palavras da string
     * 
     * @method firstAndlastWord
     * @param {string} str 
     * @return {string}
     */
    static firstAndlastWord(str) {
        let p = str.split(' ');
        let first = '';

        if (p.length == 1) return str;

        first = str.split(' ')[0];

        return first + ' ' + p[p.length - 1];
    };

    /**
     * Converte todas as palavras da string para capital. As palavras podem estar seperadas por espaço ou _
     * 
     * @method capital
     * @param {string} str 
     * @return {string}
     */
    static capital(str) {
        if (!_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str)) return '';

        str = str.toLowerCase();

        let p = /(^[\s_\.-]*\w|[\s\._-]\w)+/gi,
            m = str.match(p);

        for (let v in m) {
            str = str.replace(m[v], m[v].toUpperCase());
        }

        return str;
    };

    static replace(input, search, replacement) {
        return input.replace(new RegExp(search, 'g'), replacement);
    };

    /**
     * Reduz um nome em n - 1 palavras iniciais mais a ultima palavra
     * 
     * @method cut
     * @param {string} str 
     * @param {int} total 
     * @return {string}
     */
    static cut(str, total) {
        if (!_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str) || total < 0) return str;

        let p = str.split(' '),
            arr = [];

        //adiciona a primeira palavra
        arr.push(p[0]);

        if (total > p.length) total = p.length;

        for (let i = 1; i < total; i++) {
            arr.push(p[i]);
        }

        //adiciona a ultima palavra
        if (p.length > total) {
            arr.push(p[p.length - 1]);
        }

        return arr.join(' ');
    }
};

(0,_env__WEBPACK_IMPORTED_MODULE_0__.register)(PiString);

/***/ }),

/***/ "./node_modules/pyllar/translate.js":
/*!******************************************!*\
  !*** ./node_modules/pyllar/translate.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");

/**
 * class
 */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new class PiTranslate {
    #table = {};

    /**
     * 
     * @param {object} table - Carrega uma tabela de tradução para o translate
     * @returns {PiTranslate}
     */
    load(table) {
        _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(this.#table, table);

        return this;
    }

    /**
     * Define um valor para uma chave
     * 
     * @param {string} key - Chave
     * @param {string} value - Valor
     * @returns {PiTranslate}
     */
    set(key, value) {
        this.#table[key] = value;

        return this;
    }

    /**
     * Retorna um valor de uma dada chave
     * 
     * @param {string} key - Chave
     * @returns {string}
     */
    get(key) {
        return this.#table[key] || '';
    }

    /**
     * Verifica se existe uma chave na tabela de tradução
     * 
     * @param {string} key - Chave
     * @returns {boolean}
     */
    exist(key) {
        return this.#table[key] != undefined;
    }

    /**
     * Apaga toda a tabela de tradução
     * 
     * @returns {PiTranslate}
     */
    clear() {
        this.#table = {};
        return this;
    }
});

/***/ }),

/***/ "./node_modules/pyllar/tree.js":
/*!*************************************!*\
  !*** ./node_modules/pyllar/tree.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiTree)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");


/**
 * @class
 * @name PiTree
 */
class PiTree {
    /**
     * Cria uma arvóre virtual onde todos os elementos serão instancias de PiElement
     */
    constructor() {

    }

    static parse(html) {
        const tree = new PiTree();
        if (html instanceof Element) html = html.innerHTML;

        const doc = tree._loadDocument(html);
        const root = tree._loadElementRoot(doc);

        return root;
    }

    _loadDocument(html) {
        try {
            const wp = new _env__WEBPACK_IMPORTED_MODULE_0__.global.DOMParser();
            return wp.parseFromString(html, 'text/html'); //Vai fazer o parse de string para Element
        } catch (error) {
            console.log('PiTree: O html informado esta formatado incorretamente');
            console.log(html);
        }

        return null;
    }

    _loadElementRoot(doc) {
        if (doc == null) {
            return null;
        }

        const root = document.createDocumentFragment(); // Vai criar um fragmento da DOM principal
        const element = doc.getElementsByTagName('body')[0];
        const elements = [...element.children];

        for (let i = 0; i < elements.length; i++) {
            root.appendChild(elements[i]); // Vai adicional todos os elementos da DOM principal para a DOM fragmentada
        }

        return root;
    }
};


/***/ }),

/***/ "./node_modules/pyllar/type.js":
/*!*************************************!*\
  !*** ./node_modules/pyllar/type.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiType)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");


/**
 * @class
 */
class PiType {
    /**
     * Returna se o parametro é exatamente 'undefined'
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isUndefined(obj) {
        if (obj === null) return false;
        else if (obj == undefined) return true;
        else return false;
    }

    /**
     * Retorna o nome do construtor do objeto
     * 
     * @param {object} obj 
     * @returns {string}
     */
    static typeof(obj) {
        let v = null;

        if (obj != undefined && obj != null && !PiType.isNumber(obj)) {
            try {
                v = obj.constructor.name;
                if (v == '') v = 'Object';
            } catch (ex) {

            }
        } else if (PiType.isNumber(obj)) {
            return 'Number';
        } else if (obj === undefined) {
            return 'Undefined'
        } else if (obj === null) {
            return 'Null';
        }

        return v;
    }

    /**
     * Retorna true se o parametro é um número ou false caso contrário
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isNumber(obj) {
        if (typeof obj == 'number' && isFinite(obj) && !isNaN(obj)) return true;
        else return false;
    }

    /**
    * Returna true se o parametro é null ou undefined
    * 
    * @param {object} obj 
    * @returns {boolean}
    */
    static isNullOrUndefined(obj) {
        if (obj == null || obj == undefined) return true;
        else return false;
    }

    /**
     * Returna true se o parametro é uma função
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isFunction(obj) {
        if (typeof obj == 'function') return true;
        else return false;
    }

    /**
     * Returna true se o parametro é um array
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isArray(obj) {
        if (PiType.typeof(obj) == 'Array') return true;

        if (PiType.typeof(obj) == 'String') {
            if (/^\[.*\]$/gi.test(obj)) {
                return true;
            }
        }

        return false;
    }

    /**
     * Retorna true se o parametro é um Object
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isObject(obj) {
        if (PiType.typeof(obj) == 'Object') return true;
        if (typeof obj == 'object') return true;

        if (PiType.typeof(obj) == 'String') {
            if (/^\{.*\}$/gi.test(obj)) {
                return true;
            }
        }

        return false;
    }

    /**
     * Returna true se o parametro é uma string
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isString(obj) {
        if (typeof obj == 'string') return true;
        else return false;
    }

    /**
     * Returna true se o parametro é um Boolean
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isBoolean(obj) {
        if (typeof obj == 'boolean') return true;
        else return false;
    }
};

(0,_env__WEBPACK_IMPORTED_MODULE_0__.register)(PiType);

/***/ }),

/***/ "./node_modules/pyllar/url.js":
/*!************************************!*\
  !*** ./node_modules/pyllar/url.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiUrl)
/* harmony export */ });
/* harmony import */ var _alias__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./alias */ "./node_modules/pyllar/alias.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./string */ "./node_modules/pyllar/string.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");






/**
 * @class
 */
class PiUrl extends _class__WEBPACK_IMPORTED_MODULE_1__["default"] {
    static alias = new _alias__WEBPACK_IMPORTED_MODULE_0__["default"]();

    init() {
        let arr = arguments,
            url = '';

        for (let i = 0; i < arr.length; i++) {
            let alias = arr[i];

            if (PiUrl.alias.exist(arr[i])) {
                alias = PiUrl.alias.getValue(arr[i]);
            }

            if (alias[0] == '/' && url[url.length - 1] == '/') {
                url += alias.substring(1);
            } else {
                url += alias;
            }

        }

        this.setUrl(url);
    }

    /**
     * Define a url
     * 
     * @param {string} url
     * @returns {PiUrl}
     */
    setUrl(url) {
        if (PiUrl.alias.exist(url)) {
            url = PiUrl.alias.getValue(url);
        }

        if (PiUrl.isValid(url)) this._url = url;

        return this;
    }

    /**
     * Obtem o scheme da url
     * 
     * @returns {string}
     */
    scheme() {
        let url = this.getUrl(),
            i = url.indexOf(':');

        if (i < 0) return '';
        return url.substr(0, i);
    }

    /**
     * Define ou obtem o host da url
     * 
     * @param {string} host
     * @returns {string}
     */
    host(host) {
        let url = this.getUrl(),
            h = this._parse(url, 'host');

        if (host === undefined) {
            return h;
        } else {
            this.setUrl(url.replace(h, host));
            return this;
        }
    }

    /**
     * Define ou obtem a porta da url
     * 
     * @param {string|int} port 
     * @returns {PiUrl|int}
     */
    port(port) {
        let url = this.getUrl(),
            p = this._parse(url, 'port') || '';

        if (_type__WEBPACK_IMPORTED_MODULE_2__["default"].isUndefined(port)) {
            return p;
        }

        let pt = this.port() || '',
            href = this.href();

        if (pt.length == 0) {
            url = url.replace(href, href + ':' + port);
        } else {
            url = url.replace(p, port);
        }

        this.setUrl(url);

        return this;
    }

    /**
     * Define ou obtem o href da url
     * 
     * @param {string} url - Href
     * @returns {PiUrl|string}
     */
    href(url) {
        let u = this.host(),
            h = u,
            s = this._parse(this.getUrl(), 'scheme');

        if (url === undefined) {
            let p = this.port();

            if (p.length == 0) p = '';
            else p = ':' + p;

            if (s.length > 0) {
                h = s + '://' + u + p;
            } else {
                h = u + p;
            }

            return h;
        }

        this.setUrl(url);

        return this;
    }

    /**
     * Define ou obtem o hash da url
     * 
     * @param {string} hash 
     * @returns {PiUrl|string}
     */
    hash(hash) {
        let url = this.getUrl(),
            hh = this._parse(url, 'hash');

        if (hash === undefined) {
            return hh;
        } else {

            if (hh.length == 0) {
                this.setUrl(url + '#' + hash);
            } else {
                this.setUrl(url.replace(hh, hash));
            }

            return this;
        }
    }

    /**
     * Anexa ao path da url o path informado
     * 
     * @param {string} path 
     * @returns {PiUrl}
     */
    appendPath(path) {
        let url = this.getUrl(),
            p = this._parse(url, 'path');

        if (PiUrl.alias.exist(path)) {
            path = PiUrl.alias.getValue(path);
        }

        if (url.substring(url.length - 1) != '/') url += '/';
        this.setUrl(url + path);
        return this;
    }

    /**
     * Define ou obtem o path da url
     * 
     * @param {string} path 
     * @returns {PiUrl|string}
     */
    path(path) {
        let url = this.getUrl(),
            p = this._parse(url, 'path'),
            pp = '/' + p;

        if (path === undefined) {
            return pp;
        }

        if (PiUrl.alias.exist(path)) {
            path = PiUrl.alias.getValue(path);
        }

        if (p.length == 0) {
            if (url.substring(url.length - 1) != '/' && path.charAt(0) != '/') url += '/' + path;
            else url += path;
        } else {
            url = url.replace(pp, path);
        }

        this.setUrl(url);

        return this;
    }

    /**
     * Define ou obtem o filename da url
     * 
     * @param {string} filename 
     * @returns {PiUrl|strin}
     */
    filename(filename) {
        let url = this.getUrl();

        if (filename === undefined) {
            return url.replace(/\\/g, '/').replace(/.*\//, '').replace(/\?.*/, '') || '';
        } else {
            let u = this.getUrl(),
                f = this.filename();

            this.setUrl(u.replace(f, filename));
            return this;
        }
    }

    /**
     * Define ou obtem a query string da url
     * 
     * @param {string} query 
     * @returns {PiUrl|string}
     */
    query(query) {
        let url = this.getUrl(),
            p = this._parse(url, 'query');

        if (query === undefined) {
            return p;
        } else {
            let q = this.query();
            this.setUrl(url.replace(q, query));
            return this;
        }
    }

    /**
     * Adiciona uma valor a query string
     * 
     * @param {string} key - Chave
     * @param {string} value - Valor
     * @returns {PiUrl}
     */
    addQuery(key, value) {
        let q = this.query(),
            url = this.getUrl(),
            qs = _string__WEBPACK_IMPORTED_MODULE_3__["default"].format('{1}={2}', url, key, encodeURIComponent(value));

        if (q.length == 0) {
            this.setUrl(url + '?' + qs);
        } else {
            this.setUrl(url + '&' + qs);
        }

        return this;
    }

    /**
     * Obtem um valor da query string pela sua chave
     * 
     * @param {string} key - Chave
     * @returns {string}
     */
    getQuery(key) {
        let qs = this.query().split('&');

        for (var i = 0; i < qs.length; i++) {
            let q = qs[i].split('=');
            if (q[0] == key) {
                return decodeURIComponent(q[1]);
            }
        }

        return '';
    }

    /**
     * Obtem o dirname da url
     * 
     * @returns {string}
     */
    dirname() {
        return this.getUrl().replace(/\\/g, '/').replace(/\/[^\/]*$/, '');
    }

    /**
     * Retorna a url formatada
     * 
     * @returns {string}
     */
    getUrl() {
        // var m = this.options;

        // if (PiSubdomains.exist(m)) {
        //     var s = PiSubdomains.next(m);
        //     return PiString.format(this.url, s);
        // }

        return this._url || '';
    }

    /**
     * Alias to getUrl
     * 
     * @returns {strin}
     */
    toString() {
        return this.getUrl();
    }

    _parse(url, parte) {
        let p = { 'url': 0, 'scheme': 1, 'slash': 2, 'host': 3, 'port': 4, 'path': 5, 'query': 6, 'hash': 7 },
            pattern = /^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,
            s = pattern.exec(url || '');

        if (s == null) return '';
        return s[p[parte]] || '';
    }

    /**
     * Verifica se a url informada é valida
     * 
     * @param {string} url 
     * @returns {boolean}
     */
    static isValid(url) {
        return /(http|https|)(:\/\/|)([\w-]+\.?)+[\w-]+(\/[\w- .\/?%&=]*)?/.test(url || '');
    }

    /**
     * Adiciona a lista de parametros a url
     * 
     */
    static add() {
        PiUrl.alias.add.apply(PiUrl.alias, arguments);
    }

    /**
     * 
     * @param {string} name 
     * @returns {string}
     */
    static get(name) {
        return PiUrl.alias.getValue(name);
    }

    static to() {
        let arr = arguments,
            url = '';

        for (let i = 0; i < arguments.length; i++) {
            let alias = arr[i];

            if (PiUrl.alias.exist(arr[i])) {
                alias = PiUrl.alias.getValue(arr[i]);
            }

            if (alias[0] == '/' && url[url.length - 1] == '/') {
                url += alias.substring(1);
            } else {
                url += alias;
            }

        }

        (0,_env__WEBPACK_IMPORTED_MODULE_4__.setLocation)(url);
    }

    static query(query) {
        let q = PiUrl.create((0,_env__WEBPACK_IMPORTED_MODULE_4__.location)()).query(),
            p = q.split('&');

        for (let i in p) {
            let pp = p[i].split('=');
            if (pp[0] == query) return pp[1];
        }
    }

};

(0,_env__WEBPACK_IMPORTED_MODULE_4__.register)(PiUrl);

/***/ }),

/***/ "./node_modules/pyllar/url_hash.js":
/*!*****************************************!*\
  !*** ./node_modules/pyllar/url_hash.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiUrlHash)
/* harmony export */ });
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./random */ "./node_modules/pyllar/random.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");




/**
 * @class
 */
class PiUrlHash {
    static _callbacks = [];
    static _fnWillChanges = [];
    static _fnDidChanges = [];
    #hashId = 0;

    /**
     * Disparado sempre que a hash da url for alterada
     */
    hashDidChange() {

    }

    /**
     * Observa mudanças no hash da url
     * 
     * @returns {PiUrlHash}
     */
    listen() {
        this.#hashId = _random__WEBPACK_IMPORTED_MODULE_0__["default"].uuid('xxx-xxx');

        PiUrlHash._callbacks.push({
            id: this.#hashId,
            cb: () => {
                return this.hashDidChange(PiUrlHash.get());
            }
        });

        return this;
    }

    /**
     * Deixa de observar mudanças no hash da url
     * 
     * @returns {PiUrlHash}
     */
    unlisten() {
        const arr = PiUrlHash._callbacks;

        for (let i = 0; i < arr.length; i++) {
            const item = arr[i];
            if (item.id == this.#hashId) {
                PiUrlHash._callbacks.splice(i, 1);
                return this;
            }

        }

        return this;
    }

    /**
     * Retorna o valor atual do hash da url
     * 
     * @returns {string}
     */
    static get() {
        let h = (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash;
        h = h.length == 0 ? h : h.substr(1);

        return h;
    }

    /**
     * Define o valor do hash da url
     * 
     * @param {string} hash - Valor do hash
     */
    static to(hash) {
        let h = PiUrlHash.get();
        let q = h.indexOf('?');

        if (q > -1) {
            q = h.substr(q);
            h = h.substr(0, q);
        } else {
            q = '';
        }

        if ('!' + h == hash || '!' + hash == h) {
            return this;
        }

        if (q.length > 0) {
            hash += q;
        }

        (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = hash;

        return PiUrlHash;
    }

    /**
     * Retorna o valor da query string no hash da url
     * 
     * @param {string} key - Chave da query string
     * @returns {string}
     */
    static getQueryString(key) {
        let h = PiUrlHash.get();
        let ps = h.split('?');

        if (ps.length < 2) return '';
        let kv = ps[1].split('&');
        for (let i = 0; i < kv.length; i++) {
            var k = kv[i].split('=');
            if (k[0] == key) return decodeURIComponent(k[1]);
        }

        return '';
    }

    static getQueryInt(key) {
        return parseInt(PiUrlHash.getQueryString(key));
    }

    static getQueryFloat(key) {
        return parseFloat(PiUrlHash.getQueryString(key));
    }

    /**
     * Remove um par chave-valor da query string do hash da url
     * 
     * @param {string} key - Chave da query string
     */
    static removeQueryString(key) {
        let h = PiUrlHash.get();
        let ps = h.split('?');

        if (key == undefined) {
            (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = ps[0];
            return PiUrlHash;
        }

        let p = [];
        let map = [];

        if (ps.length > 1) {
            p = ps[1].split('&');
            for (let i = 0; i < p.length; i++) {
                if (p[i].length == 0) continue;

                let _ps = p[i].split('=');
                map[_ps[0]] = _ps[1];
            }
        }

        delete map[key];

        var arr = [];
        for (const key in map) {
            arr.push(`${key}=${map[key]}`);
        }

        (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = `${ps[0]}?${arr.join('&')}`;

        return PiUrlHash;
    }

    /**
     * Adiciona um par chave-valor para a query string do hash da url
     * 
     * @param {string} key - Chave da query string
     * @param {string} value - Valor da query string
     */
    static addQueryString(key, value = '') {
        let h = PiUrlHash.get();
        let ps = h.split('?');
        let p = [];
        let map = [];

        if (ps.length > 1) {
            p = ps[1].split('&');
            for (let i = 0; i < p.length; i++) {
                if (p[i].length == 0) continue;

                let _ps = p[i].split('=');
                map[_ps[0]] = _ps[1];
            }
        }

        map[key] = value || '';
        var arr = [];
        for (const key in map) {
            arr.push(`${key}=${map[key]}`);
        }

        (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = `${ps[0]}?${arr.join('&')}`;

        return PiUrlHash;
    }

    /**
     * Adiciona array de paths para o hash da url
     * 
     * @param  {...any} args - Array de paths
     */
    static add(...args) {
        let h = PiUrlHash.get();

        if (h.length > 0) {
            PiUrlHash.to(h + '/' + args.join('/'));
        } else {
            PiUrlHash.to(args.join('/'));
        }
    }

    /**
     * Remove do hash da url o valor informado
     * 
     * @param {string} str - String a ser removida
     * @returns {PiUrlhash}
     */
    static remove(str) {
        (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash.replace(str, '');

        return this;
    }

    static onWillChange(fn) {
        PiUrlHash._fnWillChanges.push(fn);
    }

    static onDidChange(fn) {
        PiUrlHash._fnDidChange.push(fn);
    }

};

var lastHash = null;
_env__WEBPACK_IMPORTED_MODULE_1__.global.onhashchange = function () {
    if (lastHash == PiUrlHash.get()) {
        return;
    }
    lastHash = PiUrlHash.get();

    const arr = PiUrlHash._callbacks;

    for (let i = 0; i < PiUrlHash._fnWillChanges.length; i++) {
        PiUrlHash._fnWillChanges[i](lastHash);
    }

    for (var i = 0; i < arr.length; i++) {
        arr[i].cb();
    }

    for (let i = 0; i < PiUrlHash._fnDidChanges.length; i++) {
        PiUrlHash._fnDidChanges[i](lastHash);
    }
};

(0,_env__WEBPACK_IMPORTED_MODULE_1__.register)(PiUrlHash);

/***/ }),

/***/ "./node_modules/pyllar/virtual_tree.js":
/*!*********************************************!*\
  !*** ./node_modules/pyllar/virtual_tree.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiVirtualTree)
/* harmony export */ });
/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./node_modules/pyllar/element.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");



/**
 * @class
 */
class PiVirtualTree {
    #elementsParent = null;
    #velements = [];
    #components = [];
    #componentsParams = [];
    #componentParent = null;
    #hook = [];
    #scope = { context: {} };

    constructor(element, scope = { context: {} }, componentParent = null) {
        if (element instanceof Array) {
            this.#elementsParent = element;
        } else if (element instanceof HTMLCollection) {
            this.#elementsParent = element;
        } else {
            this.#elementsParent = [element];
        }

        this.#componentParent = componentParent;
        this.#scope = scope;
    }

    hook(name, fn) {
        this.#hook[name] = fn;

        return this;
    }

    load() {
        this._createVirtualElements(this.#elementsParent);
        this._createComponents();

        return this;
    }

    destroy() {
        for (let i = 0; i < this.#velements.length; i++) {
            const element = this.#velements[i];
            element.destroy();
        }

        for (let i = 0; i < this.#components.length; i++) {
            this.#components[i].destroy();
        }

        this.#velements = [];
        this.#components = [];
        this.#componentsParams = [];

        return this;
    }

    _createComponent(componentName) {
        const __constructor = (0,_env__WEBPACK_IMPORTED_MODULE_1__.findClass)(componentName);

        if (__constructor == undefined) {
            throw `Component não localizado: ${componentName}`;
        }

        return new __constructor();
    }

    _createComponents() {
        for (let i = 0; i < this.#componentsParams.length; i++) {
            const params = this.#componentsParams[i];
            const componentName = params.componentName;
            const velement = params.velement;
            const element = velement._element;
            const name = element.getAttribute('name');

            var component = null;

            if (this.#componentParent) {
                if (name) {
                    component = this.#componentParent[name];
                    if (component == null) {
                        component = this._createComponent(componentName);
                        this.#componentParent[name] = component;
                    }
                } else {
                    component = this._createComponent(componentName);
                }
            } else {
                component = this._createComponent(componentName);
            }

            velement.setComponent(component);
            component.render(element);
            this.#components.push(component);
        }
    }

    _createVirtualElements(elements) {
        if (elements == null) {
            return;
        }

        if (elements.length == 1 && elements[0] instanceof DocumentFragment) {
            this._createVirtualElements(elements[0].children);
            return;
        }

        for (let i = 0; i < elements.length; i++) {
            const element = elements[i];

            if (element instanceof Text) {
                continue;
            }

            if (element instanceof HTMLScriptElement) {
                continue;
            }

            if (element instanceof HTMLStyleElement) {
                continue;
            }

            if (element._pie == undefined) {
                this._invokeHook('will:create:velement');
                const velement = new _element__WEBPACK_IMPORTED_MODULE_0__["default"](element, this.#scope, this.#componentParent);
                this._invokeHook('did:create:velement', velement);
                this._invokeHook('will:load:velement', velement);
                velement.load(this.#componentParent);
                this._invokeHook('did:load:velement', velement);

                if (velement.isDestroyed) {
                    i--;
                    continue;
                }

                const componentName = element.getAttribute('component');
                if (componentName != null) {
                    this.#componentsParams.push({
                        velement: velement,
                        componentName: componentName
                    });
                }

                this.#velements.push(velement);
            }

            this._createVirtualElements(element.children);
        }
    }

    _invokeHook(name, ...params) {
        if (this.#hook[name]) {
            this.#hook[name](...params);
        }

        return this;
    }
};

/***/ }),

/***/ "./src/app.css":
/*!*********************!*\
  !*** ./src/app.css ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./app.css */ "./node_modules/css-loader/dist/cjs.js!./src/app.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/cifra/CifraAnime.css":
/*!**********************************!*\
  !*** ./src/cifra/CifraAnime.css ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_CifraAnime_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./CifraAnime.css */ "./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraAnime.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_CifraAnime_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_CifraAnime_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_CifraAnime_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_CifraAnime_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/cifra/CifraView.css":
/*!*********************************!*\
  !*** ./src/cifra/CifraView.css ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./CifraView.css */ "./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraView.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/homepage/HomePage.css":
/*!***********************************!*\
  !*** ./src/homepage/HomePage.css ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./HomePage.css */ "./node_modules/css-loader/dist/cjs.js!./src/homepage/HomePage.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";


var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";


var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./src/cifra/CifraAnime.js":
/*!*********************************!*\
  !*** ./src/cifra/CifraAnime.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CifraAnime)
/* harmony export */ });
/* harmony import */ var pyllar_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/component */ "./node_modules/pyllar/component.js");
/* harmony import */ var _CifraAnime_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CifraAnime.css */ "./src/cifra/CifraAnime.css");




class CifraAnime extends pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
    view = /*html*/`<div class="cifra-preview">
        <div class="box">
            <div class="box-inner"></div>
        </div>
    </div>`
}

/***/ }),

/***/ "./src/cifra/CifraModel.js":
/*!*********************************!*\
  !*** ./src/cifra/CifraModel.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CifraModel)
/* harmony export */ });
/* harmony import */ var pyllar_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/config */ "./node_modules/pyllar/config.js");
/* harmony import */ var pyllar_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/model */ "./node_modules/pyllar/model.js");



class CifraModel extends pyllar_model__WEBPACK_IMPORTED_MODULE_1__["default"] {
    init(){
        super.init(pyllar_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('endpoint.cifra'));
    }

    initWithJson(json){
        super.initWithJson(json);

        return this;
    }

    actions(){
        return {
            'insert': 'POST:/',
            'save': 'PUT:/',
            'get': 'GET:/:id',
            'all': 'GET:/',
            'import': 'GET:/import?url=:url'
        }
    }
}

/***/ }),

/***/ "./src/cifra/CifraStream.js":
/*!**********************************!*\
  !*** ./src/cifra/CifraStream.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CifraStream)
/* harmony export */ });
/* harmony import */ var _CifraModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CifraModel */ "./src/cifra/CifraModel.js");


class CifraStream {
    fnNewCifra = null;
    fnNewNote = null;

    constructor(host) {
        this.host = host;
    }

    onNewCifra(fn) {
        this.fnNewCifra = fn
    }

    onNewNote(fn) {
        this.fnNewNote = fn;
    }

    _processEvent(e) {
        try {
            const event = JSON.parse(e.data);

            if (event.type == 'new:cifra') {
                (new _CifraModel__WEBPACK_IMPORTED_MODULE_0__["default"]()).get(event.id).then((cifra) => {
                    if(this.fnNewCifra){
                        this.fnNewCifra(cifra);
                    }
                });

                return;
            }

            if (event.type == 'note') {
                if(this.fnNewNote){
                    this.fnNewNote(event.note);
                }
            }
        } catch (error) {

        }
    }

    connect() {
        const socket = new WebSocket(this.host);

        socket.addEventListener('open', event => {
            console.log('Conectado ao servidor WebSocket');

            // Envia uma mensagem ao servidor
            socket.send('Olá servidor!');
        });

        // Quando uma mensagem é recebida do servidor
        socket.addEventListener('message', event => {
            this._processEvent(event);
        });

        // Quando a conexão é fechada
        socket.addEventListener('close', event => {
            console.log('Desconectado do servidor WebSocket');
            this.connect();
        });
    }
};

/***/ }),

/***/ "./src/cifra/CifraView.js":
/*!********************************!*\
  !*** ./src/cifra/CifraView.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CifraView)
/* harmony export */ });
/* harmony import */ var pyllar_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/component */ "./node_modules/pyllar/component.js");
/* harmony import */ var _CifraModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CifraModel */ "./src/cifra/CifraModel.js");
/* harmony import */ var _marcador_Marcador__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../marcador/Marcador */ "./src/marcador/Marcador.js");
/* harmony import */ var _note_NoteCollection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../note/NoteCollection */ "./src/note/NoteCollection.js");
/* harmony import */ var _CifraView_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CifraView.css */ "./src/cifra/CifraView.css");








class CifraView extends pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
    view = /*html*/`<div :class="cifra-view {@_mostrarAcordes ?  '' : 'no-chords'}">
        <div class="titulo">
            {@_titulo}
        </div>

        <div class="options">
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="mostrarAcordes" @change="_saveMostrarAcordes($value)" :checked="{@_mostrarAcordes}">
                <label class="form-check-label" for="mostrarAcordes">Mostrar Acordes</label>
            </div>

            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="barraRolagem" @change="_saveRolagemAutomatica($value)" :checked="{@_rolagemAutomatica}">
                <label class="form-check-label" for="barraRolagem">Barra de Rolagem Automática</label>
            </div>

            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="evidenciar" @change="_saveEvidenciarNotas($value)" :checked="{@_evidenciarAcordes}">
                <label class="form-check-label" for="evidenciar">Evidênciar acordes</label>
            </div>
        </div>

        <div id="marcador" class="marcador"></div>
        
        <pre id="content"></pre>
    </div>`;

    _titulo = '';
    _mostrarAcordes = true;
    _rolagemAutomatica = true;
    _evidenciarAcordes = true;

    viewDidLoad() {
        this._loadConfig();
    }

    setStream(stream) {
        stream.onNewNote(note => {
            this.setMarcadorPosicao(note.position);
        });
    }

    async loadCifra(id, fn) {
        const cifra = await (new _CifraModel__WEBPACK_IMPORTED_MODULE_1__["default"]()).get(id);
        this.setCifra(cifra, fn);
    }

    setCifra(cifra, fn) {
        this.$element.find("#content").html(this._formatNotes(this._formatTag(cifra.texto)));

        this._titulo = cifra.titulo;

        this._loadNotes();
        this._loadMarcador();
        this._loadConfig();

        this.setMarcadorPosicao(0);
        if (fn) fn();
    }

    setMarcadorPosicao(position) {
        this.marcador.move(this.notes.getNoteByPosition(position));
    }

    _saveMostrarAcordes(v) {
        this._mostrarAcordes = v;

        this._saveConfig();
    }

    _saveRolagemAutomatica(v) {
        this._rolagemAutomatica = v;

        if (this.marcador) {
            this.marcador.setRolagemAutomatica(v);
        }

        this._saveConfig();
    }

    _saveEvidenciarNotas(v) {
        this._evidenciarAcordes = v;

        if (this.marcador) {
            v ? this.marcador.show() : this.marcador.hide();
        }

        this._saveConfig();
    }

    _formatNotes(cifra) {
        return cifra.replace(/\([^)]+\)/gi, (note) => {
            return `<b>${note}</b>`
        });
    }

    _formatTag(cifra) {
        return cifra.replace(/\[[^\]]+\]/gi, (note) => {
            return `<i>${note}</i>`
        });
    }

    _loadMarcador() {
        this.marcador = new _marcador_Marcador__WEBPACK_IMPORTED_MODULE_2__["default"](this.$element.find("#marcador"));
    }

    _loadNotes() {
        this.notes = new _note_NoteCollection__WEBPACK_IMPORTED_MODULE_3__["default"](this.$element.find("#content").find('b'));
    }

    _saveConfig() {
        window.localStorage.setItem('mostrar_acordes', this._mostrarAcordes);
        window.localStorage.setItem('rolagem_automatica', this._rolagemAutomatica);
        window.localStorage.setItem('evidenciar_acordes', this._evidenciarAcordes);
    }

    _loadConfig() {
        const config = this._getConfig();

        this._saveMostrarAcordes(config.mostrarAcordes);
        this._saveRolagemAutomatica(config.rolagemAutomatica);
        this._saveEvidenciarNotas(config.evidenciarAcordes);
    }

    _getConfig() {
        const mostrarAcordes = window.localStorage.getItem('mostrar_acordes');
        const rolagemAutomatica = window.localStorage.getItem('rolagem_automatica');
        const evidenciarAcordes = window.localStorage.getItem('evidenciar_acordes');

        if (mostrarAcordes === null || rolagemAutomatica === null || evidenciarAcordes === null) {
            this._saveConfig();

            mostrarAcordes = true;
            rolagemAutomatica = true;
            evidenciarAcordes = true;
        }

        return {
            mostrarAcordes: mostrarAcordes === 'true',
            rolagemAutomatica: rolagemAutomatica === 'true',
            evidenciarAcordes: evidenciarAcordes === 'true'
        }
    }
}

pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"].register(CifraView);

/***/ }),

/***/ "./src/homepage/HomePage.js":
/*!**********************************!*\
  !*** ./src/homepage/HomePage.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ HomePage)
/* harmony export */ });
/* harmony import */ var pyllar_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/component */ "./node_modules/pyllar/component.js");
/* harmony import */ var pyllar_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _cifra_CifraView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cifra/CifraView */ "./src/cifra/CifraView.js");
/* harmony import */ var _cifra_CifraAnime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../cifra/CifraAnime */ "./src/cifra/CifraAnime.js");
/* harmony import */ var _cifra_CifraStream__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../cifra/CifraStream */ "./src/cifra/CifraStream.js");
/* harmony import */ var _transporte_TransporteModel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../transporte/TransporteModel */ "./src/transporte/TransporteModel.js");
/* harmony import */ var _HomePage_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./HomePage.css */ "./src/homepage/HomePage.css");











class HomePage extends pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
    view = /*html*/`<div class="container homepage">
        <div class="content">
            <div id="view"></div>
        </div>
    </div>`;

    instances() {
        this.cifraStream = new _cifra_CifraStream__WEBPACK_IMPORTED_MODULE_4__["default"](pyllar_config__WEBPACK_IMPORTED_MODULE_1__["default"].get('cifraStream'));
    }

    viewDidLoad() {
        this.cifraStream.connect();

        this._loadTransporte();
        this._loadEvents();
    }

    setView(view) {
        view.render(this.$element.find('#view'));
    }

    _loadTransporte() {
        (new _transporte_TransporteModel__WEBPACK_IMPORTED_MODULE_5__["default"]()).get().then((transporte) => {
            if (transporte == null) {
                this.setView(new _cifra_CifraAnime__WEBPACK_IMPORTED_MODULE_3__["default"]());
                return;
            }

            if (transporte.cifraId == 0) {
                this.setView(new _cifra_CifraAnime__WEBPACK_IMPORTED_MODULE_3__["default"]());
                return;
            }

            const cifraView = new _cifra_CifraView__WEBPACK_IMPORTED_MODULE_2__["default"]();
            this.setView(cifraView);
            cifraView.setStream(this.cifraStream);
            cifraView.loadCifra(transporte.cifraId, () => {
                cifraView.setMarcadorPosicao(transporte.posicao);
                cifraView.setMarcadorPosicao(0);
            });
        });
    }

    _loadEvents() {
        this.cifraStream.onNewCifra(cifra => {
            const cifraView = new _cifra_CifraView__WEBPACK_IMPORTED_MODULE_2__["default"]();
            this.setView(cifraView);
            cifraView.setStream(this.cifraStream);
            cifraView.setCifra(cifra);
        });
    }
}

/***/ }),

/***/ "./src/marcador/Marcador.js":
/*!**********************************!*\
  !*** ./src/marcador/Marcador.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Marcador)
/* harmony export */ });
class Marcador {

    constructor($marcador) {
        this.$marcador = $marcador;
        this.note = null;
        this.rolagemAutomatica = true;
    }

    move(note) {
        if (note == null) return;

        const position = note.position();
        const w = note.width();
        const h = note.height();

        this.$marcador.css('top', position.top - 2).css('left', position.left - 7);
        this.$marcador.css('width', w + 13).css('height', h + 4);

        note.save();
        setTimeout(() => {
            note.highlight();
        }, 200);

        if (this.note) {
            this.note.restore();
        }

        this.note = note;

        setTimeout(() => {
            this._moveScroll();
        }, 200);
    }

    setRolagemAutomatica(b) {
        this.rolagemAutomatica = b;
    }

    show() {
        this.$marcador.show();
    }

    hide() {
        this.$marcador.hide();
    }

    _moveScroll() {
        if (!this.rolagemAutomatica) {
            return;
        }

        const rect = this.$marcador.get(0).getBoundingClientRect();
        if ((rect.bottom + 30) > window.innerHeight) {
            window.scrollBy(0, rect.bottom - window.innerHeight + 100);
        } else if (rect.top < 0) {
            window.scrollBy(0, (rect.top - 30));
        }
    }
};

/***/ }),

/***/ "./src/note/Note.js":
/*!**************************!*\
  !*** ./src/note/Note.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Note)
/* harmony export */ });
class Note {
    constructor($note) {
        this.$note = $note;
    }

    highlight() {
        this.$note.css('color', 'white');
    }

    restore() {
        this.$note.css('color', this.$note.attr('data-color'));
    }

    save() {
        this.$note.attr('data-color', this.$note.css('color'));
    }

    position() {
        return this.$note.position();
    }

    width() {
        return this.$note.width();
    }

    height() {
        return this.$note.height();
    }

    get $element() {
        return this.$note;
    }
};

/***/ }),

/***/ "./src/note/NoteCollection.js":
/*!************************************!*\
  !*** ./src/note/NoteCollection.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotesCollection)
/* harmony export */ });
/* harmony import */ var _Note__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Note */ "./src/note/Note.js");


class NotesCollection extends Array {
    constructor($notes) {
        super();

        $notes.get().forEach((note, index) => {
            this.push(new _Note__WEBPACK_IMPORTED_MODULE_0__["default"]($(note)));
        });
    }

    getNoteByPosition(p) {
        return this[p - 1];
    }
};

/***/ }),

/***/ "./src/transporte/TransporteModel.js":
/*!*******************************************!*\
  !*** ./src/transporte/TransporteModel.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ TransporteModel)
/* harmony export */ });
/* harmony import */ var pyllar_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/config */ "./node_modules/pyllar/config.js");
/* harmony import */ var pyllar_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/model */ "./node_modules/pyllar/model.js");



class TransporteModel extends pyllar_model__WEBPACK_IMPORTED_MODULE_1__["default"] {
    init(){
        super.init(pyllar_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('endpoint.transporte'));
    }

    actions(){
        return {
            'get': 'GET:/',
        }
    }
}

/***/ }),

/***/ "data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e";

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// no jsonp function
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!**************************!*\
  !*** ./src/bootstrap.js ***!
  \**************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var pyllar_env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/env */ "./node_modules/pyllar/env.js");
/* harmony import */ var pyllar_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/bootstrap */ "./node_modules/pyllar/bootstrap.js");
/* harmony import */ var pyllar_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pyllar/config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _homepage_HomePage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./homepage/HomePage */ "./src/homepage/HomePage.js");
/* harmony import */ var _cifra_CifraView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cifra/CifraView */ "./src/cifra/CifraView.js");
/* harmony import */ var _app_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./app.css */ "./src/app.css");









if (window.appSettings) {
    pyllar_config__WEBPACK_IMPORTED_MODULE_2__["default"].load(appSettings);
}

pyllar_config__WEBPACK_IMPORTED_MODULE_2__["default"].set('request.fetch', function (url, settings, success, error, next) {
    next();
});

new pyllar_bootstrap__WEBPACK_IMPORTED_MODULE_1__["default"]()
    .onLoad((boot) => {
        
    })
    .onReady((boot) => {
        const homepage = new _homepage_HomePage__WEBPACK_IMPORTED_MODULE_3__["default"]();
        homepage.render(pyllar_env__WEBPACK_IMPORTED_MODULE_0__.global.app.$element);
        homepage.setView(new _cifra_CifraView__WEBPACK_IMPORTED_MODULE_4__["default"]());
    })
    .load();
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFlBQVk7QUFDM0IsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFlBQVksNkNBQU07QUFDbEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVOztBQUVWO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFD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OztXQUVBOztXQUVBOzs7OztXQ3JCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQW9DO0FBQ0s7QUFDSjtBQUNyQztBQUMyQztBQUNEO0FBQzFDO0FBQ2tCO0FBQ2xCO0FBQ0E7QUFDQSxJQUFJLHFEQUFRO0FBQ1o7QUFDQTtBQUNBLHFEQUFRO0FBQ1I7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxJQUFJLHdEQUFTO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDZCQUE2QiwwREFBUTtBQUNyQyx3QkFBd0IsOENBQU07QUFDOUIsNkJBQTZCLHdEQUFTO0FBQ3RDLEtBQUs7QUFDTCxZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvYXBwLmNzcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9jaWZyYS9DaWZyYUFuaW1lLmNzcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9jaWZyYS9DaWZyYVZpZXcuY3NzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2hvbWVwYWdlL0hvbWVQYWdlLmNzcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2FjdGlvbi5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvYWxpYXMuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2FwcC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvYXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2Jvb3QuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2Jvb3RzdHJhcC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvY2FsbGJhY2suanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2NsYXNzLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvZGljdGlvbmFyeS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvZWxlbWVudC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvZW52LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9ldmVudC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvZXhwcmVzc2lvbi5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvZm9yX2RpcmVjdGl2ZS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvZm9yZWFjaF9kaXJlY3RpdmUuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2Z1bmN0aW9uLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9oZWxwZXJzLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9pbml0aWFsaXplLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9tb2RlbC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvbmF0aXZlX2VsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL29iamVjdC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvcmFuZG9tLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9yZXF1ZXN0LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9zdGF0ZW1lbnQuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3N0cmluZy5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvdHJhbnNsYXRlLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci90cmVlLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci90eXBlLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci91cmwuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3VybF9oYXNoLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci92aXJ0dWFsX3RyZWUuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvYXBwLmNzcz9hNjcyIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2NpZnJhL0NpZnJhQW5pbWUuY3NzP2Q2OTQiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvY2lmcmEvQ2lmcmFWaWV3LmNzcz8yNGQ0Iiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2hvbWVwYWdlL0hvbWVQYWdlLmNzcz8xNjMzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvY2lmcmEvQ2lmcmFBbmltZS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9jaWZyYS9DaWZyYU1vZGVsLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2NpZnJhL0NpZnJhU3RyZWFtLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2NpZnJhL0NpZnJhVmlldy5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9ob21lcGFnZS9Ib21lUGFnZS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9tYXJjYWRvci9NYXJjYWRvci5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9ub3RlL05vdGUuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvbm90ZS9Ob3RlQ29sbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy90cmFuc3BvcnRlL1RyYW5zcG9ydGVNb2RlbC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jaWZyYS11eC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jaWZyYS11eC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jaWZyYS11eC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2NpZnJhLXV4L3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL2NpZnJhLXV4L3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9ib290c3RyYXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYDpyb290e1xyXG4gICAgLS1hcHAtY29sb3I6ICNhMDA3ZmY7XHJcbn1cclxuXHJcbi5idG4tcHJpbWFyeSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hcHAtY29sb3IpICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWFwcC1jb2xvcikgIWltcG9ydGFudDtcclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSSw2Q0FBNkM7SUFDN0MseUNBQXlDO0FBQzdDXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjpyb290e1xcclxcbiAgICAtLWFwcC1jb2xvcjogI2EwMDdmZjtcXHJcXG59XFxyXFxuXFxyXFxuLmJ0bi1wcmltYXJ5IHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYXBwLWNvbG9yKSAhaW1wb3J0YW50O1xcclxcbiAgICBib3JkZXItY29sb3I6IHZhcigtLWFwcC1jb2xvcikgIWltcG9ydGFudDtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD1VVEYtOCwlM2NzdmcgeG1sbnM9JTI3aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmclMjcgd2lkdGg9JTI3MTYwMCUyNyBoZWlnaHQ9JTI3MTk4JTI3JTNlJTNjZGVmcyUzZSUzY2xpbmVhckdyYWRpZW50IGlkPSUyN2ElMjcgeDE9JTI3NTAlMjUlMjcgeDI9JTI3NTAlMjUlMjcgeTE9JTI3LTEwLjk1OSUyNSUyNyB5Mj0lMjcxMDAlMjUlMjclM2UlM2NzdG9wIHN0b3AtY29sb3I9JTI3JTIzZmNjOTAwJTI3IHN0b3Atb3BhY2l0eT0lMjcuMjUlMjcgb2Zmc2V0PSUyNzAlMjUlMjcvJTNlJTNjc3RvcCBzdG9wLWNvbG9yPSUyNyUyM2ZjYzkwMCUyNyBvZmZzZXQ9JTI3MTAwJTI1JTI3LyUzZSUzYy9saW5lYXJHcmFkaWVudCUzZSUzYy9kZWZzJTNlJTNjcGF0aCBmaWxsPSUyN3VybCUyOCUyM2ElMjklMjcgZmlsbC1ydWxlPSUyN2V2ZW5vZGQlMjcgZD0lMjdNLjAwNSAxMjFDMzExIDEyMSA0MDkuODk4LS4yNSA4MTEgMGM0MDAgMCA1MDAgMTIxIDc4OSAxMjF2NzdIMHMuMDA1LTQ4IC4wMDUtNzd6JTI3LyUzZSUzYy9zdmclM2VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5jaWZyYS1wcmV2aWV3IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAxMTAxRDtcclxufVxyXG5cclxuLmNpZnJhLXByZXZpZXcgLmJveCB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHRvcDogMHB4O1xyXG4gICAgYm90dG9tOiAwcHg7XHJcbiAgICBsZWZ0OiAwcHg7XHJcbiAgICByaWdodDogMHB4O1xyXG59XHJcblxyXG4uY2lmcmEtcHJldmlldyAuYm94OmJlZm9yZSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBjb250ZW50OiAnJztcclxuICAgIHdpZHRoOiBjYWxjKDEwMCUgKyAzMHB4KTtcclxuICAgIGhlaWdodDogY2FsYygxMDAlICsgMzBweCk7XHJcbiAgICB0b3A6IDUwJTtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKC43KTtcclxuICAgIGZpbHRlcjogYmx1cigwKTtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgNDUwbXMgY3ViaWMtYmV6aWVyKDAuMjMsIDEsIDAuMzIsIDEpO1xyXG59XHJcblxyXG4uY2lmcmEtcHJldmlldyAuYm94OmhvdmVyOmJlZm9yZSB7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKTtcclxuICAgIGZpbHRlcjogYmx1cig1MHB4KTtcclxufVxyXG5cclxuLmNpZnJhLXByZXZpZXcgLmJveC1pbm5lciB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLmNpZnJhLXByZXZpZXcgLmJveDpiZWZvcmUsXHJcbi5jaWZyYS1wcmV2aWV3IC5ib3gtaW5uZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ0MDA5OTtcclxuICAgIGJveC1zaGFkb3c6IDJweCAycHggMTJweCAwIHJnYmEoMCwgMCwgMCwgMC41OCk7XHJcbiAgICAvKiBib3JkZXItcmFkaXVzOiAyMXB4OyAqL1xyXG5cclxuICAgIGJhY2tncm91bmQtaW1hZ2U6XHJcbiAgICAgICAgdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fX30pLFxyXG4gICAgICAgIHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX199KSxcclxuICAgICAgICB1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19ffSk7XHJcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7XHJcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDE2MDBweCA1MCU7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDEzMCUsIC01MHB4IDEzMCUsIDUwMHB4IDEzMCU7XHJcblxyXG4gICAgYW5pbWF0aW9uOiAyMHMgd2F2ZXMgbGluZWFyIGluZmluaXRlIGZvcndhcmRzO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHdhdmVzIHtcclxuICAgIHRvIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAxNjAwcHggMTMwJSwgMzE1MHB4IDEzMCUsIDUzMDBweCAxMzAlO1xyXG4gICAgfVxyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY2lmcmEvQ2lmcmFBbmltZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHVCQUF1QjtJQUN2QixhQUFhO0lBQ2IseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLFdBQVc7SUFDWCxZQUFZO0lBQ1osUUFBUTtJQUNSLFdBQVc7SUFDWCxTQUFTO0lBQ1QsVUFBVTtBQUNkOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCx3QkFBd0I7SUFDeEIseUJBQXlCO0lBQ3pCLFFBQVE7SUFDUixTQUFTO0lBQ1QsMENBQTBDO0lBQzFDLGVBQWU7SUFDZixVQUFVO0lBQ1Ysb0RBQW9EO0FBQ3hEOztBQUVBO0lBQ0kseUNBQXlDO0lBQ3pDLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsWUFBWTtBQUNoQjs7QUFFQTs7SUFFSSx5QkFBeUI7SUFDekIsOENBQThDO0lBQzlDLHlCQUF5Qjs7SUFFekI7OzsrQ0FHNGU7SUFDNWUsMkJBQTJCO0lBQzNCLDJCQUEyQjtJQUMzQixtREFBbUQ7O0lBRW5ELDZDQUE2QztBQUNqRDs7QUFFQTtJQUNJO1FBQ0ksMERBQTBEO0lBQzlEO0FBQ0pcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmNpZnJhLXByZXZpZXcge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgaGVpZ2h0OiAxMDB2aDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAxMTAxRDtcXHJcXG59XFxyXFxuXFxyXFxuLmNpZnJhLXByZXZpZXcgLmJveCB7XFxyXFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG4gICAgdG9wOiAwcHg7XFxyXFxuICAgIGJvdHRvbTogMHB4O1xcclxcbiAgICBsZWZ0OiAwcHg7XFxyXFxuICAgIHJpZ2h0OiAwcHg7XFxyXFxufVxcclxcblxcclxcbi5jaWZyYS1wcmV2aWV3IC5ib3g6YmVmb3JlIHtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICBjb250ZW50OiAnJztcXHJcXG4gICAgd2lkdGg6IGNhbGMoMTAwJSArIDMwcHgpO1xcclxcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSArIDMwcHgpO1xcclxcbiAgICB0b3A6IDUwJTtcXHJcXG4gICAgbGVmdDogNTAlO1xcclxcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSguNyk7XFxyXFxuICAgIGZpbHRlcjogYmx1cigwKTtcXHJcXG4gICAgb3BhY2l0eTogMTtcXHJcXG4gICAgdHJhbnNpdGlvbjogYWxsIDQ1MG1zIGN1YmljLWJlemllcigwLjIzLCAxLCAwLjMyLCAxKTtcXHJcXG59XFxyXFxuXFxyXFxuLmNpZnJhLXByZXZpZXcgLmJveDpob3ZlcjpiZWZvcmUge1xcclxcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKTtcXHJcXG4gICAgZmlsdGVyOiBibHVyKDUwcHgpO1xcclxcbn1cXHJcXG5cXHJcXG4uY2lmcmEtcHJldmlldyAuYm94LWlubmVyIHtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbn1cXHJcXG5cXHJcXG4uY2lmcmEtcHJldmlldyAuYm94OmJlZm9yZSxcXHJcXG4uY2lmcmEtcHJldmlldyAuYm94LWlubmVyIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ0MDA5OTtcXHJcXG4gICAgYm94LXNoYWRvdzogMnB4IDJweCAxMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjU4KTtcXHJcXG4gICAgLyogYm9yZGVyLXJhZGl1czogMjFweDsgKi9cXHJcXG5cXHJcXG4gICAgYmFja2dyb3VuZC1pbWFnZTpcXHJcXG4gICAgICAgIHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9VVRGLTgsJTNjc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzE2MDAnIGhlaWdodD0nMTk4JyUzZSUzY2RlZnMlM2UlM2NsaW5lYXJHcmFkaWVudCBpZD0nYScgeDE9JzUwJTI1JyB4Mj0nNTAlMjUnIHkxPSctMTAuOTU5JTI1JyB5Mj0nMTAwJTI1JyUzZSUzY3N0b3Agc3RvcC1jb2xvcj0nJTIzZmNjOTAwJyBzdG9wLW9wYWNpdHk9Jy4yNScgb2Zmc2V0PScwJTI1Jy8lM2UlM2NzdG9wIHN0b3AtY29sb3I9JyUyM2ZjYzkwMCcgb2Zmc2V0PScxMDAlMjUnLyUzZSUzYy9saW5lYXJHcmFkaWVudCUzZSUzYy9kZWZzJTNlJTNjcGF0aCBmaWxsPSd1cmwoJTIzYSknIGZpbGwtcnVsZT0nZXZlbm9kZCcgZD0nTS4wMDUgMTIxQzMxMSAxMjEgNDA5Ljg5OC0uMjUgODExIDBjNDAwIDAgNTAwIDEyMSA3ODkgMTIxdjc3SDBzLjAwNS00OCAuMDA1LTc3eicvJTNlJTNjL3N2ZyUzZVxcXCIpLFxcclxcbiAgICAgICAgdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD1VVEYtOCwlM2NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTYwMCcgaGVpZ2h0PScxOTgnJTNlJTNjZGVmcyUzZSUzY2xpbmVhckdyYWRpZW50IGlkPSdhJyB4MT0nNTAlMjUnIHgyPSc1MCUyNScgeTE9Jy0xMC45NTklMjUnIHkyPScxMDAlMjUnJTNlJTNjc3RvcCBzdG9wLWNvbG9yPSclMjNmY2M5MDAnIHN0b3Atb3BhY2l0eT0nLjI1JyBvZmZzZXQ9JzAlMjUnLyUzZSUzY3N0b3Agc3RvcC1jb2xvcj0nJTIzZmNjOTAwJyBvZmZzZXQ9JzEwMCUyNScvJTNlJTNjL2xpbmVhckdyYWRpZW50JTNlJTNjL2RlZnMlM2UlM2NwYXRoIGZpbGw9J3VybCglMjNhKScgZmlsbC1ydWxlPSdldmVub2RkJyBkPSdNLjAwNSAxMjFDMzExIDEyMSA0MDkuODk4LS4yNSA4MTEgMGM0MDAgMCA1MDAgMTIxIDc4OSAxMjF2NzdIMHMuMDA1LTQ4IC4wMDUtNzd6Jy8lM2UlM2Mvc3ZnJTNlXFxcIiksXFxyXFxuICAgICAgICB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PVVURi04LCUzY3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNjAwJyBoZWlnaHQ9JzE5OCclM2UlM2NkZWZzJTNlJTNjbGluZWFyR3JhZGllbnQgaWQ9J2EnIHgxPSc1MCUyNScgeDI9JzUwJTI1JyB5MT0nLTEwLjk1OSUyNScgeTI9JzEwMCUyNSclM2UlM2NzdG9wIHN0b3AtY29sb3I9JyUyM2ZjYzkwMCcgc3RvcC1vcGFjaXR5PScuMjUnIG9mZnNldD0nMCUyNScvJTNlJTNjc3RvcCBzdG9wLWNvbG9yPSclMjNmY2M5MDAnIG9mZnNldD0nMTAwJTI1Jy8lM2UlM2MvbGluZWFyR3JhZGllbnQlM2UlM2MvZGVmcyUzZSUzY3BhdGggZmlsbD0ndXJsKCUyM2EpJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnIGQ9J00uMDA1IDEyMUMzMTEgMTIxIDQwOS44OTgtLjI1IDgxMSAwYzQwMCAwIDUwMCAxMjEgNzg5IDEyMXY3N0gwcy4wMDUtNDggLjAwNS03N3onLyUzZSUzYy9zdmclM2VcXFwiKTtcXHJcXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14O1xcclxcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDE2MDBweCA1MCU7XFxyXFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDAgMTMwJSwgLTUwcHggMTMwJSwgNTAwcHggMTMwJTtcXHJcXG5cXHJcXG4gICAgYW5pbWF0aW9uOiAyMHMgd2F2ZXMgbGluZWFyIGluZmluaXRlIGZvcndhcmRzO1xcclxcbn1cXHJcXG5cXHJcXG5Aa2V5ZnJhbWVzIHdhdmVzIHtcXHJcXG4gICAgdG8ge1xcclxcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTYwMHB4IDEzMCUsIDMxNTBweCAxMzAlLCA1MzAwcHggMTMwJTtcXHJcXG4gICAgfVxcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5jaWZyYS12aWV3IC5tYXJjYWRvciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBiYWNrZ3JvdW5kOiByZWQ7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBwYWRkaW5nOiAycHggMTBweDtcclxuICAgIHotaW5kZXg6IC0xO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgdHJhbnNpdGlvbjogdG9wIDAuMnMsIGxlZnQgMC4ycywgd2lkdGggMC4ycywgaGVpZ2h0IDAuMnM7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcblxyXG4uY2lmcmEtdmlldyBiIHtcclxuICAgIGNvbG9yOiAjZjcwO1xyXG59XHJcblxyXG4uY2lmcmEtdmlldy5uby1jaG9yZHMgYiB7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcblxyXG59XHJcblxyXG4uY2lmcmEtdmlldy5uby1jaG9yZHMgLm1hcmNhZG9yIHtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuXHJcbn1cclxuXHJcbi5jaWZyYS12aWV3IGkge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmIzOTtcclxuICAgIGNvbG9yOiAjNTU1O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzMzMztcclxuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcclxufVxyXG5cclxuLmNpZnJhLXZpZXcgLnRpdHVsbyB7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBmb250LWZhbWlseTogUm9ib3RvO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hcHAtY29sb3IpO1xyXG4gICAgLypcclxuKiBDcmVhdGVkIHdpdGggaHR0cHM6Ly93d3cuY3NzLWdyYWRpZW50LmNvbVxyXG4qIEdyYWRpZW50IGxpbms6IGh0dHBzOi8vd3d3LmNzcy1ncmFkaWVudC5jb20vP2MxPTVlMjFjNyZjMj1hMzNjZDMmZ3Q9bCZnZD1kdGxcclxuKi9cclxuICAgIGJhY2tncm91bmQ6ICM1RTIxQzc7XHJcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNUUyMUM3LCAjQTMzQ0QzKTtcclxuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA3cHg7XHJcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA3cHg7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG59XHJcblxyXG4uY2lmcmEtdmlldyAub3B0aW9ucyB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG59XHJcblxyXG4uY2lmcmEtdmlldyAub3B0aW9ucyAuZm9ybS1jaGVjayB7XHJcbiAgICBtYXJnaW46IDVweDtcclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2NpZnJhL0NpZnJhVmlldy5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsV0FBVztJQUNYLGtCQUFrQjtJQUNsQix3REFBd0Q7SUFDeEQsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxzQkFBc0I7O0FBRTFCOztBQUVBO0lBQ0ksV0FBVztJQUNYLHNCQUFzQjs7QUFFMUI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsV0FBVztJQUNYLHNCQUFzQjtJQUN0QixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsbUJBQW1CO0lBQ25CLGlCQUFpQjtJQUNqQiw0QkFBNEI7SUFDNUI7OztDQUdIO0lBQ0csbUJBQW1CO0lBQ25CLHFEQUFxRDtJQUNyRCwrQkFBK0I7SUFDL0IsOEJBQThCO0lBQzlCLFdBQVc7SUFDWCxhQUFhO0lBQ2IsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksV0FBVztBQUNmXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5jaWZyYS12aWV3IC5tYXJjYWRvciB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgYmFja2dyb3VuZDogcmVkO1xcclxcbiAgICBjb2xvcjogd2hpdGU7XFxyXFxuICAgIHBhZGRpbmc6IDJweCAxMHB4O1xcclxcbiAgICB6LWluZGV4OiAtMTtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xcclxcbiAgICB0cmFuc2l0aW9uOiB0b3AgMC4ycywgbGVmdCAwLjJzLCB3aWR0aCAwLjJzLCBoZWlnaHQgMC4ycztcXHJcXG4gICAgZGlzcGxheTogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLmNpZnJhLXZpZXcgYiB7XFxyXFxuICAgIGNvbG9yOiAjZjcwO1xcclxcbn1cXHJcXG5cXHJcXG4uY2lmcmEtdmlldy5uby1jaG9yZHMgYiB7XFxyXFxuICAgIGNvbG9yOiAjZmZmO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcclxcblxcclxcbn1cXHJcXG5cXHJcXG4uY2lmcmEtdmlldy5uby1jaG9yZHMgLm1hcmNhZG9yIHtcXHJcXG4gICAgY29sb3I6ICNmZmY7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxyXFxuXFxyXFxufVxcclxcblxcclxcbi5jaWZyYS12aWV3IGkge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmYjM5O1xcclxcbiAgICBjb2xvcjogIzU1NTtcXHJcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzMzMztcXHJcXG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xcclxcbn1cXHJcXG5cXHJcXG4uY2lmcmEtdmlldyAudGl0dWxvIHtcXHJcXG4gICAgZm9udC1zaXplOiAxNnB4O1xcclxcbiAgICBmb250LWZhbWlseTogUm9ib3RvO1xcclxcbiAgICBmb250LXdlaWdodDogYm9sZDtcXHJcXG4gICAgYmFja2dyb3VuZDogdmFyKC0tYXBwLWNvbG9yKTtcXHJcXG4gICAgLypcXHJcXG4qIENyZWF0ZWQgd2l0aCBodHRwczovL3d3dy5jc3MtZ3JhZGllbnQuY29tXFxyXFxuKiBHcmFkaWVudCBsaW5rOiBodHRwczovL3d3dy5jc3MtZ3JhZGllbnQuY29tLz9jMT01ZTIxYzcmYzI9YTMzY2QzJmd0PWwmZ2Q9ZHRsXFxyXFxuKi9cXHJcXG4gICAgYmFja2dyb3VuZDogIzVFMjFDNztcXHJcXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzVFMjFDNywgI0EzM0NEMyk7XFxyXFxuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA3cHg7XFxyXFxuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDdweDtcXHJcXG4gICAgY29sb3I6ICNmZmY7XFxyXFxuICAgIHBhZGRpbmc6IDEwcHg7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XFxyXFxufVxcclxcblxcclxcbi5jaWZyYS12aWV3IC5vcHRpb25zIHtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmNpZnJhLXZpZXcgLm9wdGlvbnMgLmZvcm0tY2hlY2sge1xcclxcbiAgICBtYXJnaW46IDVweDtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAuaG9tZXBhZ2UgLm1lbnUge1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tYXBwLWNvbG9yKTtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDEwcHg7XHJcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAxMHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuLmhvbWVwYWdlIC5tZW51IGF7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2hvbWVwYWdlL0hvbWVQYWdlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLDRCQUE0QjtJQUM1QixXQUFXO0lBQ1gsZ0NBQWdDO0lBQ2hDLCtCQUErQjtJQUMvQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxXQUFXO0FBQ2ZcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmhvbWVwYWdlIC5tZW51IHtcXHJcXG4gICAgYmFja2dyb3VuZDogdmFyKC0tYXBwLWNvbG9yKTtcXHJcXG4gICAgY29sb3I6ICNmZmY7XFxyXFxuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAxMHB4O1xcclxcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAxMHB4O1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uaG9tZXBhZ2UgLm1lbnUgYXtcXHJcXG4gICAgY29sb3I6ICNmZmY7XFxyXFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICB1cmwgPSBTdHJpbmcodXJsLl9fZXNNb2R1bGUgPyB1cmwuZGVmYXVsdCA6IHVybCk7XG5cbiAgLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG4gIGlmICgvXlsnXCJdLipbJ1wiXSQvLnRlc3QodXJsKSkge1xuICAgIHVybCA9IHVybC5zbGljZSgxLCAtMSk7XG4gIH1cbiAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgIHVybCArPSBvcHRpb25zLmhhc2g7XG4gIH1cblxuICAvLyBTaG91bGQgdXJsIGJlIHdyYXBwZWQ/XG4gIC8vIFNlZSBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXZhbHVlcy0zLyN1cmxzXG4gIGlmICgvW1wiJygpIFxcdFxcbl18KCUyMCkvLnRlc3QodXJsKSB8fCBvcHRpb25zLm5lZWRRdW90ZXMpIHtcbiAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIiksIFwiXFxcIlwiKTtcbiAgfVxuICByZXR1cm4gdXJsO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsImltcG9ydCBQaUNsYXNzIGZyb20gJy4vY2xhc3MnXG5pbXBvcnQgUGlSZXF1ZXN0IGZyb20gJy4vcmVxdWVzdCdcbmltcG9ydCBQaVByb21pc2UgZnJvbSAnLi9wcm9taXNlJ1xuaW1wb3J0IFBpVHlwZSBmcm9tICcuL3R5cGUnXG5pbXBvcnQgUGlVcmwgZnJvbSAnLi91cmwnXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpQWN0aW9uIGV4dGVuZHMgUGlDbGFzcyB7XG4gICAgI3JlcXVlc3QgPSBuZXcgUGlSZXF1ZXN0KCk7XG4gICAgI3Byb21pc2UgPSBuZXcgUGlQcm9taXNlKCk7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpXG5cbiAgICAgICAgdGhpcy5fbG9hZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgYSBwcm9taXNlXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpUHJvbWlzZX1cbiAgICAgKi9cbiAgICBnZXQgcHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Byb21pc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hhZG93IG1ldGhvZFxuICAgICAqL1xuICAgIGludm9rZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxNb2RlbE1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIHByb2Nlc3NFcnJvclJlc3BvbnNlKCkge1xuICAgICAgICB0aGlzLiNwcm9taXNlLnJlamVjdC5hcHBseSh0aGlzLiNwcm9taXNlLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIHByb2Nlc3NTdWNjZXNzUmVzcG9uc2UoZGF0YSwgcGFnaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLl9pZ25vcmVfcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMuI3Byb21pc2UucmVzb2x2ZSh0aGlzLm1vZGVsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChQaVR5cGUuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgYXJyID0gW107XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMubW9kZWwuY3JlYXRlKCkuaW5pdFdpdGhKc29uKGRhdGFbaV0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1vZGVsIGluc3RhbmNlb2YgUGlQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLm9rKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChtb2RlbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2gobW9kZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb21pc2VzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jcHJvbWlzZS5yZXNvbHZlKGFyciwgcGFnaW5nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgUGlQcm9taXNlLndhaXQocHJvbWlzZXMpLm9rKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jcHJvbWlzZS5yZXNvbHZlKGFyciwgcGFnaW5nKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5tb2RlbC5jcmVhdGUoKS5pbml0V2l0aEpzb24oZGF0YSk7XG5cbiAgICAgICAgICAgIGlmIChtb2RlbCBpbnN0YW5jZW9mIFBpUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIG1vZGVsLm9rKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3Byb21pc2UucmVzb2x2ZShkYXRhLCBwYWdpbmcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNwcm9taXNlLnJlc29sdmUobW9kZWwsIHBhZ2luZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbG9hZCgpIHtcbiAgICAgICAgdGhpcy5fcGFyc2VTdG10KHRoaXMuYWN0aW9uU3RtdCk7XG4gICAgICAgIHRoaXMuX2FkZE1vZGVsTWV0aG9kKCk7XG4gICAgfVxuXG4gICAgX2FkZE1vZGVsTWV0aG9kKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzX3N0YXRpYykge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5jb25zdHJ1Y3Rvclt0aGlzLmFjdGlvbk5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IG5ldyBQaUFjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbk5hbWU6IHNlbGYubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU3RtdDogc2VsZi5zdG10LFxuICAgICAgICAgICAgICAgICAgICBtb2RlbDogc2VsZi5tb2RlbC5jbG9uZSgpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gYWN0aW9uLmludm9rZS5hcHBseShhY3Rpb24sIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChvaywgZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5vayhvayk7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tb2RlbFt0aGlzLmFjdGlvbk5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHNlbGYuaW52b2tlLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKG9rLCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHByb21pc2Uub2sob2spO1xuICAgICAgICAgICAgICAgIHByb21pc2UuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2NhbGxNb2RlbE1ldGhvZCguLi5hcmdzKSB7XG4gICAgICAgIHRoaXMuI3Byb21pc2UgPSBuZXcgUGlQcm9taXNlKCk7XG5cbiAgICAgICAgaWYgKFBpVHlwZS5pc09iamVjdChhcmdzWzBdKSkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5pbmplY3QoYXJnc1swXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbWV0aG9kID09ICdHRVQnIHx8IHRoaXMuX21ldGhvZCA9PSAnT1BUSU9OUycpIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVJlcXVlc3RHZXQuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbWV0aG9kID09ICdQVVQnIHx8IHRoaXMuX21ldGhvZCA9PSAnUE9TVCcgfHwgdGhpcy5fbWV0aG9kID09ICdERUxFVEUnIHx8IHRoaXMuX21ldGhvZCA9PSAnUEFUSCcpIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVJlcXVlc3RQb3N0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuI3Byb21pc2U7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVJlcXVlc3RHZXQoLi4uYXJncykge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5fY3JlYXRlVXJsKC4uLmFyZ3MpO1xuXG4gICAgICAgIGlmICh0aGlzLiNyZXF1ZXN0LmlzU2VuZGluZygpKSB7XG4gICAgICAgICAgICB0aGlzLiNyZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vZGVsLnJlcXVlc3RXaWxsR2V0KHVybCk7XG5cbiAgICAgICAgdGhpcy4jcmVxdWVzdC5nZXRKc29uKHVybClcbiAgICAgICAgICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5yZXNwb25zZVN1Y2Nlc3NXaWxsTG9hZC5hcHBseSh0aGlzLm1vZGVsLCBbdGhpcywgdXJsLCBqc29uLmRhdGEsIGpzb24ucGFnaW5nXSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChqc29uKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0gaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgYXJnc1swXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnJlc3BvbnNlRXJyb3JXaWxsTG9hZC5hcHBseSh0aGlzLm1vZGVsLCBbdGhpcywgdXJsLCBqc29uLmRhdGEsIGpzb24ucGFnaW5nXSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm1vZGVsLnJlcXVlc3REaWRHZXQodXJsKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlUmVxdWVzdFBvc3QoLi4uYXJncykge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5fY3JlYXRlVXJsKC4uLmFyZ3MpO1xuICAgICAgICBsZXQganNvbiA9IHRoaXMubW9kZWwudG9Kc29uKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuI3JlcXVlc3QuaXNTZW5kaW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuI3JlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW9kZWwucmVxdWVzdFdpbGxQb3N0KGpzb24sIHVybCk7XG4gICAgICAgIHRoaXMuI3JlcXVlc3Quc2V0TWV0aG9kKHRoaXMuX21ldGhvZCkucG9zdEpzb24odXJsLCBqc29uKVxuICAgICAgICAgICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnJlc3BvbnNlU3VjY2Vzc1dpbGxMb2FkLmFwcGx5KHRoaXMubW9kZWwsIFt0aGlzLCB1cmwsIGpzb24uZGF0YSwganNvbi5wYWdpbmddKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKCguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0gaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgYXJnc1swXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnJlc3BvbnNlRXJyb3JXaWxsTG9hZC5hcHBseSh0aGlzLm1vZGVsLCBbdGhpcywgdXJsLCBqc29uLmRhdGEsIGpzb24ucGFnaW5nXSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm1vZGVsLnJlcXVlc3REaWRQb3N0KGpzb24sIHVybCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVVybCguLi5hcmdzKSB7XG4gICAgICAgIGxldCBhY3Rpb24gPSB0aGlzLl9nZXRBY3Rpb24oLi4uYXJncyk7XG4gICAgICAgIGxldCB1cmwgPSAnJztcblxuICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXRCYXNlVXJsKCkgaW5zdGFuY2VvZiBQaVVybCkge1xuICAgICAgICAgICAgdXJsID0gUGlVcmwuY3JlYXRlKHRoaXMubW9kZWwuZ2V0QmFzZVVybCgpKS5wYXRoKGFjdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlbC5nZXRCYXNlVXJsKCkuaW5kZXhPZignaHR0cCcpID4gLTEpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBQaVVybC5jcmVhdGUodGhpcy5tb2RlbC5nZXRCYXNlVXJsKCkgKyBhY3Rpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBQaVVybC5jcmVhdGUoJ2xvY2FsaG9zdCcsIHRoaXMubW9kZWwuZ2V0QmFzZVVybCgpICsgYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuXG4gICAgX2dldEFjdGlvbiguLi5hcmdzKSB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3VybC5yZXBsYWNlKC9cXDpcXHcrW1xcKFxcdypcXCldKi9naSwgKHBhdHRlcm4pID0+IHtcbiAgICAgICAgICAgIGxldCBwcm9wZXJ0eSA9IHBhdHRlcm4uc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgbGV0IG1vZGVsVmFsdWUgPSB0aGlzLm1vZGVsW3Byb3BlcnR5XSB8fCAnJztcblxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWxWYWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChhcmdzW2NvdW50KytdIHx8IG1vZGVsVmFsdWUpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9wYXJzZVN0bXQoc3RtdCkge1xuICAgICAgICBjb25zdCBwID0gc3RtdC5zcGxpdCgnOi8nKTtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gcFswXTtcbiAgICAgICAgY29uc3QgcGF0aCA9IHBbMV07XG5cbiAgICAgICAgdGhpcy5faXNfc3RhdGljID0gZmFsc2U7XG4gICAgICAgIGlmIChtZXRob2QuaW5kZXhPZignc3RhdGljJykgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5faXNfc3RhdGljID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2lnbm9yZV9yZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICBpZiAobWV0aG9kLmluZGV4T2YoJ34nKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9pZ25vcmVfcmVzcG9uc2UgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXJsID0gcGF0aC5sZW5ndGggPyAnLycgKyBwYXRoIDogJyc7XG5cbiAgICAgICAgaWYgKHN0bXQudG9VcHBlckNhc2UoKS5pbmRleE9mKCdHRVQnKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRob2QgPSAnR0VUJztcbiAgICAgICAgfSBlbHNlIGlmIChzdG10LnRvVXBwZXJDYXNlKCkuaW5kZXhPZignUE9TVCcpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX21ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgfSBlbHNlIGlmIChzdG10LnRvVXBwZXJDYXNlKCkuaW5kZXhPZignUFVUJykgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fbWV0aG9kID0gJ1BVVCc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RtdC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ0RFTEVURScpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX21ldGhvZCA9ICdERUxFVEUnO1xuICAgICAgICB9IGVsc2UgaWYgKHN0bXQudG9VcHBlckNhc2UoKS5pbmRleE9mKCdQQVRIJykgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fbWV0aG9kID0gJ1BBVEgnO1xuICAgICAgICB9IGVsc2UgaWYgKHN0bXQudG9VcHBlckNhc2UoKS5pbmRleE9mKCdPUFRJT05TJykgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fbWV0aG9kID0gJ09QVElPTlMnO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3VybC5pbmRleE9mKCc/JykgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fbWV0aG9kID0gJ0dFVCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRob2QgPSAnUE9TVCc7XG4gICAgICAgIH1cbiAgICB9XG5cbn07IiwiaW1wb3J0IFBpRGljdGlvbmFyeSBmcm9tIFwiLi9kaWN0aW9uYXJ5XCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpQXMge1xuICAgICNhbGlhcyA9IG5ldyBQaURpY3Rpb25hcnkoKTtcblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIGEgbGlzdGEgZGUgcGFyYW1ldHJvcyBhbyBjb25qdW50b1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGFkZCgpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICB0aHJvdyBcIlBpQXM6IG51bWVybyBpbnN1bGZpY2llbnRlIGRlIHBhcmFtZXRyb3NcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLiNhbGlhcy5leGlzdEtleShhcmd1bWVudHNbMF0pKSB7XG4gICAgICAgICAgICB0aHJvdyBcIlBpQXM6IGVzdGUgYXBlbGlkbyBqYSBmb2kgZGVmaW5pZG86IFwiICsgYXJndW1lbnRzWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHZhbHVlID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBhcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuI2FsaWFzLmV4aXN0S2V5KGFzKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuI2FsaWFzLmdldFZhbHVlKGFzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gYXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiNhbGlhcy5hZGQoYXJndW1lbnRzWzBdLCB2YWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXR1YWxpemEgbyBjb25qdW50b1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICB0aHJvdyBcIlBpQXM6IG51bWVybyBpbnN1bGZpY2llbnRlIGRlIHBhcmFtZXRyb3NcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLiNhbGlhcy5leGlzdEtleShhcmd1bWVudHNbMF0pKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShhcmd1bWVudHNbMF0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHZhbHVlID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBhcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuI2FsaWFzLmV4aXN0S2V5KGFzKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuI2FsaWFzLmdldFZhbHVlKGFzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gYXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiNhbGlhcy5hZGQoYXJndW1lbnRzWzBdLCB2YWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHVtIGl0ZW0gZG8gY29uanVudG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXMgLSBJdGVtXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgcmVtb3ZlKGFzKSB7XG4gICAgICAgIHRoaXMuI2FsaWFzLnJlbW92ZShhcyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBzZSBleGlzdGUgbyBpdGVtIG5vIGNvbmp1bnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFzIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGV4aXN0KGFzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNhbGlhcy5leGlzdEtleShhcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBvIHZhbG9yIGRvIGl0ZW1cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXMgXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICBnZXRWYWx1ZShhcykge1xuICAgICAgICBsZXQgdiA9IHRoaXMuI2FsaWFzLmdldFZhbHVlKGFzKTtcblxuICAgICAgICBpZiAodGhpcy5leGlzdChhcykgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuI2FsaWFzLmV4aXN0S2V5KHYpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZSh2KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9XG4gICAgfVxuXG59OyIsImltcG9ydCBQaUNsYXNzIGZyb20gJy4vY2xhc3MnXG5pbXBvcnQgUGlVcmwgZnJvbSAnLi91cmwnXG5pbXBvcnQgeyByZWdpc3RlciwgbG9jYXRpb24gfSBmcm9tICcuL2VudidcbmltcG9ydCBQaVVybEhhc2ggZnJvbSAnLi91cmxfaGFzaCc7XG5cbmlmIChsb2NhdGlvbigpLmhvc3QubGVuZ3RoID09IDApIHtcbiAgICBQaVVybC5hZGQoJ2xvY2FsaG9zdCcsICdodHRwOi8vbG9jYWxob3N0Jyk7XG59IGVsc2Uge1xuICAgIFBpVXJsLmFkZCgnbG9jYWxob3N0JywgUGlVcmwuY3JlYXRlKGxvY2F0aW9uKCkudG9TdHJpbmcoKSkuaHJlZigpKTtcbn1cblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlBcHAgZXh0ZW5kcyBQaUNsYXNzIHtcbiAgICBwYWdlID0gbnVsbDtcbiAgICBzZXJ2aWNlcyA9IFtdO1xuICAgIF90b3RhbFJvdXRlTm90Rm91bmQgPSAwO1xuXG4gICAgaW5pdCgpe1xuICAgICAgICBzdXBlci5pbml0KCk7XG5cbiAgICAgICAgUGlVcmxIYXNoLm9uV2lsbENoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl90b3RhbFJvdXRlTm90Rm91bmQgPSAwO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZWdpc3RlcigpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNwbyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIHJlZ2lzdGVyKGNwbyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhZGRTZXJ2aWNlcygpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZpY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgICAgIHNlcnZpY2Uub25Sb3V0ZU5vdEZvdW5kKChyb3V0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RvdGFsUm91dGVOb3RGb3VuZCsrO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RvdGFsUm91dGVOb3RGb3VuZCA9PSB0aGlzLnNlcnZpY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNyb3V0ZU5vdEZvdW5kKHJvdXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlcy5wdXNoKHNlcnZpY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIFxuICAgIHN0YXJ0U2VydmljZXMoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZXJ2aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VydmljZSA9IHRoaXMuc2VydmljZXNbaV07XG4gICAgICAgICAgICBzZXJ2aWNlLnN0YXJ0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdG9wU2VydmljZXMoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZXJ2aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VydmljZSA9IHRoaXMuc2VydmljZXNbaV07XG4gICAgICAgICAgICBzZXJ2aWNlLnN0b3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNldFBhZ2UocGFnZSkge1xuICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFnZS5yZW5kZXIodGhpcy5lbGVtZW50KTtcblxuICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldFBhZ2UoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFnZTtcbiAgICB9XG5cbiAgICBvcGVuTW9kYWwobW9kYWwpIHtcbiAgICAgICAgbW9kYWwucmVuZGVyKHRoaXMuZWxlbWVudCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgI3JvdXRlTm90Rm91bmQocm91dGUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlcnZpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJ2aWNlID0gdGhpcy5zZXJ2aWNlc1tpXTtcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlLnJvdXRlTm90Rm91bmQpIHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlLnJvdXRlTm90Rm91bmQocm91dGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG59OyIsIi8qKlxuICogQGNsYXNzXG4gKiBAbmFtZSBQaUFycmF5XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpQXJyYXkge1xuICAgIHN0YXRpYyBhZGRNZXRob2QoYXJyYXksIG5hbWUsIGNiKSB7XG4gICAgICAgIGNvbnN0IGNicyA9IFtdO1xuICAgICAgICBpZiAoYXJyYXlbbmFtZV0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYnMucHVzaChjYik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXJyYXksIG5hbWUsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoLi4ucGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgY2IuY2FsbChhcnJheSwgLi4ucGFyYW1zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59OyIsImltcG9ydCBQaUNvbmZpZyBmcm9tICcuL2NvbmZpZydcbmltcG9ydCB7IGdsb2JhbCwgYXBwIH0gZnJvbSAnLi9lbnYnXG5pbXBvcnQgUGlBcHAgZnJvbSAnLi9hcHAnXG5pbXBvcnQgUGlUcmVlIGZyb20gJy4vdHJlZSdcbmltcG9ydCBQaVZpcnR1YWxUcmVlIGZyb20gJy4vdmlydHVhbF90cmVlJ1xuaW1wb3J0IFBpQ2xhc3MgZnJvbSAnLi9jbGFzcydcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlCb290IGV4dGVuZHMgUGlDbGFzcyB7XG5cbiAgICBjcmVhdGVBcHAoKSB7XG4gICAgICAgIGlmIChhcHAoKSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGdsb2JhbC5hcHAgPSBuZXcgUGlBcHAoKTtcbiAgICAgICAgICAgIGdsb2JhbC5hcHAuX3Njb3BlID0geyBjb250ZXh0OiBhcHAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbC5hcHAgPSBuZXcgQXBwKCk7XG4gICAgICAgICAgICBnbG9iYWwuYXBwLl9zY29wZSA9IHsgY29udGV4dDogYXBwIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2xvYmFsLmFwcDtcbiAgICB9XG5cbiAgICBsb2FkQXBwKCkge1xuICAgICAgICBpZiAoUGlDb25maWcuZ2V0KCdhcHAucGFyc2UuZW5hYmxlJykpIHtcbiAgICAgICAgICAgIHRoaXMuI2NyZWF0ZVZpcnR1YWxUcmVlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAjY3JlYXRlVmlydHVhbFRyZWUoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBpQ29uZmlnLmdldCgnYXBwLnBhcnNlLnNlbGVjdG9yJykpO1xuICAgICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBgUGlCb290OiBOw6NvIGZvaSBwb3Nzw612ZWwgZW5jb250cmFyIG8gZWxlbWVudG8gcGVsbyBzZWxldG9yIGluZm9ybWFkbyAke1BpQ29uZmlnLmdldCgnYXBwLnBhcnNlLnNlbGVjdG9yJyl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJvb3QgPSBQaVRyZWUucGFyc2UoZWxlbWVudC5pbm5lckhUTUwpO1xuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBlbGVtZW50LmFwcGVuZChyb290KTtcblxuICAgICAgICBjb25zdCB2dHJlZSA9IG5ldyBQaVZpcnR1YWxUcmVlKGVsZW1lbnQsIGFwcCgpLl9zY29wZSwgYXBwKCkpO1xuICAgICAgICB2dHJlZS5sb2FkKCk7XG5cbiAgICAgICAgYXBwKCkuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIGFwcCgpLiRlbGVtZW50ID0gJChlbGVtZW50KTtcbiAgICB9XG59OyIsImltcG9ydCBQaUJvb3QgZnJvbSAnLi9ib290J1xuaW1wb3J0IFBpSW5pdCBmcm9tICcuL2luaXRpYWxpemUnXG5pbXBvcnQgUGlDYWxsYmFjayBmcm9tICcuL2NhbGxiYWNrJ1xuaW1wb3J0IF8gZnJvbSAnLi9uYXRpdmVfZWxlbWVudCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm9vdHN0cmFwIHtcbiAgICAjaG9va3MgPSBuZXcgUGlDYWxsYmFjaygpO1xuXG4gICAgb25Jbml0KGZuKXtcbiAgICAgICAgdGhpcy4jaG9va3MuYWRkKCdpbml0JywgZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG9uTG9hZChmbil7XG4gICAgICAgIHRoaXMuI2hvb2tzLmFkZCgnbG9hZCcsIGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBvblJlYWR5KGZuKXtcbiAgICAgICAgdGhpcy4jaG9va3MuYWRkKCdyZWFkeScsIGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkKCkge1xuICAgICAgICBjb25zdCBib290ID0gbmV3IFBpQm9vdCgpO1xuICAgICAgICBsZXQgYXBwID0gbnVsbDtcblxuICAgICAgICBQaUluaXRcbiAgICAgICAgICAgIC5pbml0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNob29rcy50cmlnZ2VyKCdpbml0JywgYXBwKTtcbiAgICAgICAgICAgICAgICBhcHAgPSBib290LmNyZWF0ZUFwcCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGFydCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4jaG9va3MudHJpZ2dlcignbG9hZCcsIGFwcCk7XG4gICAgICAgICAgICAgICAgYm9vdC5sb2FkQXBwKCk7XG4gICAgICAgICAgICAgICAgdGhpcy4jaG9va3MudHJpZ2dlcigncmVhZHknLCBhcHApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBhd2FpdCBQaUluaXQubG9hZCgpO1xuICAgIH1cbn0iLCIvKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUNhbGxiYWNrIHtcbiAgICAjbGlzdCA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRvZG9zIG9zIGxpc3RlbmVyc1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaUNhbGxiYWNrfVxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLiNsaXN0ID0gW107XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW0gY2FsbGJhY2tcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5vbWUgZG8gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEZ1bsOnw6NvIGRlIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGN0eCAtIENvbnRleHRvIG9uZGUgbyBjYWxsYmFjayBzZXLDoSBjaGFtYWRvXG4gICAgICogQHJldHVybnMge1BpQ2FsbGJhY2t9XG4gICAgICovXG4gICAgYWRkKG5hbWUsIGZuLCBjdHgpIHtcbiAgICAgICAgaWYgKHRoaXMuI2xpc3RbbmFtZV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy4jbGlzdFtuYW1lXSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4jbGlzdFtuYW1lXS5wdXNoKHsgbmFtZTogbmFtZSwgZm46IGZuLCBjdHg6IGN0eCB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdW0gY2FsbGJhY2sgcG9yIG5vbWVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5vbWUgZG8gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7UGlDYWxsYmFja31cbiAgICAgKi9cbiAgICByZW1vdmUobmFtZSkge1xuICAgICAgICBpZiAoIXRoaXMuZXhpc3QobmFtZSkpIHJldHVybiB0aGlzO1xuXG4gICAgICAgIHRoaXMuI2xpc3RbbmFtZV0gPSBbXTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWZXJpZmljYSBzZSBleGlzdGUgdW0gY2FsbGJhY2sgYWRpY2lvbmFkb1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTm9tZSBkbyBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGV4aXN0KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2xpc3RbbmFtZV0gIT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5hIHVtYSBsaXN0YSBjb20gdG9kb3Mgb3MgY2FsbGJhY2tzIGFkaWNpb25hZG8gcGVsbyBub21lXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOb21lIGRvIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge2FycmF5fVxuICAgICAqL1xuICAgIGdldChuYW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5leGlzdChuYW1lKSkgcmV0dXJuIFtdO1xuICAgICAgICByZXR1cm4gdGhpcy4jbGlzdFtuYW1lXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBwYXJhIGdldChuYW1lKVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTm9tZSBkbyBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHthcnJheX1cbiAgICAgKi9cbiAgICBmaW5kQWxsKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KG5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3BhcmEgb3MgY2FsbGJhY2sgYWRpY2lvbmFkb3MgcGVsbyBub21lXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOb21lXG4gICAgICogQHBhcmFtICB7Li4uYW55fSBhcmdzIC0gTGlzdGEgZGUgcGFyYW1ldHJvcyBwYXNzYWRvIHBhcmEgbyBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgdHJpZ2dlcihuYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIGxldCBhcnIgPSB0aGlzLmZpbmRBbGwobmFtZSk7XG4gICAgICAgIGxldCByID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IGFycltpXTtcblxuICAgICAgICAgICAgciA9IGl0ZW0uZm4uYXBwbHkoaXRlbS5jdHgsIGFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxufTsiLCJpbXBvcnQgUGlUeXBlIGZyb20gXCIuL3R5cGVcIjtcbmltcG9ydCBQaU9iamVjdCBmcm9tIFwiLi9vYmplY3RcIlxuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUNsYXNzIHtcbiAgICAjcGFyYW1ldGVycyA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VzKC4uLmFyZ3MpO1xuXG4gICAgICAgIGlmIChQaVR5cGUuaXNPYmplY3QoYXJnc1swXSkpIHtcbiAgICAgICAgICAgIFBpT2JqZWN0LmV4dGVuZEFuZENhbGwodGhpcywgYXJnc1swXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiNwYXJhbWV0ZXJzID0gYXJnc1swXSA9PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3NbMF07XG5cbiAgICAgICAgdGhpcy5pbml0KC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIGluc3RhbmNlcygpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgbyBwYXJhbWV0cm8gZm9ybmVjaWRvIG5hIGNyaWHDp8OjbyBkbyBvYmpldG9cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIGdldCBwYXJhbWV0ZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcGFyYW1ldGVycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmpldGEgYXMgcHJvcHJpZWRhZGVzIGRvIG9iamV0b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7anNvbn0ganNvbiAtIE9iamV0byBhIHNlciBpbmpldGFkbyBubyBvYmpldG8gYXR1YWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBpbmplY3QoanNvbikge1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBqc29uKSB7XG4gICAgICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IGpzb25bcHJvcGVydHldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcblxuICAgIH1cblxuICAgIGpzb25XaWxsQ29udmVydCgpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRlIG8gb2JqZXRvIGVtIHVtIGpzb25cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRvSnNvbigpIHtcbiAgICAgICAgdGhpcy5qc29uV2lsbENvbnZlcnQoKTtcbiAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMpKTtcbiAgICAgICAgdGhpcy5qc29uRGlkQ29udmVydChqc29uKTtcblxuICAgICAgICByZXR1cm4ganNvbjtcbiAgICB9XG5cbiAgICBqc29uRGlkQ29udmVydChqc29uKSB7XG5cbiAgICB9XG5cbiAgICBjbG9uZVdpbGxMb2FkKCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvbmEgbyBvYmpldG8gYXR1YWxcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgdGhpcy5jbG9uZVdpbGxMb2FkKCk7XG4gICAgICAgIGxldCBqc29uID0gdGhpcy50b0pzb24oKTtcbiAgICAgICAgbGV0IGNsb25lID0gbmV3IHRoaXMuY29uc3RydWN0b3IoanNvbik7XG4gICAgICAgIHRoaXMuY2xvbmVEaWRMb2FkKGNsb25lKTtcblxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuXG4gICAgY2xvbmVEaWRMb2FkKCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JpYSB1bWEgbm92YSBpbnN0YW5jaWEgZGEgY2xhc3NlXG4gICAgICogXG4gICAgICogQHBhcmFtICB7Li4uYW55fSBhcmdzIFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoLi4uYXJncyk7XG4gICAgfVxuXG4gICAgY3JlYXRlKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKC4uLmFyZ3MpO1xuICAgIH1cbn07IiwiaW1wb3J0IFBpVHlwZSBmcm9tICcuL3R5cGUnXG5pbXBvcnQgUGlDbGFzcyBmcm9tIFwiLi9jbGFzc1wiO1xuaW1wb3J0IFBpRXZlbnQgZnJvbSBcIi4vZXZlbnRcIjtcbmltcG9ydCBQaVN0cmluZyBmcm9tICcuL3N0cmluZydcbmltcG9ydCBQaU1vZGVsIGZyb20gJy4vbW9kZWwnXG5pbXBvcnQgUGlPYmplY3QgZnJvbSAnLi9vYmplY3QnXG5pbXBvcnQgUGlUcmVlIGZyb20gXCIuL3RyZWVcIjtcbmltcG9ydCBQaVZpcnR1YWxUcmVlIGZyb20gXCIuL3ZpcnR1YWxfdHJlZVwiO1xuaW1wb3J0IHsgZ2xvYmFsIH0gZnJvbSAnLi9lbnYnXG5pbXBvcnQgeyByZWdpc3RlciB9IGZyb20gJy4vZW52JztcbmltcG9ydCBQaVByb21pc2UgZnJvbSAnLi9wcm9taXNlJztcbmltcG9ydCBQaVJhbmRvbSBmcm9tICcuL3JhbmRvbSc7XG5cbmNvbnN0ICQgPSBnbG9iYWwuJDtcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlDb21wb25lbnQgZXh0ZW5kcyBQaUNsYXNzIHtcbiAgICBldmVudCA9IG5ldyBQaUV2ZW50KCk7XG5cbiAgICAjdnRyZWVzID0gW107XG4gICAgI3dhdGNocyA9IFtdO1xuICAgICNzY29wZSA9IG51bGw7XG4gICAgIyRlbGVtZW50ID0gbnVsbDtcbiAgICAjaXNQYXJlbnRFbGVtZW50ID0gZmFsc2U7XG4gICAgI2VsZW1lbnRJZCA9ICcnO1xuXG4gICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICBzdXBlciguLi5hcmdzKTtcblxuICAgICAgICB0aGlzLiNzY29wZSA9IHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXNcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLiNlbGVtZW50SWQgPSBQaVJhbmRvbS51dWlkKCd4eC14eCcpO1xuICAgIH1cblxuICAgIGluaXQoLi4uYXJncykge1xuICAgICAgICBzdXBlci5pbml0KC4uLmFyZ3MpO1xuXG4gICAgICAgIHRoaXMuX2xvYWRQcm9taXNlID0gbmV3IFBpUHJvbWlzZSgpO1xuICAgICAgICB0aGlzLndpbGxMb2FkKHRoaXMuX2xvYWRQcm9taXNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmpldGEgbyBtb2RlbG8gZW0gdG9kb3Mgb3MgZWxlbWVudG9zIGRlIHBhZ2luYSBjb20gbyBhdHJpYnV0byAnZGF0YS1tb2RlbCdcbiAgICAgKiBDYXNvIG8gcGFyYW1ldHJvIHNlamEgdW0ganNvbiwgc2V1IHZhbG9yIHNlcsOhIGVtYnV0aWRvIG5vIGNvbXBvbmVudFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7UGlNb2RlbH0gbW9kZWwgLSBNb2RlbG8gYSBzZXIgaW5qZXRhZG9cbiAgICAgKiBAcmV0dXJucyB7UGlDb21wb25lbnR9XG4gICAgICovXG4gICAgaW5qZWN0KG1vZGVsKSB7XG4gICAgICAgIGlmIChtb2RlbCBpbnN0YW5jZW9mIFBpTW9kZWwpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gUGlTdHJpbmcuY2xpcHModGhpcy52aWV3LCAnZGF0YS1tb2RlbD1cIicsICdcIicpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBuYW1lc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vZGVsPVwiJyArIG5hbWUgKyAnXCJdJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBQaU9iamVjdC5leHRyYWN0VmFsdWUobW9kZWwsIG5hbWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuX2hhc0NvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Ll9jb21wb25lbnQuc2V0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZmlyc3RDaGlsZCAmJiBlbGVtZW50LmZpcnN0Q2hpbGQuX2hhc0NvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmZpcnN0Q2hpbGQuX2NvbXBvbmVudC5zZXQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdXBlci5pbmplY3QobW9kZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBvIHZhbG9yIHF1ZSByZXByZXNlbnRhIG8gY29tcG9uZW50XG4gICAgICogXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgdW0gdmFsb3IgcGFyYSBvIGNvbXBvbmVudFxuICAgICAqIERpc3BhcmEgbyBldmVudG8gJ2NoYW5nZSdcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlDb21wb25lbnR9XG4gICAgICovXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2NoYW5nZScsIHZhbHVlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXJhIHVtIGV2ZW50byBuYXRpdm8gc29icmUgbyBlbGVtZW50b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBOb21lIGRvIGV2ZW50b1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSAtIE9iamV0byBhIHNlciBwYXNzYWRvIHBlbG8gZXZlbnRvXG4gICAgICogQHJldHVybnMge1BpQ29tcG9uZW50fVxuICAgICAqL1xuICAgIGRpc3BhdGNoRXZlbnQoZXZlbnROYW1lLCBwYXJhbSwgbmV3RXZlbnQgPSB0cnVlKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXZlbnQgPSBwYXJhbTtcbiAgICAgICAgaWYgKG5ld0V2ZW50KSB7XG4gICAgICAgICAgICBldmVudCA9IG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHtcbiAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29tcG9zZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRldGFpbDogcGFyYW0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLiNpc1BhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB3cmFwcGVyIGpxdWVyeVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtqUXVlcnlFbGVtZW50fVxuICAgICAqL1xuICAgIGdldCAkZWxlbWVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuIyRlbGVtZW50KSByZXR1cm4gdGhpcy4jJGVsZW1lbnQ7XG4gICAgICAgIHJldHVybiB0aGlzLiMkZWxlbWVudCA9ICQodGhpcy5lbGVtZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJpemEgbyBlbGVtZW50byBhbmV4YW5kbyBvdSBpbnNlcmluZG8gbm8gZWxlbWVudG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50byBodG1sIG9uZGUgbyBjb21wb25lbnRlIHNlcsOhIHJlbmRlcml6YWRvXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhcHBlbmQgXG4gICAgICogQHJldHVybnMge1BpQ29tcG9uZW50fVxuICAgICAqL1xuICAgIHJlbmRlcihlbGVtZW50LCBhcHBlbmQgPSBmYWxzZSkge1xuICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mICQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LmdldCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWRQcm9taXNlLm9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4jbG9hZEF0dHJpYnV0ZXMoZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50Lm1vdW50KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5tb3VudCh0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy52aWV3V2lsbExvYWQoKTtcbiAgICAgICAgICAgIHRoaXMudmlld1dpbGxSZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMudmlld1JlbmRlcihlbGVtZW50LCBhcHBlbmQpO1xuICAgICAgICAgICAgdGhpcy52aWV3RGlkUmVuZGVyKCk7XG4gICAgICAgICAgICB0aGlzLiNsaXN0ZW4oKTtcbiAgICAgICAgICAgIHRoaXMudmlld0RpZExvYWQoKTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuZGlkTW91bnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmRpZE1vdW50KHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWlkJywgdGhpcy4jZWxlbWVudElkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0IGlzUmVuZGVyZWQoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtaWQ9XCIke3RoaXMuI2VsZW1lbnRJZH1cIl1gKTtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNvbnRhaW5zKGVsZW1lbnRvKTtcbiAgICB9XG5cbiAgICB3aWxsTG9hZChwcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGRpZExvYWQoKSB7XG5cbiAgICB9XG5cbiAgICB2aWV3V2lsbExvYWQoKSB7XG5cbiAgICB9XG5cbiAgICB2aWV3V2lsbFJlbmRlcigpIHtcblxuICAgIH1cblxuICAgIHZpZXdEaWRSZW5kZXIoKSB7XG5cbiAgICB9XG5cbiAgICB2aWV3UmVuZGVyKGVsZW1lbnQsIGFwcGVuZCA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghYXBwZW5kKSB7XG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLmxvYWRWaWV3KHRoaXMudmlldywgZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRzWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMuI2lzUGFyZW50RWxlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuI2lzUGFyZW50RWxlbWVudCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2aWV3RGlkTG9hZCgpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vbml0b3JhIGFsdGVyYcOnw6NvIHNvYnJlIHByb3ByaWVkYWRlIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSAtIE5vbWUgZGEgcHJvcHJpZWRhZGUgYSBzZXIgbW9uaXRvcmFkYVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRnVuw6fDo28gZGUgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHdhdGNoKHByb3BlcnR5LCBmbikge1xuICAgICAgICBjb25zdCBpZHMgPSBQaU9iamVjdC5vbih0aGlzLiNzY29wZSwgJ2NvbnRleHQuJyArIHByb3BlcnR5LCBmbilcbiAgICAgICAgdGhpcy4jd2F0Y2hzID0gdGhpcy4jd2F0Y2hzLmNvbmNhdCh7XG4gICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXG4gICAgICAgICAgICBpZHM6IGlkc1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJhIGRlIG1vbml0b3JhciB1bWEgcHJvcHJpZWFkZSBkbyBjb250ZXh0b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSAtIE5vbWUgZGEgcHJvcHJpZWRhZGVcbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHVuV2F0Y2gocHJvcGVydHkpIHtcbiAgICAgICAgY29uc3QgYXJyID0gdGhpcy4jd2F0Y2hzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYXJyW2ldLnByb3BlcnR5ID09IHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgUGlPYmplY3Qub2ZmKHRoaXMuI3Njb3BlLCBhcnJbaV0uaWRzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4jdnRyZWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2dHJlZSA9IHRoaXMuI3Z0cmVlc1tpXTtcbiAgICAgICAgICAgIHZ0cmVlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiN2dHJlZXMgPSBbXTtcblxuICAgICAgICB0aGlzLiNjbGVhckNvbnRleHRXYXRjaCgpO1xuICAgIH1cblxuICAgIGxvYWRWaWV3KHZpZXcsIGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IFBpVHJlZS5wYXJzZSh2aWV3KTtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICBmb3IgKDsgcm9vdC5jaGlsZEVsZW1lbnRDb3VudDspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gcm9vdC5jaGlsZHJlblswXTtcbiAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKGNoaWxkKTtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4jbG9hZFRyZWUoY2hpbGRyZW4pO1xuXG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG5cbiAgICAjbG9hZFRyZWUodHJlZSkge1xuICAgICAgICBjb25zdCB2dHJlZSA9IG5ldyBQaVZpcnR1YWxUcmVlKHRyZWUsIHRoaXMuI3Njb3BlLCB0aGlzKTtcbiAgICAgICAgdnRyZWUubG9hZCgpO1xuICAgICAgICB0aGlzLiN2dHJlZXMucHVzaCh2dHJlZSk7XG4gICAgfVxuXG4gICAgI2xpc3RlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHtcbiAgICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09ICdjaGlsZExpc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG11dGF0aW9uLmFkZGVkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLiNsb2FkVHJlZShlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgICAgYXR0cmlidXRlczogZmFsc2UsXG4gICAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiBmYWxzZSxcbiAgICAgICAgICAgIHN1YnRyZWU6IGZhbHNlLFxuICAgICAgICAgICAgYXR0cmlidXRlT2xkVmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAjY2xlYXJDb250ZXh0V2F0Y2goKSB7XG4gICAgICAgIGxldCBpZHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI3dhdGNocy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWRzID0gaWRzLmNvbmNhdCh0aGlzLiN3YXRjaHNbaV0uaWRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFBpT2JqZWN0Lm9mZih0aGlzLiNzY29wZSwgaWRzKTtcbiAgICAgICAgdGhpcy4jd2F0Y2hzID0gW107XG4gICAgfVxuXG4gICAgI2xvYWRBdHRyaWJ1dGVzKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlTmFtZXMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhdHRycyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTmFtZXMoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gYXR0cnNbaV07XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcblxuICAgICAgICAgICAgaWYgKG5hbWUuaW5kZXhPZigncHJvcC0nKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChQaVR5cGUuaXNTdHJpbmcodmFsdWUpICYmIChQaVR5cGUuaXNPYmplY3QodmFsdWUpIHx8IFBpVHlwZS5pc0FycmF5KHZhbHVlKSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjbmFtZSA9IG5hbWUucmVwbGFjZSgncHJvcC0nLCAnJyk7XG4gICAgICAgICAgICB0aGlzW2NuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlZ2lzdGVyKGNwbykge1xuICAgICAgICByZWdpc3RlcihjcG8pO1xuICAgIH1cbn0iLCJpbXBvcnQgUGlPYmplY3QgZnJvbSBcIi4vb2JqZWN0XCI7XG5pbXBvcnQgeyByZWdpc3RlciB9IGZyb20gXCIuL2VudlwiO1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgICBhcHA6IHtcbiAgICAgICAgcGFyc2U6IHtcbiAgICAgICAgICAgIGVuYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnYm9keSdcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaHRtbDoge1xuICAgICAgICBsb2FkZXI6ICdDYXJyZWdhbmRvIC4uLidcbiAgICB9LFxuICAgIGV4cHJlc3Npb246IHtcbiAgICAgICAgeGxhbmd1YWdlOiAvKFxcez4/KShbXlxcfV0rKShcXH0pL2dpLFxuICAgICAgICB4dmFyaWFibGU6IC8oQCkoW1xcd1xcLl0rKS9naSxcbiAgICAgICAgeGh0bWw6IC8oXFx7PikoW15cXH1dKykoXFx9KS9naSxcbiAgICB9LFxuICAgIGhpc3Rvcnk6IHtcbiAgICAgICAgcG9wc3RhdGU6IGZhbHNlLFxuICAgICAgICBwcmVmaXhIYXNodGFnOiB0cnVlXG4gICAgfSxcbiAgICBzZXJ2aWNlczogW10sXG4gICAgcmVxdWVzdDoge1xuICAgICAgICBmZXRjaDogbnVsbFxuICAgIH1cbn07XG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmNsYXNzIFBpQ29uZmlnIHtcbiAgICAvKipcbiAgICAgKiBEZWZpbmUgdW1hIGNvbmZpZ3VyYcOnw6NvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFBhcmFtZXRybyBkYSBjb25maWd1cmHDp8Ojb1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZSAtIFZhbG9yIGRhIGNvbmZpZ3VyYcOnw6NvXG4gICAgICogQHJldHVybnMge1BpQ29uZmlnfVxuICAgICAqL1xuICAgIHN0YXRpYyBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBQaU9iamVjdC5zZXRQcm9wZXJ0eShkZWZhdWx0cywga2V5LCB2YWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIFBpQ29uZmlnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgdW1hIGNvbmZpZ3VyYcOnw6NvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFBhdGggZGEgY29uZmlndXJhw6fDo29cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fHxzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGdldChrZXkpIHtcbiAgICAgICAgcmV0dXJuIFBpT2JqZWN0LmV4dHJhY3RWYWx1ZShkZWZhdWx0cywga2V5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FycmVnYSB1bSBjb25qdW50byBkZSBjb25maWd1cmHDp8O1ZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgLSBPYmpldG8gY29udGVuZG8gY29uZmlndXJhw6fDtWVzXG4gICAgICogQHJldHVybnMge1BpQ29uZmlnfVxuICAgICAqL1xuICAgIHN0YXRpYyBsb2FkKHNldHRpbmdzKSB7XG4gICAgICAgIFBpT2JqZWN0LmV4dGVuZChkZWZhdWx0cywgc2V0dGluZ3MpO1xuICAgICAgICByZXR1cm4gUGlDb25maWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVzY2xhIGEgY29uZmlndXJhw6fDo28gYXR1YWwgY29tIGEgbm92YSBjb25maWd1cmHDp8OjbyBpbmZvcm1hZGEgcG9yIHBhcmFtZXRyb1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyAtIENvbmZpZ3VyYcOnw6NvXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHZhbHVlIC0gVmFsb3IgZGEgY29uZmlndXJhw6fDo29cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIHN0YXRpYyBleHRlbmQoc2V0dGluZ3MsIHZhbHVlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHZhbHVlID09IGZhbHNlKSByZXR1cm4gUGlPYmplY3QuZXh0ZW5kKGRlZmF1bHRzLCBzZXR0aW5ncyk7XG4gICAgICAgIGVsc2UgcmV0dXJuIFBpT2JqZWN0LmV4dGVuZChkZWZhdWx0cywgeyBzZXR0aW5nczogdmFsdWUgfSk7XG4gICAgfVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCBQaUNvbmZpZztcblxucmVnaXN0ZXIoUGlDb25maWcpOyIsIi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpRGljdGlvbmFyeSB7XG4gICAgI2xpc3QgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIG8gcGFyIGNoYXZlIHZhbG9yXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENoYXZlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVmFsb3JcbiAgICAgKiBAcmV0dXJucyB7UGlEaWN0aW9uYXJ5fVxuICAgICAqL1xuICAgIGFkZChrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuI2xpc3Rba2V5XSA9IHZhbHVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZlcmlmaWNhIHNlIGV4aXN0ZSBhIGNoYXZlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENoYXZlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZXhpc3RLZXkoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNsaXN0W2tleV0gIT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZlcmlmaWNhIHNlIGV4aXN0ZSBvIHZhbG9yXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVmFsb3JcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBleGlzdFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLiNsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4jbGlzdFtpXSA9PSB2YWx1ZSkgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBvIHZhbG9yXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENoYXZlXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRWYWx1ZShrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2xpc3Rba2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjaGF2ZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBDaGF2ZVxuICAgICAqIEByZXR1cm5zIHtQaURpY3Rpb25hcnl9XG4gICAgICovXG4gICAgcmVtb3ZlKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy4jbGlzdFtrZXldO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpbXBhIG8gZGljaW9uYXJpb1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaURpY3Rpb25hcnl9XG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuI2xpc3QgPSBbXTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IG8gZGljaW9uYXJpbyBlbSBhcnJheVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHthcnJheX1cbiAgICAgKi9cbiAgICB0b0FycmF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jbGlzdDtcbiAgICB9XG5cbn07IiwiaW1wb3J0IFBpT2JqZWN0IGZyb20gXCIuL29iamVjdFwiO1xuaW1wb3J0IFBpRXhwcmVzc2lvbiBmcm9tIFwiLi9leHByZXNzaW9uXCI7XG5pbXBvcnQgUGlTdGF0ZW1lbnQgZnJvbSBcIi4vc3RhdGVtZW50XCI7XG5pbXBvcnQgUGlWaXJ0dWFsVHJlZSBmcm9tIFwiLi92aXJ0dWFsX3RyZWVcIjtcbmltcG9ydCBQaUZvckRpcmVjdGl2ZSBmcm9tICcuL2Zvcl9kaXJlY3RpdmUnXG5pbXBvcnQgUGlGb3JFYWNoRGlyZWN0aXZlIGZyb20gJy4vZm9yZWFjaF9kaXJlY3RpdmUnXG5pbXBvcnQgUGlBcnJheSBmcm9tIFwiLi9hcnJheVwiO1xuaW1wb3J0IHsgZmluZENsYXNzLCBnZXRDbGFzc2VzIH0gZnJvbSBcIi4vZW52XCI7XG5pbXBvcnQgUGlUeXBlIGZyb20gXCIuL3R5cGVcIjtcbmltcG9ydCBQaUNvbmZpZyBmcm9tICcuL2NvbmZpZydcbmltcG9ydCBQaVByb21pc2UgZnJvbSAnLi9wcm9taXNlJ1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUVsZW1lbnQge1xuICAgIC8qKlxuICAgICAqIENvbnN0cm9pIFBpRWxlbWVudCBiYXNlYWRvIG5vIGVsZW1lbnRvIGh0bWxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50byBodG1sXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtzY29wZSA9IHtjb250ZXh0OiB7fX1dIC0gQ2xhc3NlIGRlIGVzY29wb1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHNjb3BlID0geyBjb250ZXh0OiB7fSB9LCBjb21wb25lbnRQYXJlbnQgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICAgIHRoaXMuX2F0dHJOYW1lcyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTmFtZXMoKTtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2RpcmVjdGl2ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fYXV0b0JpbmQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuX2NvbXBvbmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuX2hhc0NvbXBvbmVudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9lbGVtZW50Ll9jb21wb25lbnRQYXJlbnQgPSBjb21wb25lbnRQYXJlbnQ7XG5cbiAgICAgICAgdGhpcy5fZm9yZWFjaENvbnRleHQgPSB7fTtcblxuICAgICAgICB0aGlzLl9kZWZhdWx0VmFyaWFibGVzTmFtZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFZhcmlhYmxlc1ZhbHVlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMuX3Njb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMuX3dhdGNocyA9IFtdO1xuICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSB7XG4gICAgICAgICAgICAnZW50ZXInOiB0aGlzLl9ldmVudEVudGVyXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fb3JkZXJBdHRyaWJ1dGVOYW1lcygpO1xuICAgICAgICB0aGlzLl9sb2FkRGlyZWN0aXZlc0Jhc2UoKTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50Ll9waWUgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gQWRpY2lvbmEgcHJvcHJpZWRhZGUgYW8gY29udGV4dG8gZG8gZm9yZWFjaFxuICAgICAqIEBwYXJhbSB7b2JqfSB2YWx1ZSAtIE9iamV0byBhc3NvY2lhZG8gYSBwcm9wcmllZGFkZSBkZSBjb250ZXh0byBkbyBmb3JlYWNoXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBhZGRGb3JlYWNoQ29udGV4dChuYW1lLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9mb3JlYWNoQ29udGV4dFtuYW1lXSA9IHZhbHVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNldENvbXBvbmVudChjeCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50Ll9oYXNDb21wb25lbnQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9lbGVtZW50Ll9jb21wb25lbnQgPSBjeDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBleHRlbmRGb3JlYWNoQ29udGV4dChmb3JlYWNoQ29udGV4dCkge1xuICAgICAgICBQaU9iamVjdC5leHRlbmQodGhpcy5fZm9yZWFjaENvbnRleHQsIGZvcmVhY2hDb250ZXh0KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb25pdG9yYSBhbHRlcmHDp8OjbyBzb2JyZSBwcm9wcmllZGFkZSBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlOYW1lIC0gTm9tZSBkYSBwcm9wcmllZGFkZSBhIHNlciBtb25pdG9yYWRhXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBkZSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgd2F0Y2gocHJvcGVydHlOYW1lLCBmbikge1xuICAgICAgICB0aGlzLl9hZGRDb250ZXh0V2F0Y2gocHJvcGVydHlOYW1lLCBmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyYSBkZSBtb25pdG9yYXIgdW1hIHByb3ByaWVhZGUgZG8gY29udGV4dG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlOYW1lIC0gTm9tZSBkYSBwcm9wcmllZGFkZVxuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgdW5XYXRjaChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlQ29udGV4dFdhdGNoKHByb3BlcnR5TmFtZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FycmVnYSBlIGFuYWxpc2EgdG9kYXMgYXMgZGlyZXRpdmFzIGp1bnRhbWVudGUgY29tIG8gdGVtcGxhdGVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIGxvYWQod3JhcHBlcikge1xuICAgICAgICB0aGlzLl9sb2FkRGVmYXVsdFZhcmlhYmxlcygpO1xuICAgICAgICB0aGlzLl9ydW5EaXJlY3RpdmVzKHdyYXBwZXIpO1xuICAgICAgICB0aGlzLl9sb2FkVGVtcGxhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfbG9hZERlZmF1bHRWYXJpYWJsZXMoKSB7XG4gICAgICAgIGxldCB2YXJpYWJsZXNGb3JlYWNoTmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLl9mb3JlYWNoQ29udGV4dCk7XG4gICAgICAgIGxldCB2YXJpYWJsZXNGb3JlYWNoVmFsdWVzID0gT2JqZWN0LnZhbHVlcyh0aGlzLl9mb3JlYWNoQ29udGV4dCk7XG4gICAgICAgIGxldCBjb250ZXh0UHJvcGVydHlOYW1lcyA9IFtdO1xuICAgICAgICBsZXQgY29udGV4dFByb3BlcnR5VmFsdWVzID0gW107XG5cbiAgICAgICAgY29uc3QgY3BvID0gdGhpcy5fZWxlbWVudC5fY29tcG9uZW50UGFyZW50O1xuICAgICAgICBpZiAoY3BvICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRleHRQcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY3BvLl9fcHJvdG9fXyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRleHRQcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNwb1tjb250ZXh0UHJvcGVydHlOYW1lc1tpXV0gaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0UHJvcGVydHlWYWx1ZXMucHVzaChjcG9bY29udGV4dFByb3BlcnR5TmFtZXNbaV1dLmJpbmQoY3BvKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGVmYXVsdFZhcmlhYmxlc05hbWVzID0gdmFyaWFibGVzRm9yZWFjaE5hbWVzLmNvbmNhdChjb250ZXh0UHJvcGVydHlOYW1lcyk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRWYXJpYWJsZXNWYWx1ZXMgPSB2YXJpYWJsZXNGb3JlYWNoVmFsdWVzLmNvbmNhdChjb250ZXh0UHJvcGVydHlWYWx1ZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIHVtYSBkaXJlY3RpdmEgcGFyYSB1bSBhdHJpYnV0byBkbyBlbGVtZW50b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gbm9tZSBkYSBkaXJldGl2YVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRnVuw6fDo28gZGUgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBhZGREaXJlY3RpdmUobmFtZSwgZm4pIHtcbiAgICAgICAgdGhpcy5fZGlyZWN0aXZlc1tuYW1lXSA9IGZuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgc2UgZXhpc3RlIHVtYSBkaXJldGl2YSBhZGljaW9uYWRhIHBlbG8gc2V1IG5vbWVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5vbWUgZGEgZGlyZXRpdmFcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBleGlzdERpcmVjdGl2ZShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXJlY3RpdmVzW25hbWVdICE9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB3cmFwcGVyIGpxdWVyeVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtqUXVlcnlFbGVtZW50fVxuICAgICAqL1xuICAgIGdldCAkKCkge1xuICAgICAgICBpZiAodGhpcy5fJGVsZW1lbnQpIHJldHVybiB0aGlzLl8kZWxlbWVudDtcbiAgICAgICAgcmV0dXJuIHRoaXMuXyRlbGVtZW50ID0gJCh0aGlzLl9lbGVtZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBwYXJhIGxpc3RlblxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBOb21lIGRvIGV2ZW50b1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRnVuw6fDo28gZGUgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IGFyZ3MgLSBBcmd1bWVudG9zIGVudmlhZG9zIGFvIGNhbGxiYWNrIHF1YW5kbyBvY29ycmVyIG8gZXZlbnRvXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBvbihldmVudE5hbWUsIGZuLCAuLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbihldmVudE5hbWUsIGZuLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBfZXZlbnRFbnRlcihmbiwgLi4uYXJncykge1xuICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHtcbiAgICAgICAgICAgICAgICBmbi5hcHBseSh0aGlzLCBbZSwgLi4uYXJnc10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfZXZlbnREZWZhdWx0KGV2ZW50TmFtZSwgZm4sIC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgKGUpID0+IHtcbiAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIFtlLCAuLi5hcmdzXSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIHVtIGNhbGxiYWNrIHNvYnJlIHVtIGV2ZW50byBkbyBlbGVtZW50b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBOb21lIGRvIGV2ZW50b1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRnVuw6fDo28gZGUgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IGFyZ3MgLSBBcmd1bWVudG9zIGVudmlhZG9zIGFvIGNhbGxiYWNrIHF1YW5kbyBvY29ycmVyIG8gZXZlbnRvXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBsaXN0ZW4oZXZlbnROYW1lLCBmbiwgLi4uYXJncykge1xuICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuX2V2ZW50c1tldmVudE5hbWVdO1xuXG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQuY2FsbCh0aGlzLCBmbiwgLi4uYXJncyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9ldmVudERlZmF1bHQoZXZlbnROYW1lLCBmbiwgLi4uYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBwYXJhIHVubGlzdGVuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBkZSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgb2ZmKGV2ZW50TmFtZSwgZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5saXN0ZW4oZXZlbnROYW1lLCBmbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGNhbGxiYWNrIHNvYnJlIHVtIGV2ZW50byBkbyBlbGVtZW50b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBOb21lIGRvIGV2ZW50b1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRnVuw6fDo28gZGUgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHVubGlzdGVuKGV2ZW50TmFtZSwgZm4pIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9kaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBlbGVtZW50byBkbyBET01cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Rpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fY2xlYXJDb250ZXh0V2F0Y2goKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcmUgZWxlbWVudG8gZGVwb2lzXG4gICAgICogXG4gICAgICogQHBhcmFtIHtQaUVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50byBhIHNlciBpbnNlcmlkb1xuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgaW5zZXJ0QmVmb3JlKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlbGVtZW50Ll9lbGVtZW50LCB0aGlzLl9lbGVtZW50Lm5leHRFbGVtZW50U2libGluZyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJlIGVsZW1lbnRvIGFudGVzXG4gICAgICogXG4gICAgICogQHBhcmFtIHtQaUVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50byBhIHNlciBpbnNlcmlkb1xuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgaW5zZXJ0QWZ0ZXIoZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW1lbnQuX2VsZW1lbnQsIHRoaXMuX2VsZW1lbnQubmV4dFNpYmxpbmcpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIHVtIGVsZW1lbnRvIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7UGlFbGVtZW50fSBlbGVtZW50IFxuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgYXBwZW5kKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZChlbGVtZW50Ll9lbGVtZW50KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRhIHVtYSBzdGF0ZW1lbnQgZGVudHJvIGRvIGNvbnRleHRvIHNlbXByZSBxdWUgbyBldmVudG8gYXNzb2NpYWRvIGZvciBkaXNwYXJhZG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RhdGVtZW50IC0gU3RhdGVtZW50IGV4ZWN1dGFkYSBzZW1wcmUgcXVlIG8gb2NvcnJlciBvIGV2ZW50b1xuICAgICAqIEBwYXJhbSB7c3RyaW59IGV2ZW50IC0gTm9tZSBkbyBldmVudG8gYSBzZXIgb2JzZXJ2YWRvXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBhZGRFdmVudFN0YXRlbWVudChzdGF0ZW1lbnQsIF8sIGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSBuZXcgUGlFeHByZXNzaW9uKHN0YXRlbWVudCk7XG5cbiAgICAgICAgdGhpcy5saXN0ZW4oZXZlbnQsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRDb250ZXh0KCk7XG4gICAgICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG5cbiAgICAgICAgICAgIHZhcmlhYmxlc1swXS5wdXNoKCckZXZlbnQnKTtcbiAgICAgICAgICAgIHZhcmlhYmxlc1sxXS5wdXNoKGUpO1xuXG4gICAgICAgICAgICBjb25zdCBzdG10ID0gZXhwcmVzc2lvbi5wYXJzZShjdHgsIHZhcmlhYmxlcyk7XG5cbiAgICAgICAgICAgIHJldHVybiBQaVN0YXRlbWVudC5leGVjV2l0aFZhcmlhYmxlcyhzdG10LCB2YXJpYWJsZXMsIGN0eCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNldENoYW5nZURpcmVjdGl2ZShzdGF0ZW1lbnQpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IG5ldyBQaUV4cHJlc3Npb24oc3RhdGVtZW50KTtcblxuICAgICAgICB0aGlzLmxpc3RlbignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKTtcblxuICAgICAgICAgICAgdmFyaWFibGVzWzBdLnB1c2goJyRldmVudCcpO1xuICAgICAgICAgICAgdmFyaWFibGVzWzFdLnB1c2goZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0bXQgPSBleHByZXNzaW9uLnBhcnNlKGN0eCwgdmFyaWFibGVzKTtcblxuICAgICAgICAgICAgcmV0dXJuIFBpU3RhdGVtZW50LmV4ZWNXaXRoVmFyaWFibGVzKHN0bXQsIHZhcmlhYmxlcywgY3R4KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBvIHZhbG9yIGRvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudW1iZXJ8Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLl9lbGVtZW50O1xuXG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiBlLnR5cGUgPT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgICAgcmV0dXJuIGUuY2hlY2tlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiBlLnR5cGUgPT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgcmV0dXJuIGUuY2hlY2tlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlLnZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBvIHZhbG9yIGRvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gdmFsdWUgLSBWYWxvclxuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLl9lbGVtZW50O1xuXG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiAoZS50eXBlID09ICdjaGVja2JveCcgfHwgZS50eXBlID09ICdyYWRpbycpKSB7XG4gICAgICAgICAgICBlLmNoZWNrZWQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgZS52YWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIHVtIHZpbmN1bG8gZGUgZGlyZcOnw6NvIGR1cGxhIGVudHJlIHVtYSBwcm9wcmllZGFkZSBkbyBjb250ZXh0byBlIG8gZWxlbWVudG8gdmlydHVhbFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU5hbWUgLSBOb21lIGRhIHByb3ByaWVkYWRlIGRvIGNvbnRleHRvIHF1ZSBzZXLDoSB2aW5jdWxhZGEgYW8gZWxlbWVudG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gTm9tZSBkYSBwcm9wcmllZGFkZSBkbyBjb250ZXh0byBxdWUgc2Vyw6EgdmluY3VsYWRhIGFvIGVsZW1lbnRvXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBhZGRCaW5kKHByb3BlcnR5TmFtZSwgXywgZXZlbnROYW1lKSB7XG4gICAgICAgIGlmIChwcm9wZXJ0eU5hbWUgPT0gbnVsbCB8fCBwcm9wZXJ0eU5hbWUubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FkZEJpbmRUb0VsZW1lbnRDb250ZXh0KHByb3BlcnR5TmFtZSwgZXZlbnROYW1lKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHZlcmRhZGVpcm8gc2UgbyBlbGVtZW50byBlc3RpdmVyIGRlc3RydWlkb1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBpc0Rlc3Ryb3llZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc3Ryb3llZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgdW1hIGV4cHJlc3Npb24gZGUgaW5pY2lhbGl6YcOnw6NvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb25cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHNldEluaXREaXJlY3RpdmUoZXhwcmVzc2lvbikge1xuICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdFZhcmlhYmxlcyA9IHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKTtcbiAgICAgICAgY29uc3Qgc3RtdCA9IGV4LnBhcnNlKGN0eCwgZGVmYXVsdFZhcmlhYmxlcyk7XG5cbiAgICAgICAgUGlTdGF0ZW1lbnQuZXhlY1dpdGhWYXJpYWJsZXMoJ3RoaXMuJyArIHN0bXQsIGRlZmF1bHRWYXJpYWJsZXMsIGN0eCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgYmluZCBmdWxsZHVwbGV4IGRvIGVsZW1lbnRvIGEgcHJvcHJpZWRhZGUgZGEgbW9kZWxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlOYW1lIC0gTm9tZSBkYSBwcm9wcmllZGFkZSBkYSBtb2RlbCBxdWUgc2Vyw6EgdmluY3VsYWRhIGFvIGVsZW1lbnRvXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBzZXRNb2RlbERpcmVjdGl2ZShwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgbGV0IGV2ZW50ID0gJ2NoYW5nZSc7XG5cbiAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgICAgICBldmVudCA9ICdrZXl1cCc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hZGRCaW5kVG9FbGVtZW50Q29udGV4dChwcm9wZXJ0eU5hbWUsIGV2ZW50KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgbyB2YWxvciBkbyBlbGVtZW50byBiYXNlYWRvIGVtIHVtYSBleHByZXNzaW9uIGxhbmd1YWdlIGF2YWxpYWRhIGRlbnRybyBkbyBjb250ZXh0byBkbyBlbGVtZW50b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIC0gRXhwcmVzc8OjbyBhIHNlciBhdmFsaWFkYSBkZW50cm8gZG8gY29udGV4dG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHNldFZhbHVlRGlyZWN0aXZlKGV4cHJlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcblxuICAgICAgICB0aGlzLnZhbHVlID0gZXgucGFyc2UoY3R4LCB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBzZSBvIGVsZW1lbnRvIHRlcsOhIG8gYXRyaWJ1dG8gJ3NlbGVjdGVkJyBiYXNlYWRvIG5hIGV4cHJlc3Npb24gbGFuZ3VhZ2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiAtIEV4cHJlc3PDo28gYSBzZXIgYXZhbGlhZGEgZGVudHJvIGRvIGNvbnRleHRvXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBzZXRTZWxlY3RlZERpcmVjdGl2ZShleHByZXNzaW9uKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXggPSBuZXcgUGlFeHByZXNzaW9uKGV4cHJlc3Npb24pO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZXgucGFyc2UoY3R4LCB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCkpO1xuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXRDaGVja2VkRGlyZWN0aXZlKGV4cHJlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gZXgudmFyaWFibGVzO1xuICAgICAgICBsZXQgdmFsdWUgPSBleC5wYXJzZShjdHgsIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5jaGVja2VkID0gdmFsdWUgPT0gJ3RydWUnO1xuXG4gICAgICAgIGlmICh2YXJpYWJsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZSA9IHZhcmlhYmxlc1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRDb250ZXh0V2F0Y2godmFyaWFibGUsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBleC5wYXJzZShjdHgsIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5jaGVja2VkID0gdmFsdWUgPT0gJ3RydWUnO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0U3JjRGlyZWN0aXZlKGV4cHJlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gZXgudmFyaWFibGVzO1xuICAgICAgICBsZXQgdmFsdWUgPSBleC5wYXJzZShjdHgsIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHZhbHVlKTtcblxuICAgICAgICBpZiAodmFyaWFibGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGUgPSB2YXJpYWJsZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQ29udGV4dFdhdGNoKHZhcmlhYmxlLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZXgucGFyc2UoY3R4LCB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdzcmMnLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDb25kaXRpb25hbERpcmVjdGl2ZShleHByZXNzaW9uKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXggPSBuZXcgUGlFeHByZXNzaW9uKGV4cHJlc3Npb24pO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSBleC52YXJpYWJsZXM7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlQ29uZGl0aW9uYWwoZXgpO1xuXG4gICAgICAgIGlmICh2YXJpYWJsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZSA9IHZhcmlhYmxlc1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRDb250ZXh0V2F0Y2godmFyaWFibGUsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ29uZGl0aW9uYWwoZXgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIHNlIG8gZWxlbWVudG8gdGVyw6EgbyBhdHJpYnV0byAnZGlzYWJsZWQnIGJhc2VhZG8gbmEgZXhwcmVzc2lvbiBsYW5ndWFnZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIC0gRXhwcmVzc8OjbyBhIHNlciBhdmFsaWFkYSBkZW50cm8gZG8gY29udGV4dG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHNldERpc2FibGVkRGlyZWN0aXZlKGV4cHJlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgICAgIHRoaXMuX3VwZGF0ZURpc2FibGVkKGV4KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4LnZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdmFyaWFibGVOYW1lID0gZXgudmFyaWFibGVzW2ldO1xuXG4gICAgICAgICAgICB0aGlzLl9hZGRDb250ZXh0V2F0Y2godmFyaWFibGVOYW1lLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRGlzYWJsZWQoZXgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgYSBtYW5pcHVsYcOnw6NvIGRvIGVzdGlsbyBkbyBlbGVtZW50byBwb3IgbWVpbyBkZSB1bWEgZXhwcmVzc2lvbiBsYW5ndWFnZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFxuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgc2V0U3R5bGVEaXJlY3RpdmUoZXhwcmVzc2lvbikge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2V4cHJlc3Npb25TdHlsZSA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlU3R5bGUoKTtcblxuICAgICAgICBjb25zdCB2YXJpYWJsZU5hbWVzID0gdGhpcy5fZXhwcmVzc2lvblN0eWxlLnZhcmlhYmxlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJpYWJsZU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YXJpYWJsZU5hbWUgPSB2YXJpYWJsZU5hbWVzW2ldO1xuXG4gICAgICAgICAgICB0aGlzLl9hZGRDb250ZXh0V2F0Y2godmFyaWFibGVOYW1lLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3R5bGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIGEgbWFuaXB1bGHDp8OjbyBkYXMgY2xhc3NlcyBkbyBlbGVtZW50byBwb3IgbWVpbyBkZSB1bWEgZXhwcmVzc2lvbiBsYW5ndWFnZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBzZXRDbGFzc0RpcmVjdGl2ZShleHByZXNzaW9uKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZXhwcmVzc2lvbkNsYXNzID0gbmV3IFBpRXhwcmVzc2lvbihleHByZXNzaW9uKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVDbGFzcygpO1xuXG4gICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IHRoaXMuX2V4cHJlc3Npb25DbGFzcy52YXJpYWJsZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2ID0gdmFyaWFibGVzW2ldO1xuXG4gICAgICAgICAgICB0aGlzLl9hZGRDb250ZXh0V2F0Y2godiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNldEZvckRpcmVjdGl2ZShzdG10KSB7XG4gICAgICAgIGNvbnN0IGV4cCA9IG5ldyBQaUV4cHJlc3Npb24oc3RtdCk7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpO1xuICAgICAgICBjb25zdCBfc3RtdCA9IGV4cC5wYXJzZShjdHgsIHZhcmlhYmxlcyk7XG4gICAgICAgIGNvbnN0IGZvckRpcmVjdGl2ZSA9IG5ldyBQaUZvckRpcmVjdGl2ZShfc3RtdCk7XG4gICAgICAgIGNvbnN0IGF0dHJOb2RlcyA9IHRoaXMuX2dldFBpQXR0cmlidXRlTm9kZXMoWyc6Zm9yJ10pO1xuXG4gICAgICAgIGxldCBub2RlcyA9IFtdO1xuICAgICAgICBsZXQgcmVmTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyZWZOb2RlLCB0aGlzLl9lbGVtZW50Lm5leHRTaWJsaW5nKTtcblxuICAgICAgICBmb3JEaXJlY3RpdmVcbiAgICAgICAgICAgIC5sb29wKChpeG4sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3BvUGFyZW50ID0gdGhpcy5fZWxlbWVudC5jb21wb25lbnRQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0QXR0cmlidXRlTm9kZXMoYXR0ck5vZGVzKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lZEVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdFbGVtZW50ID0gbmV3IFBpRWxlbWVudChjbG9uZWRFbGVtZW50LCB0aGlzLl9zY29wZSwgY3BvUGFyZW50KTtcbiAgICAgICAgICAgICAgICBuZXdFbGVtZW50LmV4dGVuZEZvcmVhY2hDb250ZXh0KHRoaXMuX2ZvcmVhY2hDb250ZXh0KTtcbiAgICAgICAgICAgICAgICBuZXdFbGVtZW50Ll9hdXRvQmluZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG5ld0VsZW1lbnQuYWRkRm9yZWFjaENvbnRleHQoaXhuLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgbmV3RWxlbWVudC5sb2FkKGNwb1BhcmVudCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB2dHJlZSA9IG5ldyBQaVZpcnR1YWxUcmVlKGNsb25lZEVsZW1lbnQuY2hpbGRyZW4sIHRoaXMuX3Njb3BlLCBjcG9QYXJlbnQpO1xuICAgICAgICAgICAgICAgIHZ0cmVlLmhvb2soJ2RpZDpjcmVhdGU6dmVsZW1lbnQnLCAodmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RWxlbWVudC5fY2hpbGRyZW4ucHVzaCh2ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZlLmV4dGVuZEZvcmVhY2hDb250ZXh0KG5ld0VsZW1lbnQuX2ZvcmVhY2hDb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2dHJlZS5sb2FkKCk7XG5cbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKG5ld0VsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5lbmQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBub2Rlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdOb2RlID0gbm9kZXNbaV0uX2VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHJlZk5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmTm9kZS5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5ydW4oKTtcblxuICAgICAgICBpZiAoZXhwLnZhcmlhYmxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4cC52YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZU5hbWUgPSBleHAudmFyaWFibGVzW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaCh2YXJpYWJsZU5hbWUsICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBub2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3JEaXJlY3RpdmUucnVuKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucGFyZW50RWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZm9yZG9uZScsIHtcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29tcG9zZWQ6IGZhbHNlLFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgdGhpcy5fZGlzcG9zZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIGEgZGlyZXRpdmEgZm9yZWFjaCBkbyBlbGVtZW50b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RtdH0gc3RtdCAtIERlY2xhcmHDp8OjbyBmb3JlYWNoXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBzZXRGb3JFYWNoRGlyZWN0aXZlKHN0bXQpIHtcbiAgICAgICAgY29uc3QgZXhwID0gbmV3IFBpRXhwcmVzc2lvbihzdG10KTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG4gICAgICAgIGNvbnN0IF9zdG10ID0gZXhwLnBhcnNlKGN0eCwgdmFyaWFibGVzKTtcbiAgICAgICAgY29uc3QgZm9yZWFjaCA9IG5ldyBQaUZvckVhY2hEaXJlY3RpdmUoX3N0bXQpO1xuICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBmb3JlYWNoLm9iamVjdEludGVyYWJsZU5hbWU7XG4gICAgICAgIGNvbnN0IGF0dHJOb2RlcyA9IHRoaXMuX2dldFBpQXR0cmlidXRlTm9kZXMoWyc6Zm9yZWFjaCddKTtcbiAgICAgICAgbGV0IGFycmF5ID0gUGlPYmplY3QuZXh0cmFjdFZhbHVlKHRoaXMuX3Njb3BlLCAnY29udGV4dC4nICsgcHJvcGVydHlOYW1lKTtcblxuICAgICAgICBpZiAoYXJyYXkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhcnJheSA9IGZpbmRDbGFzcyhwcm9wZXJ0eU5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFycmF5ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXJyYXkgPSBQaU9iamVjdC5leHRyYWN0VmFsdWUodGhpcy5fZm9yZWFjaENvbnRleHQsIHByb3BlcnR5TmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXJyYXkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBgRm9yRWFjaDogcHJvcHJpZWRhZGUgbsOjbyBlbmNvbnRyYWRhICcke3Byb3BlcnR5TmFtZX0nYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBub2RlcyA9IFtdO1xuICAgICAgICBsZXQgY3VycmVudEVsZW1lbnRzID0gW107XG5cbiAgICAgICAgdmFyIHJlZk5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocmVmTm9kZSwgdGhpcy5fZWxlbWVudC5uZXh0U2libGluZyk7XG5cbiAgICAgICAgZm9yZWFjaFxuICAgICAgICAgICAgLmxvb3AoKGFyciwgaW5kZXgsIHZuLCBpeG4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjcG9QYXJlbnQgPSB0aGlzLl9lbGVtZW50Ll9jb21wb25lbnRQYXJlbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9yZWFjaFByb3BlcnR5TmFtZSA9IHZuO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvcmVhcmNoUHJvcGVyeVZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvcmVhcmNoSW5kZXhOYW1lID0gaXhuO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0QXR0cmlidXRlTm9kZXMoYXR0ck5vZGVzKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lZEVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdFbGVtZW50ID0gbmV3IFBpRWxlbWVudChjbG9uZWRFbGVtZW50LCB0aGlzLl9zY29wZSwgY3BvUGFyZW50KTtcbiAgICAgICAgICAgICAgICBuZXdFbGVtZW50LmV4dGVuZEZvcmVhY2hDb250ZXh0KHRoaXMuX2ZvcmVhY2hDb250ZXh0KTtcbiAgICAgICAgICAgICAgICBuZXdFbGVtZW50Ll9hdXRvQmluZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgbmV3RWxlbWVudC5hZGRGb3JlYWNoQ29udGV4dChmb3JlYWNoUHJvcGVydHlOYW1lLCBmb3JlYXJjaFByb3BlcnlWYWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGZvcmVhcmNoSW5kZXhOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0VsZW1lbnQuYWRkRm9yZWFjaENvbnRleHQoZm9yZWFyY2hJbmRleE5hbWUsIGluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3RWxlbWVudC5sb2FkKGNwb1BhcmVudCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB2dHJlZSA9IG5ldyBQaVZpcnR1YWxUcmVlKGNsb25lZEVsZW1lbnQuY2hpbGRyZW4sIHRoaXMuX3Njb3BlLCBjcG9QYXJlbnQpO1xuICAgICAgICAgICAgICAgIHZ0cmVlLmhvb2soJ2RpZDpjcmVhdGU6dmVsZW1lbnQnLCAodmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RWxlbWVudC5fY2hpbGRyZW4ucHVzaCh2ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZlLmV4dGVuZEZvcmVhY2hDb250ZXh0KG5ld0VsZW1lbnQuX2ZvcmVhY2hDb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2dHJlZS5sb2FkKCk7XG5cbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKGNsb25lZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50cy5wdXNoKG5ld0VsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5lbmQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Tm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICByZWZOb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIHJlZk5vZGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5vZGVzID0gW107XG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIHJ1bihhcnJheSk7XG5cbiAgICAgICAgY29uc3Qgc3BsaWNlID0gZnVuY3Rpb24gKGFycmF5LCBpbmRleCwgZGVsZXRlQ291bnQsIC4uLml0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoZGVsZXRlQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gaW5kZXggKyBkZWxldGVDb3VudCA+IGN1cnJlbnRFbGVtZW50cy5sZW5ndGggPyBjdXJyZW50RWxlbWVudHMubGVuZ3RoIDogaW5kZXggKyBkZWxldGVDb3VudDtcblxuICAgICAgICAgICAgICAgIC8vIGRlc3Ryb3kgb3MgZWxlbWVudG9zXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4OyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnRzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJyYXksIGluZGV4LCBkZWxldGVDb3VudCk7XG4gICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnRzLnNwbGljZShpbmRleCwgZGVsZXRlQ291bnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIDAsIC4uLml0ZW1zKTtcbiAgICAgICAgICAgICAgICBmb3JlYWNoLnJ1bihhcnJheSwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKFBpVHlwZS5pc0FycmF5KGFycmF5KSkge1xuXG4gICAgICAgICAgICBQaUFycmF5LmFkZE1ldGhvZChhcnJheSwgJ2xvYWQnLCBmdW5jdGlvbiAoYXJyYXksIGluZGV4ID0gMCkge1xuICAgICAgICAgICAgICAgIHNwbGljZSh0aGlzLCBpbmRleCwgMCwgLi4uYXJyYXkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgUGlBcnJheS5hZGRNZXRob2QoYXJyYXksICdhZGQnLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIHNwbGljZSh0aGlzLCB0aGlzLmxlbmd0aCwgMCwgaXRlbSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBQaUFycmF5LmFkZE1ldGhvZChhcnJheSwgJ2NsZWFyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNwbGljZSh0aGlzLCAwLCB0aGlzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBQaUFycmF5LmFkZE1ldGhvZChhcnJheSwgJ3JlbW92ZScsIGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHNwbGljZSh0aGlzLCBpbmRleCwgMSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBQaUFycmF5LmFkZE1ldGhvZChhcnJheSwgJ3JlbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnRzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnRzID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3JlYWNoLnJ1bih0aGlzLCAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5wYXJlbnRFbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdmb3Jkb25lJywge1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgICAgICBjb21wb3NlZDogZmFsc2UsXG4gICAgICAgIH0pKTtcblxuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXRSZW5kZXJEaXJlY3RpdmUoZGlyZWN0aXZhLCBwcm9wTmFtZSwgZXZlbnROYW1lLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpO1xuXG4gICAgICAgIGNvbnN0IGNyZWF0ZSA9IFBpU3RhdGVtZW50LmV4ZWNXaXRoVmFyaWFibGVzKGRpcmVjdGl2YSwgdmFyaWFibGVzLCBjdHgpO1xuICAgICAgICBsZXQgZm47XG4gICAgICAgIGlmIChjcmVhdGUubmFtZSA9PSBkaXJlY3RpdmEpIHtcbiAgICAgICAgICAgIGZuID0gbmV3IGNyZWF0ZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGNyZWF0ZS5jYWxsKSB7XG4gICAgICAgICAgICBmbiA9IGNyZWF0ZS5jYWxsKGNvbnRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm4gPSBjcmVhdGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkTG9hZGVyKCk7XG5cbiAgICAgICAgaWYgKGZuIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgZm4udGhlbigoYykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29tcG9uZW50KGMpO1xuICAgICAgICAgICAgICAgIGMucmVuZGVyKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZm4gaW5zdGFuY2VvZiBQaVByb21pc2UpIHtcbiAgICAgICAgICAgIGZuLm9rKChjKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb21wb25lbnQoYyk7XG4gICAgICAgICAgICAgICAgYy5yZW5kZXIodGhpcy5fZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRDb21wb25lbnQoZm4pO1xuICAgICAgICAgICAgZm4ucmVuZGVyKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dldFZhbHVlRnJvbURlZmF1bHRWYXJpYWJsZXMobmFtZSkge1xuICAgICAgICBjb25zdCB7IGRlZmF1bHROYW1lcywgZGVmYXVsdFZhbHVlcyB9ID0gdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVmYXVsdE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2bmFtZSA9IGRlZmF1bHROYW1lc1tpXTtcbiAgICAgICAgICAgIGlmICh2bmFtZSA9PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBfZ2V0RGVmYXVsdFZhcmlhYmxlcygpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXMuX2VsZW1lbnQuX2NvbXBvbmVudCB8fCB0aGlzLl9lbGVtZW50Ll9jb21wb25lbnRQYXJlbnQ7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IHRoaXMuX2VsZW1lbnQuZ2V0ID8gdGhpcy5fZWxlbWVudC5nZXQoKSA6ICcnO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXNOYW1lcyA9IFsnJHRoaXMnLCAnJGVsZW1lbnQnLCAnJHZhbHVlJ107XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlc1ZhbHVlcyA9IFtzZWxmLCB0aGlzLl9lbGVtZW50LCBlbGVtZW50VmFsdWVdO1xuXG4gICAgICAgIHRoaXMuX2xvYWREZWZhdWx0VmFyaWFibGVzKCk7XG4gICAgICAgIGdldENsYXNzZXMoKS5mb3JFYWNoKGMgPT4geyB2YXJpYWJsZXNOYW1lcy5wdXNoKGMubmFtZSk7IHZhcmlhYmxlc1ZhbHVlcy5wdXNoKGMpIH0pO1xuXG4gICAgICAgIHJldHVybiBbdGhpcy5fZGVmYXVsdFZhcmlhYmxlc05hbWVzLmNvbmNhdCh2YXJpYWJsZXNOYW1lcyksIHRoaXMuX2RlZmF1bHRWYXJpYWJsZXNWYWx1ZXMuY29uY2F0KHZhcmlhYmxlc1ZhbHVlcyldO1xuICAgIH1cblxuICAgIF9hZGRCaW5kVG9FbGVtZW50Q29udGV4dChwcm9wZXJ0eU5hbWUsIGV2ZW50TmFtZSkge1xuICAgICAgICBsZXQgaXNDaGFuZ2VQcm9wZXJ0eUJ5RXZlbnQgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCB2YWx1ZSA9IFBpT2JqZWN0LmV4dHJhY3RWYWx1ZSh0aGlzLl9zY29wZSwgJ2NvbnRleHQuJyArIHByb3BlcnR5TmFtZSk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0KHZhbHVlKTtcblxuICAgICAgICB0aGlzLl9hZGRDb250ZXh0V2F0Y2gocHJvcGVydHlOYW1lLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNDaGFuZ2VQcm9wZXJ0eUJ5RXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gUGlPYmplY3QuZXh0cmFjdFZhbHVlKHRoaXMuX3Njb3BlLCAnY29udGV4dC4nICsgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0KHZhbHVlKTtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVmlldygpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZXZlbnROYW1lICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW4oZXZlbnROYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaXNDaGFuZ2VQcm9wZXJ0eUJ5RXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIFBpT2JqZWN0LnNldFByb3BlcnR5KHRoaXMuX3Njb3BlLmNvbnRleHQsIHByb3BlcnR5TmFtZSwgdGhpcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaXNDaGFuZ2VQcm9wZXJ0eUJ5RXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW4oJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgaXNDaGFuZ2VQcm9wZXJ0eUJ5RXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIFBpT2JqZWN0LnNldFByb3BlcnR5KHRoaXMuX3Njb3BlLmNvbnRleHQsIHByb3BlcnR5TmFtZSwgZS5kZXRhaWwpO1xuICAgICAgICAgICAgICAgIGlzQ2hhbmdlUHJvcGVydHlCeUV2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9nZXRQaUF0dHJpYnV0ZU5vZGVzKGV4Y2VwdHMgPSBbXSkge1xuICAgICAgICBjb25zdCBhdHRycyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fYXR0ck5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5fYXR0ck5hbWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgZmlyc3RDaGFyYWN0ZXIgPSBuYW1lWzBdO1xuXG4gICAgICAgICAgICBpZiAoZXhjZXB0cy5pbmRleE9mKG5hbWUpID09IC0xICYmIChmaXJzdENoYXJhY3RlciA9PSAnOicgfHwgZmlyc3RDaGFyYWN0ZXIgPT0gJyMnIHx8IGZpcnN0Q2hhcmFjdGVyID09ICdAJykpIHtcbiAgICAgICAgICAgICAgICBhdHRycy5wdXNoKHRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlTm9kZShuYW1lKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgX3NldEF0dHJpYnV0ZU5vZGVzKGF0dHJOb2RlcyA9IFtdKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0ck5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyTm9kZSA9IGF0dHJOb2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChhdHRyTm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZU5vZGUoYXR0ck5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2V0TW91bnREaXJlY3RpdmUoZXhwcmVzc2lvbikge1xuICAgICAgICB0aGlzLl9lbGVtZW50Lm1vdW50ID0gKGNvbXBvbmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXggPSBuZXcgUGlFeHByZXNzaW9uKGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFZhcmlhYmxlcyA9IHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKTtcbiAgICAgICAgICAgIGNvbnN0IHN0bXQgPSBleC5wYXJzZShjdHgsIGRlZmF1bHRWYXJpYWJsZXMpO1xuICAgICAgICAgICAgZGVmYXVsdFZhcmlhYmxlc1snJHRoaXMnXSA9IGNvbXBvbmVudDtcblxuICAgICAgICAgICAgUGlTdGF0ZW1lbnQuZXhlY1dpdGhWYXJpYWJsZXMoJ3RoaXMuJyArIHN0bXQsIGRlZmF1bHRWYXJpYWJsZXMsIGN0eCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2V0RGlkTW91bnREaXJlY3RpdmUoKSB7XG5cbiAgICB9XG5cbiAgICBzZXRXaWxsTW91bnREaXJlY3RpdmUoKSB7XG5cbiAgICB9XG5cbiAgICBzZXRGb3JFbmRWYWx1ZURpcmVjdGl2ZShleHByZXNzaW9uLCBwcm9wTmFtZSwgZXZlbnROYW1lLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChldmVudE5hbWUgPT0gJ3ZhbHVlJyB8fCBldmVudE5hbWUgPT0gJ3NldFZhbHVlJykge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW4ocHJvcE5hbWUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXggPSBuZXcgUGlFeHByZXNzaW9uKGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFyaWFibGVzID0gdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBleC5wYXJzZShjdHgsIGRlZmF1bHRWYXJpYWJsZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbG9hZERpcmVjdGl2ZXNCYXNlKCkge1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnZm9yJywgdGhpcy5zZXRGb3JEaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnZm9yZWFjaCcsIHRoaXMuc2V0Rm9yRWFjaERpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdsb2FkZXInLCB0aGlzLnNldExvYWRlckRpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdjbGFzcycsIHRoaXMuc2V0Q2xhc3NEaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnc3R5bGUnLCB0aGlzLnNldFN0eWxlRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2luaXQnLCB0aGlzLnNldEluaXREaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnYmluZCcsIHRoaXMuYWRkQmluZCk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdvbicsIHRoaXMuYWRkRXZlbnRTdGF0ZW1lbnQpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgndmFsdWUnLCB0aGlzLnNldFZhbHVlRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ3NlbGVjdGVkJywgdGhpcy5zZXRTZWxlY3RlZERpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdkaXNhYmxlZCcsIHRoaXMuc2V0RGlzYWJsZWREaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnaWYnLCB0aGlzLnNldENvbmRpdGlvbmFsRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ21vZGVsJywgdGhpcy5zZXRNb2RlbERpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdjaGFuZ2UnLCB0aGlzLnNldENoYW5nZURpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdzcmMnLCB0aGlzLnNldFNyY0RpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdjaGVja2VkJywgdGhpcy5zZXRDaGVja2VkRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ21vdW50JywgdGhpcy5zZXRNb3VudERpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdyZW5kZXInLCB0aGlzLnNldFJlbmRlckRpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdmb3JlbmQnLCB0aGlzLnNldEZvckVuZFZhbHVlRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2ZvcmRvbmUnLCB0aGlzLnNldEZvckVuZFZhbHVlRGlyZWN0aXZlKTtcbiAgICB9XG5cbiAgICBzZXRMb2FkZXJEaXJlY3RpdmUoZGlyZWN0aXZhLCBwcm9wTmFtZSwgZXZlbnROYW1lLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpO1xuXG4gICAgICAgIGNvbnN0IGNyZWF0ZSA9IFBpU3RhdGVtZW50LmV4ZWNXaXRoVmFyaWFibGVzKGRpcmVjdGl2YSwgdmFyaWFibGVzLCBjdHgpO1xuICAgICAgICBpZiAoY3JlYXRlLm5hbWUgPT0gZGlyZWN0aXZhKSB7XG4gICAgICAgICAgICBjb25zdCBsb2FkZXIgPSBuZXcgY3JlYXRlKCk7XG4gICAgICAgICAgICBsb2FkZXIucmVuZGVyKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGNyZWF0ZS5jYWxsKSB7XG4gICAgICAgICAgICBjb25zdCBsb2FkZXIgPSBjcmVhdGUuY2FsbChjb250ZXh0KTtcbiAgICAgICAgICAgIGxvYWRlci5yZW5kZXIodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjcmVhdGUucmVuZGVyKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faGFzTG9hZGVyID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBfbG9hZExvYWRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc0xvYWRlciA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlciA9IFBpQ29uZmlnLmdldCgnaHRtbC5sb2FkZXInKTtcbiAgICAgICAgICAgIGxldCBodG1sID0gbG9hZGVyO1xuXG4gICAgICAgICAgICBpZiAobG9hZGVyLmNvbnN0cnVjdG9yLm5hbWUgPT0gJ0Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGh0bWwgPSBsb2FkZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgXyhjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHRQcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmtleXMoY29udGV4dCk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRQcm9wZXJ0eVZhbHVlcyA9IE9iamVjdC52YWx1ZXMoY29udGV4dCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZXh0UHJvcGVydHlWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY29udGV4dFByb3BlcnR5VmFsdWVzW2ldO1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0UHJvcGVydHlWYWx1ZXNbaV0gPSB2YWx1ZS5iaW5kKGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NyZWF0ZUV4cHJlc3Npb24odmFsdWUsIG5vZGUpIHtcbiAgICAgICAgY29uc3QgZXhwID0gbmV3IFBpRXhwcmVzc2lvbih2YWx1ZSk7XG4gICAgICAgIG5vZGUuX3BpZXggPSBleHA7XG5cbiAgICAgICAgaWYgKHRoaXMuX2F1dG9CaW5kKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4cC52YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZU5hbWUgPSBleHAudmFyaWFibGVzW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaCh2YXJpYWJsZU5hbWUsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVmlldygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2xvYWRUZW1wbGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0aGlzLl9lbGVtZW50LmNoaWxkTm9kZXM7XG4gICAgICAgIGNvbnN0IHhodG1sID0gUGlDb25maWcuZ2V0KCdleHByZXNzaW9uLnhodG1sJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IG5vZGUubm9kZVZhbHVlO1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmIHhodG1sLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsLCBub2RlLm5leHRTaWJsaW5nKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlRXhwcmVzc2lvbih2YWx1ZSwgZWwpO1xuXG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUuaW5kZXhPZigneycpID4gLTEgJiYgbm9kZSBpbnN0YW5jZW9mIFRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVFeHByZXNzaW9uKHZhbHVlLCBub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3VwZGF0ZVZpZXcoKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlQ29uZGl0aW9uYWwoZXgpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFyaWFibGVzID0gdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IFBpU3RhdGVtZW50LmV4ZWNXaXRoVmFyaWFibGVzKGV4LnBhcnNlKGN0eCwgZGVmYXVsdFZhcmlhYmxlcyksIGRlZmF1bHRWYXJpYWJsZXMsIGN0eCk7XG4gICAgICAgIGNvbnN0IG5leHRFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XG5cbiAgICAgICAgaWYgKG5leHRFbGVtZW50ICYmIG5leHRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnOmVsc2UnKSkge1xuICAgICAgICAgICAgbmV4dEVsZW1lbnQuX19waWVsc2UgPSB0cnVlO1xuICAgICAgICAgICAgbmV4dEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCc6ZWxzZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaGFzRWxzZSA9IG5leHRFbGVtZW50ICYmIG5leHRFbGVtZW50Ll9fcGllbHNlO1xuXG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy4kLnNob3coKTtcblxuICAgICAgICAgICAgaWYgKGhhc0Vsc2UpIHtcbiAgICAgICAgICAgICAgICAkKG5leHRFbGVtZW50KS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiQuaGlkZSgpO1xuXG4gICAgICAgICAgICBpZiAoaGFzRWxzZSkge1xuICAgICAgICAgICAgICAgICQobmV4dEVsZW1lbnQpLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVEaXNhYmxlZChleCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZXgucGFyc2UoY3R4LCB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCkpO1xuXG4gICAgICAgIGlmICh2YWx1ZSA9PSAndHJ1ZScgfHwgdmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlVmlldygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0aGlzLl9lbGVtZW50LmNoaWxkTm9kZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChub2RlLl9waWV4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IG5vZGUuX3BpZXgucGFyc2UodGhpcy5fZ2V0Q29udGV4dCgpLCB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCkpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLm5vZGVWYWx1ZSA9IHRleHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZVN0eWxlKCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fZXhwcmVzc2lvblN0eWxlKSB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZUlubGluZSA9IHRoaXMuX2V4cHJlc3Npb25TdHlsZS5wYXJzZSh0aGlzLl9nZXRDb250ZXh0KCksIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG4gICAgICAgICAgICBjb25zdCBzdHlsZXMgPSBzdHlsZUlubGluZS5zcGxpdCgnOycpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gc3R5bGVzW2ldLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLmxlbmd0aCAhPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlTmFtZSA9IHN0eWxlWzBdLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZVZhbHVlID0gc3R5bGVbMV0udHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kLmNzcyhzdHlsZU5hbWUsIHN0eWxlVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZUNsYXNzKCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fZXhwcmVzc2lvbkNsYXNzKSB7XG4gICAgICAgICAgICBjb25zdCBjbGFzc0xpc3QgPSB0aGlzLl9leHByZXNzaW9uQ2xhc3MucGFyc2UodGhpcy5fZ2V0Q29udGV4dCgpLCB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCkpLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChjbGFzc0xpc3QgPT0gdGhpcy5fZWxlbWVudC5jbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgICAgIGlmIChjbGFzc0xpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc0xpc3Quc3BsaXQoJyAnKS5maWx0ZXIoZSA9PiBlICE9PSAnJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29yZGVyQXR0cmlidXRlTmFtZXMoKXtcbiAgICAgICAgbGV0IGkgPSB0aGlzLl9hdHRyTmFtZXMuaW5kZXhPZignZm9yZWFjaCcpO1xuICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRyTmFtZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgdGhpcy5fYXR0ck5hbWVzLnVuc2hpZnQoJ2ZvcmVhY2gnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkgPSB0aGlzLl9hdHRyTmFtZXMuaW5kZXhPZignZm9yJyk7XG4gICAgICAgIGlmIChpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dHJOYW1lcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB0aGlzLl9hdHRyTmFtZXMudW5zaGlmdCgnZm9yJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcnVuRGlyZWN0aXZlcyh3cmFwcGVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fYXR0ck5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IHRoaXMuX2F0dHJOYW1lc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IHRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJvcE5hbWUsIGV2ZW50TmFtZSB9ID0gdGhpcy5fZXh0cmFjdFBpQXR0cmlidXRlTmFtZUFuZFByb3BlcnR5KGF0dHJOYW1lKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZXhpc3REaXJlY3RpdmUocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RpcmVjdGl2ZXNbcHJvcE5hbWVdLmNhbGwodGhpcywgYXR0clZhbHVlLCBwcm9wTmFtZSwgZXZlbnROYW1lLCB3cmFwcGVyKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BOYW1lID09ICdmb3JlYWNoJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BOYW1lID09ICdmb3InKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXR0ck5hbWUuaW5kZXhPZignIycpID09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oYXR0clZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGV4LnBhcnNlKHRoaXMuX2dldENvbnRleHQoKSwgdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUuc3Vic3RyKDEpLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXR0ck5hbWUuaW5kZXhPZignOicpID09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oYXR0clZhbHVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRDb250ZXh0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGVzID0gZXgudmFyaWFibGVzO1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGV4LnBhcnNlKGN0eCwgdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpKTtcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyTmFtZS5zdWJzdHIoMSksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFyaWFibGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlID0gdmFyaWFibGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkQ29udGV4dFdhdGNoKHZhcmlhYmxlLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBleC5wYXJzZShjdHgsIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyTmFtZS5zdWJzdHIoMSksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZXh0cmFjdFBpQXR0cmlidXRlTmFtZUFuZFByb3BlcnR5KGF0dHJpYnV0ZSkge1xuICAgICAgICBsZXQgcHJvcE5hbWUgPSAnJztcbiAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChhdHRyaWJ1dGUuaW5kZXhPZignQCcpID4gLTEpIHtcbiAgICAgICAgICAgIHByb3BOYW1lID0gJ29uJztcbiAgICAgICAgICAgIGV2ZW50TmFtZSA9IGF0dHJpYnV0ZS5yZXBsYWNlKCdAJywgJycpO1xuXG4gICAgICAgICAgICBjb25zdCBuYW1lQW5kRXZlbnQgPSBldmVudE5hbWUuc3BsaXQoJzonKTtcbiAgICAgICAgICAgIGlmIChuYW1lQW5kRXZlbnQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHByb3BOYW1lID0gbmFtZUFuZEV2ZW50WzBdO1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IG5hbWVBbmRFdmVudFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUuaW5kZXhPZignOicpID4gLTEpIHtcbiAgICAgICAgICAgIHByb3BOYW1lID0gYXR0cmlidXRlLnJlcGxhY2UoJzonLCAnJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5hbWVBbmRFdmVudCA9IHByb3BOYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBpZiAobmFtZUFuZEV2ZW50Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBwcm9wTmFtZSA9IG5hbWVBbmRFdmVudFswXTtcbiAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBuYW1lQW5kRXZlbnRbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBwcm9wTmFtZSwgZXZlbnROYW1lIH07XG4gICAgfVxuXG4gICAgX2dldENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zY29wZS5jb250ZXh0O1xuICAgIH1cblxuICAgIF9jbGVhckNvbnRleHRXYXRjaCgpIHtcbiAgICAgICAgbGV0IGlkcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fd2F0Y2hzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZHMgPSBpZHMuY29uY2F0KHRoaXMuX3dhdGNoc1tpXS5pZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgUGlPYmplY3Qub2ZmKHRoaXMuX3Njb3BlLCBpZHMpO1xuICAgICAgICB0aGlzLl93YXRjaHMgPSBbXTtcbiAgICB9XG5cbiAgICBfYWRkQ29udGV4dFdhdGNoKHByb3BlcnR5LCBmbikge1xuICAgICAgICBjb25zdCBpZHMgPSBQaU9iamVjdC5vbih0aGlzLl9zY29wZSwgJ2NvbnRleHQuJyArIHByb3BlcnR5LCBmbilcbiAgICAgICAgdGhpcy5fd2F0Y2hzID0gdGhpcy5fd2F0Y2hzLmNvbmNhdCh7XG4gICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXG4gICAgICAgICAgICBpZHM6IGlkc1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfcmVtb3ZlQ29udGV4dFdhdGNoKHByb3BlcnR5TmFtZSkge1xuICAgICAgICBjb25zdCBhcnIgPSB0aGlzLl93YXRjaHM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhcnJbaV0ucHJvcGVydHkgPT0gcHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgICAgICAgUGlPYmplY3Qub2ZmKHRoaXMuX3Njb3BlLCBhcnJbaV0uaWRzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxufTsiLCIvKioqXG4gKiBDb3B5cmlnaHQgTWFub2VsIE5lY28gMjAyMiwgVG9kb3Mgb3MgZGlyZWl0b3MgcmVzZXJ2YWRvc1xuICpcbiAqIEBhdXRvcjogTWFub2VsIE5lY29cbiAqIEBjcmVhdGU6IDIwMTItcHJlc2VudFxuICogQHZlcnNpb246IHYxMS4yLjYtYmV0YVxuICovXG5cbmNvbnN0IGdsb2JhbCA9IHdpbmRvdztcbmNvbnN0IGNvbXBvbmVudHMgPSBbXTtcblxuZnVuY3Rpb24gcmVnaXN0ZXJPYmplY3QobmFtZSwgb2JqKSB7XG4gICAgb2JqLm5hbWUgPSBuYW1lO1xuICAgIGNvbXBvbmVudHMucHVzaChvYmopO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlcihuYW1lLCBvYmopIHtcbiAgICBpZiAobmFtZSAhPSBudWxsICYmIG5hbWUuY29uc3RydWN0b3IubmFtZSA9PSAnU3RyaW5nJyAmJiBvYmogIT0gbnVsbCkge1xuICAgICAgICByZWdpc3Rlck9iamVjdChuYW1lLCBvYmopO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG9iaiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgY29uc3QgY05hbWUgPSBvYmouY29uc3RydWN0b3IubmFtZTtcblxuICAgICAgICBpZiAoZmluZENsYXNzKG9iaikgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoY05hbWUgPT0gJ0Z1bmN0aW9uJyB8fCBjTmFtZSA9PSAnT2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIG9iaiA9IE9iamVjdC5mcmVlemUob2JqKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKG9iaik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldENsYXNzZXMoKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudHM7XG59XG5cbmZ1bmN0aW9uIGZpbmRDbGFzcyhjTmFtZSkge1xuICAgIHJldHVybiBjb21wb25lbnRzLmZpbmQoYyA9PiBjLm5hbWUgPT0gY05hbWUgfHwgKGMuY29uc3RydWN0b3IgJiYgYy5jb25zdHJ1Y3Rvci5uYW1lID09IGNOYW1lKSk7XG59XG5cbmZ1bmN0aW9uIGFwcCgpIHtcbiAgICByZXR1cm4gZ2xvYmFsLmFwcDtcbn1cblxuZnVuY3Rpb24gbG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIGdsb2JhbC5sb2NhdGlvbjtcbn1cblxuZnVuY3Rpb24gc2V0TG9jYXRpb24odXJsKSB7XG4gICAgZ2xvYmFsLmxvY2F0aW9uID0gdXJsO1xufVxuXG5mdW5jdGlvbiAkKCkge1xuICAgIHJldHVybiBnbG9iYWwuJFxufVxuXG5leHBvcnQgeyBnZXRDbGFzc2VzLCBmaW5kQ2xhc3MsIHJlZ2lzdGVyLCBnbG9iYWwsIGFwcCwgbG9jYXRpb24sIHNldExvY2F0aW9uLCAkIH07IiwiaW1wb3J0IFBpUmFuZG9tIGZyb20gJy4vcmFuZG9tJ1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUV2ZW50IHtcbiAgICAjbGlzdCA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW0gZXZlbnRvIHBhcmEgc2VyIG9ic2VydmFkb1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFja1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjdHggLSBDb250ZXh0byBkbyBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb25jZSAtIFNlIG8gY2FsbGJhY2sgZGV2ZXLDoSBzZXIgY2hhbWFkbyBhcGVuYXMgdW1hIHZlelxuICAgICAqIEByZXR1cm5zIHtQaUV2ZW50fVxuICAgICAqL1xuICAgIGxpc3RlbihldmVudCwgY2FsbGJhY2ssIGN0eCwgb25jZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHV1aWQgPSBQaVJhbmRvbS51dWlkKCd4eHgteHgnKTtcbiAgICAgICAgY2FsbGJhY2suaWQgPSB1dWlkO1xuXG4gICAgICAgIHRoaXMuI2xpc3QucHVzaCh7IHV1aWQ6IHV1aWQsIGV2ZW50OiBldmVudCwgY2I6IGNhbGxiYWNrLCBjdHg6IGN0eCwgb25jZTogb25jZSB9KTtcblxuICAgICAgICByZXR1cm4gdXVpZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWl4YSBkZSBvYnNlcnZhciB1bSBldmVudG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBOb21lIGRvIGV2ZW50b1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gQ2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7UGlFdmVudH1cbiAgICAgKi9cbiAgICB1bmxpc3RlbihldmVudCwgY2IgPSAnKicpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuI2xpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy4jbGlzdFtpXTtcbiAgICAgICAgICAgIGlmIChpdGVtLmV2ZW50ID09IGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGNiID09PSBpdGVtLnV1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjYiA9PSAnKicgfHwgY2IuaWQgPT0gaXRlbS5jYi5pZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNsaXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIHVtIGV2ZW50byBwYXJhIHNlciBvYnNlcnZhZG8gYXBlbmFzIHVtYSB2ZXpcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBOb21lIGRvIGV2ZW50b1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY3R4IC0gQ29udGV4dG8gZG8gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7UGlFdmVudH1cbiAgICAgKi9cbiAgICBvbmNlKGV2ZW50LCBjYWxsYmFjaywgY3R4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbihldmVudCwgY2FsbGJhY2ssIGN0eCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcGFyYSBvcyBjYWxsYmFjayBhc3NvY2lhZG9zIGFvIGV2ZW50b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtICB7Li4uYW55fSBhcmdzIC0gUGFyYW1ldHJvcyBlbnZpYWRvcyBhbyBjYWxsYmFjayBkbyBldmVudG9cbiAgICAgKiBAcmV0dXJucyB7UGlFdmVudH1cbiAgICAgKi9cbiAgICB0cmlnZ2VyKGV2ZW50LCAuLi5hcmdzKSB7XG4gICAgICAgIGxldCBldmVudHNPbmNlID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiNsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4jbGlzdFtpXS5ldmVudCA9PSBldmVudCkge1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy4jbGlzdFtpXTtcbiAgICAgICAgICAgICAgICBpdGVtLmNiLmFwcGx5KGl0ZW0uY3R4LCBhcmdzKTtcblxuICAgICAgICAgICAgICAgIGlmIChpdGVtLm9uY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzT25jZS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSBldmVudHNPbmNlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuKGV2ZW50c09uY2VbaV0uZXZlbnQsIGV2ZW50c09uY2VbaV0uY2IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmVyaWZpY2Egc2UgZm9pIGFkaWNpb25hZG8gdW0gZXZlbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gTm9tZSBkbyBldmVudG9cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBleGlzdChldmVudCkge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy4jbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuI2xpc3RbaV0uZXZlbnQgPT0gZXZlbnQpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJlc2VlZChuYW1lLCBldmVudCkge1xuICAgICAgICBpZiAobmFtZSBpbnN0YW5jZW9mIFBpRXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2VlZEFsbChldmVudCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGlzdGVuKG5hbWUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXZlbnQudHJpZ2dlci5jYWxsKGV2ZW50LCBuYW1lLCAuLi5hcmd1bWVudHMpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgX3Jlc2VlZEFsbChldmVudCl7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLiNsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBldmVudE5hbWUgPSB0aGlzLiNsaXN0W2ldLmV2ZW50O1xuICAgICAgICAgICAgdGhpcy5yZXNlZWQoZXZlbnROYW1lLCBldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdG9kb3Mgb3MgZXZlbnRvc1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaUV2ZW50fVxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLiNsaXN0ID0gW107XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG59OyIsImltcG9ydCBQaUNvbmZpZyBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCBQaVN0YXRlbWVudCBmcm9tIFwiLi9zdGF0ZW1lbnRcIjtcbmltcG9ydCBQaVR5cGUgZnJvbSBcIi4vdHlwZVwiO1xuaW1wb3J0IFBpT2JqZWN0IGZyb20gXCIuL29iamVjdFwiO1xuaW1wb3J0IHsgaGVscGVycywgdGltZW91dCB9IGZyb20gXCIuL2hlbHBlcnNcIjtcblxuY29uc3QgaHBzID0gaGVscGVycztcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlFeHByZXNzaW9uIHtcblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZSAtIFRlbXBsYXRlIGJhc2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZSkge1xuICAgICAgICB0aGlzLl90ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuXG4gICAgICAgIHRoaXMuX3J4RXhwcmVzc2lvbiA9IFBpQ29uZmlnLmdldCgnZXhwcmVzc2lvbi54bGFuZ3VhZ2UnKTtcbiAgICAgICAgdGhpcy5fcnhWYXJpYWJsZSA9IFBpQ29uZmlnLmdldCgnZXhwcmVzc2lvbi54dmFyaWFibGUnKTtcblxuICAgICAgICB0aGlzLl9sb2FkKCk7XG4gICAgfVxuXG4gICAgc2V0RGVsaW1pdGVycyhwYXR0ZXJuKXtcbiAgICAgICAgdGhpcy5fcnhFeHByZXNzaW9uID0gcGF0dGVybjtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHRvZGFzIGFzIGV4cHJlc3PDtWVzIGVuY29udHJhZGFzIG5vIHRlbXBsYXRlIGJhc2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7YXJyYXl9XG4gICAgICovXG4gICAgZ2V0IGFsbCgpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbnMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2V4cHJlc3Npb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKHRoaXMuX2NsZWFyKHRoaXMuX2V4cHJlc3Npb25zW2ldLnZhbHVlKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB0b2RhcyBhcyB2YXJpw6F2ZWlzIGVuY29udHJhZGFzIGRlbnRybyBkYXMgZXhwcmVzc8O1ZXNcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7YXJyYXl9XG4gICAgICovXG4gICAgZ2V0IHZhcmlhYmxlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZhcmlhYmxlcyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhcmlhYmxlcyA9IHRoaXMuX2V4dHJhY3RBbGxWYXJpYWJsZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl92YXJpYWJsZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSByZXN1bHRhZG8gZG8gdGVtcGxhdGUgcGFyc2VhZG8gY29tIG8gY29udGV4dG8gaW5mb3JtYWRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBwYXJzZShjb250ZXh0LCB2YXJpYWJsZXMgPSBbW10sIFtdXSkge1xuICAgICAgICBsZXQgZXhwcmVzc2lvbnMgPSB0aGlzLl9leHByZXNzaW9ucztcbiAgICAgICAgbGV0IHBocmFzZSA9IHRoaXMuX3BocmFzZTtcblxuICAgICAgICBjb25zdCBjb250ZXh0UHJvcGVydHlOYW1lcyA9IE9iamVjdC5rZXlzKGNvbnRleHQpO1xuICAgICAgICBjb25zdCBjb250ZXh0UHJvcGVydHlWYWx1ZXMgPSBPYmplY3QudmFsdWVzKGNvbnRleHQpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGV4dFByb3BlcnR5VmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbnRleHRQcm9wZXJ0eVZhbHVlc1tpXTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dFByb3BlcnR5VmFsdWVzW2ldID0gdmFsdWUuYmluZChjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhcmlhYmxlc1swXSA9IGNvbnRleHRQcm9wZXJ0eU5hbWVzLmNvbmNhdCh2YXJpYWJsZXNbMF0pO1xuICAgICAgICB2YXJpYWJsZXNbMV0gPSBjb250ZXh0UHJvcGVydHlWYWx1ZXMuY29uY2F0KHZhcmlhYmxlc1sxXSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBocHMuYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBob29rID0gaHBzLmFsbFtpXTtcblxuICAgICAgICAgICAgdmFyaWFibGVzWzBdLnB1c2goaG9va1swXSk7XG4gICAgICAgICAgICB2YXJpYWJsZXNbMV0ucHVzaChob29rWzFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhwcmVzc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSBleHByZXNzaW9uc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLl9jbGVhcihleHByZXNzaW9uLnZhbHVlKTtcblxuICAgICAgICAgICAgbGV0IHZhbHVlID0gUGlTdGF0ZW1lbnQuZXhlY1dpdGhWYXJpYWJsZXMoc3RtdCwgdmFyaWFibGVzLCBjb250ZXh0KTtcblxuICAgICAgICAgICAgaWYgKFBpVHlwZS5pc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gJzAnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChQaVR5cGUuaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBocmFzZSA9IHBocmFzZS5yZXBsYWNlKGV4cHJlc3Npb24ua2V5LCBQaVR5cGUuaXNCb29sZWFuKHZhbHVlKSA/IHZhbHVlIDogdmFsdWUgfHwgJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBocmFzZTtcbiAgICB9XG5cbiAgICBfbG9hZCgpIHtcbiAgICAgICAgdmFyIHsgcGhyYXNlLCBleHByZXNzaW9ucyB9ID0gdGhpcy5fZXh0cmFjdFBocmFzZUFuZEV4cHJlc3Npb25zKCk7XG4gICAgICAgIHRoaXMuX3BocmFzZSA9IHBocmFzZTtcbiAgICAgICAgdGhpcy5fZXhwcmVzc2lvbnMgPSBleHByZXNzaW9ucztcbiAgICB9XG5cbiAgICBfY2xlYXIoZXhwcmVzc2lvbikge1xuICAgICAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5yZXBsYWNlKHRoaXMuX3J4RXhwcmVzc2lvbiwgZnVuY3Rpb24gKF8sIGRiZWdpbiwgYm9keSwgZGVuZCkge1xuICAgICAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UodGhpcy5fcnhWYXJpYWJsZSwgZnVuY3Rpb24gKF8sIGRiZWdpbiwgYm9keSwgZGVuZCkge1xuICAgICAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBleHByZXNzaW9uLnRyaW0oKTtcbiAgICB9XG5cbiAgICBfZXh0cmFjdFBocmFzZUFuZEV4cHJlc3Npb25zKCkge1xuICAgICAgICB2YXIgZXhwcmVzc2lvbnMgPSBbXTtcbiAgICAgICAgdmFyIGNvdW50ZXIgPSAxO1xuICAgICAgICB2YXIgcGhyYXNlID0gdGhpcy5fdGVtcGxhdGUucmVwbGFjZSh0aGlzLl9yeEV4cHJlc3Npb24sIGZ1bmN0aW9uIChleHByZXNzaW9uRm91bmRlZCkge1xuICAgICAgICAgICAgY29uc3QgdmFyaWFibGUgPSBgXyQke2NvdW50ZXIrK31fYDtcblxuICAgICAgICAgICAgZXhwcmVzc2lvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGV4cHJlc3Npb25Gb3VuZGVkLFxuICAgICAgICAgICAgICAgIGtleTogdmFyaWFibGVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFyaWFibGU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB7IHBocmFzZSwgZXhwcmVzc2lvbnMgfTtcbiAgICB9XG5cbiAgICBfZXh0cmFjdEFsbFZhcmlhYmxlcygpIHtcbiAgICAgICAgdmFyIHZhcmlhYmxlcyA9IHRoaXMuX3RlbXBsYXRlLm1hdGNoKHRoaXMuX3J4VmFyaWFibGUpIHx8IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2ID0gdmFyaWFibGVzW2ldO1xuICAgICAgICAgICAgdmFyaWFibGVzW2ldID0gdi5zdWJzdHIoMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFyaWFibGVzO1xuICAgIH1cblxuICAgIF9leHRyYWN0VmFyaWFibGVzKGV4cHJlc3Npb24pIHtcbiAgICAgICAgdmFyIHZhcmlhYmxlcyA9IGV4cHJlc3Npb24ubWF0Y2godGhpcy5fcnhWYXJpYWJsZSkgfHwgW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSB2YXJpYWJsZXNbaV07XG4gICAgICAgICAgICB2YXJpYWJsZXNbaV0gPSB2LnN1YnN0cigxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YXJpYWJsZXM7XG4gICAgfVxuXG4gICAgX2V4dHJhY3RWYXJpYWJsZXNWYWx1ZXModmFyaWFibGVOYW1lcywgY29udGV4dCkge1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhYmxlTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB2YXJpYWJsZU5hbWVzW2ldO1xuXG4gICAgICAgICAgICB2YXJpYWJsZXMucHVzaChQaU9iamVjdC5leHRyYWN0VmFsdWUoY29udGV4dCwgbmFtZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhcmlhYmxlcztcbiAgICB9XG5cbn0iLCJpbXBvcnQgIFBpVHlwZSBmcm9tIFwiLi90eXBlXCI7XG5cbmNvbnN0IHN0bXRSYW5nZTEgPSAvXihcXHcrKVxccytpblxccytyYW5nZVxcKFxccyooLT9cXGQrKVxccypcXCkkL2dpO1xuY29uc3Qgc3RtdFJhbmdlMiA9IC9eKFxcdyspXFxzK2luXFxzK3JhbmdlXFwoXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqXFwpJC9naTtcbmNvbnN0IHN0bXRSYW5nZTMgPSAvXihcXHcrKVxccytpblxccytyYW5nZVxcKFxccyooLT9cXGQrKVxccyosXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqXFwpJC9naTtcbmNvbnN0IHN0bXRMaXRlcmFsID0gL14oXFx3KylcXHMraW5cXHMrKFswLTldKykkL2dpO1xuY29uc3Qgc3RtdFByb3BlcnR5ID0gL14oXFx3KylcXHMraW5cXHMrKFxcdyspJC9naTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlGb3JEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKHN0bXQpIHtcbiAgICAgICAgdGhpcy5fc3RtdCA9IHN0bXQ7XG5cbiAgICAgICAgdGhpcy5faXRlcmFibGVDb3VudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2l0ZXJhYmxlUHJvcGVydHkgPSBudWxsO1xuICAgICAgICB0aGlzLl9pdGVyYWJsZVN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5faXRlcmFibGVTdGVwID0gMTtcbiAgICAgICAgdGhpcy5faW5kZXhOYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9vcCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2VuZCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fbG9hZCgpO1xuICAgIH1cblxuICAgIGdldCBvYmplY3RJbnRlcmFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlcmFibGVQcm9wZXJ0eTtcbiAgICB9XG5cbiAgICBsb29wKGZuKSB7XG4gICAgICAgIHRoaXMuX2xvb3AgPSBmbjtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBlbmQoZm4pIHtcbiAgICAgICAgdGhpcy5fZW5kID0gZm47XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcnVuKGNvdW50ID0gbnVsbCkge1xuICAgICAgICBsZXQgbGVuZ3RoID0gMDtcblxuICAgICAgICBpZiAoY291bnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgbGVuZ3RoID0gY291bnQ7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5faXRlcmFibGVDb3VudCkge1xuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5faXRlcmFibGVDb3VudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9pdGVyYWJsZVN0ZXAgPCAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5faXRlcmFibGVDb3VudCAtIHRoaXMuX2l0ZXJhYmxlU3RhcnQ7IGkgPj0gMDsgaSArPSB0aGlzLl9pdGVyYWJsZVN0ZXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb29wKHRoaXMuX2luZGV4TmFtZSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5faXRlcmFibGVTdGFydDsgaSA8IGxlbmd0aDsgaSArPSB0aGlzLl9pdGVyYWJsZVN0ZXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb29wKHRoaXMuX2luZGV4TmFtZSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lbmQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfbG9hZE51bWJlcihuKSB7XG4gICAgICAgIGNvbnN0IG51bWJlciA9IHBhcnNlSW50KG4pO1xuICAgICAgICBjb25zdCBpc051bWJlciA9IFBpVHlwZS5pc051bWJlcihudW1iZXIpO1xuXG4gICAgICAgIGlmIChpc051bWJlcikge1xuICAgICAgICAgICAgdGhpcy5faXRlcmFibGVDb3VudCA9IG51bWJlcjtcbiAgICAgICAgICAgIHRoaXMuX2l0ZXJhYmxlUHJvcGVydHkgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faXRlcmFibGVDb3VudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYWJsZVByb3BlcnR5ID0gbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9sb2FkKCkge1xuICAgICAgICBpZiAoc3RtdFJhbmdlMS50ZXN0KHRoaXMuX3N0bXQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkRm9yUmFuZ2UxKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RtdFJhbmdlMi50ZXN0KHRoaXMuX3N0bXQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkRm9yUmFuZ2UyKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RtdFJhbmdlMy50ZXN0KHRoaXMuX3N0bXQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkRm9yUmFuZ2UzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RtdExpdGVyYWwudGVzdCh0aGlzLl9zdG10KSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZEZvckxpdGVyYWwoKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdG10UHJvcGVydHkudGVzdCh0aGlzLl9zdG10KSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZEZvclByb3BlcnR5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBgUGlGb3JEaXJlY3RpdmU6IFN0YXRlbWVudCBpbnbDoWxpZGEgcGFyYSBsYcOnbyBmb3IgPSAke3RoaXMuX3N0bXR9LiBQYWRyw6NvIGVzcGVyYWRvOiAodmFyacOhdmVsIGluIGxpdGVyYWwpIG91ICh2YXJpw6F2ZWwgaW4gcmFuZ2UodG90YWxbLCBpbmljaW9bLCBwYXNzb11dKSlgO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2xvYWRGb3JSYW5nZTEoKSB7XG4gICAgICAgIHRoaXMuX3N0bXQucmVwbGFjZShzdG10UmFuZ2UxLCAoc3RtdCwgaW5kZXhOYW1lLCBwcm9wZXJ0eU5hbWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWROdW1iZXIocHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4TmFtZSA9IGluZGV4TmFtZTtcblxuICAgICAgICAgICAgcmV0dXJuIHN0bXQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9sb2FkRm9yUmFuZ2UyKCkge1xuICAgICAgICB0aGlzLl9zdG10LnJlcGxhY2Uoc3RtdFJhbmdlMiwgKHN0bXQsIGluZGV4TmFtZSwgcHJvcGVydHlOYW1lLCBzdGFydCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9hZE51bWJlcihwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXhOYW1lID0gaW5kZXhOYW1lO1xuICAgICAgICAgICAgdGhpcy5faXRlcmFibGVTdGFydCA9IHBhcnNlSW50KHN0YXJ0KTtcblxuICAgICAgICAgICAgcmV0dXJuIHN0bXQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9sb2FkRm9yUmFuZ2UzKCkge1xuICAgICAgICB0aGlzLl9zdG10LnJlcGxhY2Uoc3RtdFJhbmdlMywgKHN0bXQsIGluZGV4TmFtZSwgcHJvcGVydHlOYW1lLCBzdGFydCwgc3RlcCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9hZE51bWJlcihwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXhOYW1lID0gaW5kZXhOYW1lO1xuICAgICAgICAgICAgdGhpcy5faXRlcmFibGVTdGFydCA9IHBhcnNlSW50KHN0YXJ0KTtcbiAgICAgICAgICAgIHRoaXMuX2l0ZXJhYmxlU3RlcCA9IHBhcnNlSW50KHN0ZXApO1xuXG4gICAgICAgICAgICByZXR1cm4gc3RtdDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2xvYWRGb3JQcm9wZXJ0eSgpIHtcbiAgICAgICAgdGhpcy5fc3RtdC5yZXBsYWNlKHN0bXRQcm9wZXJ0eSwgKHN0bXQsIGluZGV4TmFtZSwgcHJvcGVydHlOYW1lKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkTnVtYmVyKHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleE5hbWUgPSBpbmRleE5hbWU7XG5cbiAgICAgICAgICAgIHJldHVybiBzdG10O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfbG9hZEZvckxpdGVyYWwoKSB7XG4gICAgICAgIHRoaXMuX3N0bXQucmVwbGFjZShzdG10TGl0ZXJhbCwgKHN0bXQsIGluZGV4TmFtZSwgcHJvcGVydHlOYW1lKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYWJsZUNvdW50ID0gcGFyc2VJbnQocHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4TmFtZSA9IGluZGV4TmFtZTtcblxuICAgICAgICAgICAgcmV0dXJuIHN0bXQ7XG4gICAgICAgIH0pO1xuICAgIH1cbn07IiwiaW1wb3J0IFBpRnVuY3Rpb24gZnJvbSAnLi9mdW5jdGlvbidcbmltcG9ydCBQaU9iamVjdCBmcm9tICcuL29iamVjdCdcblxuY29uc3Qgc3RtdEZvcmVhcmNoV2l0aEluZGV4ID0gL15cXCgoXFx3KylcXHMqLFxccyooXFx3KylcXClcXHMraW5cXHMrKFxcdysoXFwuXFx3KykqKSQvZ2k7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpRm9yRWFjaERpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3Ioc3RtdCwgY29udGV4dCA9IHt9LCBmbiA9IFBpRnVuY3Rpb24ubm9vcCkge1xuICAgICAgICB0aGlzLl9zdG10ID0gc3RtdDtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuX2ZuID0gZm47XG4gICAgICAgIHRoaXMuX2VuZCA9IFBpRnVuY3Rpb24ubm9vcDtcblxuICAgICAgICB0aGlzLl9sb2FkKCk7XG4gICAgfVxuXG4gICAgZ2V0IHZhcmlhYmxlSW50ZXJhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhcmlhYmxlSW50ZXJhYmxlTmFtZTtcbiAgICB9XG5cbiAgICBnZXQgb2JqZWN0SW50ZXJhYmxlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29iamVjdEludGVyYWJsZU5hbWU7XG4gICAgfVxuXG4gICAgbG9vcChmbikge1xuICAgICAgICB0aGlzLl9mbiA9IGZuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJ1bihhcnJheSA9IG51bGwsIGluZGV4QmVnaW4gPSAwLCBpbmRleEVuZCA9IC0xLCBzdGVwID0gMSkge1xuICAgICAgICBjb25zdCBvYmplY3RJbnRlcmFibGUgPSBhcnJheSB8fCBQaU9iamVjdC5leHRyYWN0VmFsdWUodGhpcy5fY29udGV4dCwgdGhpcy5fb2JqZWN0SW50ZXJhYmxlTmFtZSk7XG5cbiAgICAgICAgaWYgKG9iamVjdEludGVyYWJsZS5jb25zdHJ1Y3Rvci5uYW1lID09ICdGdW5jdGlvbicgfHwgb2JqZWN0SW50ZXJhYmxlLmNvbnN0cnVjdG9yLm5hbWUgPT0gJ09iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvcmVhY2hGbiA9IG5ldyBGdW5jdGlvbignX3RoaXMnLCAnb2JqJywgJ3ZuJywgJ2l4bicsICdmbicsIGBmb3IoY29uc3QgaSBpbiBvYmope2ZuKG9iaiwgaSwgdm4sIGl4bik7fWApO1xuICAgICAgICAgICAgZm9yZWFjaEZuKHRoaXMsIG9iamVjdEludGVyYWJsZSwgdGhpcy5fdmFyaWFibGVJbnRlcmFibGVOYW1lLCB0aGlzLl92YXJpYWJsZUluZGV4TmFtZSwgdGhpcy5fZm4pXG4gICAgICAgICAgICB0aGlzLl9lbmQoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBmb3JlYWNoRm4gPSBuZXcgRnVuY3Rpb24oJ190aGlzJywgJ2FycicsICdpbmRleEJlZ2luJywgJ2luZGV4RW5kJywgJ3N0ZXAnLCAndm4nLCAnaXhuJywgJ2ZuJywgYGZvcih2YXIgaSA9IGluZGV4QmVnaW4gOyBpIDwgaW5kZXhFbmQgOyBpICs9IHN0ZXApe2ZuKGFyciwgaSwgdm4sIGl4bik7fWApO1xuICAgICAgICBpZiAoaW5kZXhFbmQgPT0gLTEpIHtcbiAgICAgICAgICAgIGluZGV4RW5kID0gb2JqZWN0SW50ZXJhYmxlLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcmVhY2hGbih0aGlzLCBvYmplY3RJbnRlcmFibGUsIGluZGV4QmVnaW4sIGluZGV4RW5kLCBzdGVwLCB0aGlzLl92YXJpYWJsZUludGVyYWJsZU5hbWUsIHRoaXMuX3ZhcmlhYmxlSW5kZXhOYW1lLCB0aGlzLl9mbilcbiAgICAgICAgdGhpcy5fZW5kKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZW5kKGZuKSB7XG4gICAgICAgIHRoaXMuX2VuZCA9IGZuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9sb2FkKCkge1xuICAgICAgICBpZiAoc3RtdEZvcmVhcmNoV2l0aEluZGV4LnRlc3QodGhpcy5fc3RtdCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRGb3JlYWNoSW5kZXhBbmRQcm9wZXJ0aWVzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkRm9yZWFjaFByb3BlcnRpZXMoKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgX2xvYWRGb3JlYWNoSW5kZXhBbmRQcm9wZXJ0aWVzKCkge1xuICAgICAgICB0aGlzLl9zdG10LnJlcGxhY2Uoc3RtdEZvcmVhcmNoV2l0aEluZGV4LCAoc3RtdCwgaW5kZXhOYW1lLCBwcm9wZXJ0eU5hbWUsIGludGVyYWJsZU5hbWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3ZhcmlhYmxlSW50ZXJhYmxlTmFtZSA9IHByb3BlcnR5TmFtZTtcbiAgICAgICAgICAgIHRoaXMuX29iamVjdEludGVyYWJsZU5hbWUgPSBpbnRlcmFibGVOYW1lO1xuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGVJbmRleE5hbWUgPSBpbmRleE5hbWU7XG5cbiAgICAgICAgICAgIHJldHVybiBzdG10O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfbG9hZEZvcmVhY2hQcm9wZXJ0aWVzKCkge1xuICAgICAgICBjb25zdCBzdG10ID0gdGhpcy5fc3RtdDtcbiAgICAgICAgY29uc3QgdG9rZW5zID0gc3RtdC50cmltKCkuc3BsaXQoJyAnKTtcblxuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCAhPSAzKSB7XG4gICAgICAgICAgICB0aHJvdyBgUGlGb3JFYWNoRGlyZWN0aXZlOiBTdGF0ZW1lbnQgaW52w6FsaWRhIHBhcmEgbGHDp28gZm9yZWFjaCA9ICR7c3RtdH0uIFBhZHLDo28gZXNwZXJhZG86IFt2YXJpw6F2ZWwgaW4gaXRlcsOhdmVsXSBvdSBbKGluZGV4LCB2YXJpw6F2ZWwpIGluIGl0ZXLDoXZlbF1gO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdmFyaWFibGVJbmRleE5hbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl92YXJpYWJsZUludGVyYWJsZU5hbWUgPSB0b2tlbnNbMF07XG4gICAgICAgIHRoaXMuX29iamVjdEludGVyYWJsZU5hbWUgPSB0b2tlbnNbMl07XG4gICAgfVxufTsiLCIvKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUZ1bmN0aW9uIHtcbiAgICAvKipcbiAgICAgKiBGdW7Dp8OjbyB2YXppYVxuICAgICAqL1xuICAgIHN0YXRpYyBub29wKCkgeyB9XG59OyIsImltcG9ydCBQaVRyYW5zbGF0ZSBmcm9tIFwiLi90cmFuc2xhdGVcIjtcblxuZnVuY3Rpb24gdGltZW91dCh0aW1lLCBmbiwgY3R4KSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGZuLmNhbGwoY3R4KTtcbiAgICB9LCB0aW1lKTtcbn1cblxuZnVuY3Rpb24gdGltZW91dFNlYyh0aW1lLCBmbiwgY3R4KSB7XG4gICAgdGltZW91dCh0aW1lICogMTAwMCwgZm4sIGN0eCk7XG59XG5cbmZ1bmN0aW9uIGRlYm91bmNlKHRpbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGZuLCBjdHgpIHtcbiAgICAgICAgdGltZW91dCh0aW1lLCBmbiwgY3R4KTtcbiAgICB9XG59XG5cbmNvbnN0IGhlbHBlcnMgPSB7XG4gICAgX2FsbDogW10sXG5cbiAgICByZWdpc3RlcihuYW1lLCBmbikge1xuICAgICAgICB0aGlzLl9hbGwucHVzaChbbmFtZSwgZm5dKTtcbiAgICB9LFxuXG4gICAgZ2V0IGFsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsbDtcbiAgICB9XG59O1xuXG5oZWxwZXJzLnJlZ2lzdGVyKCdfJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBQaVRyYW5zbGF0ZS5nZXQuYXBwbHkoUGlUcmFuc2xhdGUsIGFyZ3VtZW50cyk7XG59KTtcblxuZXhwb3J0IHsgdGltZW91dCwgdGltZW91dFNlYywgZGVib3VuY2UsIGhlbHBlcnMgfTsiLCJpbXBvcnQgeyBnbG9iYWwgfSBmcm9tICcuL2VudidcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgbmV3IGNsYXNzIFBpSW5pdGlhbGl6ZSB7XG4gICAgI3JlYWR5Rm4gPSBbXTtcbiAgICAjYm9vdEZuID0gW107XG4gICAgI2Jvb3RJbml0ID0gW107XG4gICAgI2Jvb3RTdGFydCA9IFtdO1xuICAgICNpc0xvYWRlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBxdWUgc2Vyw6EgZXhlY3V0YWRhIG5vIGluaWNpbyBkbyBib290XG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpSW5pdGlhbGl6ZX1cbiAgICAgKi9cbiAgICBib290KGZuKSB7XG4gICAgICAgIHRoaXMuI2Jvb3RGbi51bnNoaWZ0KGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGdW7Dp8OjbyBleGVjdXRhZGEgYXBvcyBvIGJvb3RcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIENhbGxiYWNrXG4gICAgICogQHJldHVybnMge1BpSW5pdGlhbGl6ZX1cbiAgICAgKi9cbiAgICBpbml0KGZuKSB7XG4gICAgICAgIHRoaXMuI2Jvb3RJbml0LnVuc2hpZnQoZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1bsOnw6NvIGV4ZWN1dGFkYSBhcMOzcyBhIGluaWNpYWxpemHDp8Ojb1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gQ2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7UGlJbml0aWFsaXplfVxuICAgICAqL1xuICAgIHN0YXJ0KGZuKSB7XG4gICAgICAgIHRoaXMuI2Jvb3RTdGFydC51bnNoaWZ0KGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRhIGEgc2VxdWVuY2lhIGRlIGluY2lhbGl6YcOnw6NvOiBib290IC0+IGNhbGxiYWNrIC0+IHJlYWR5XG4gICAgICogXG4gICAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAgICovXG4gICAgbG9hZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChvaykgPT4ge1xuICAgICAgICAgICAgZ2xvYmFsLiQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuI2Rpc3BhdGNoKHRoaXMuI2Jvb3RGbik7XG4gICAgICAgICAgICAgICAgdGhpcy4jZGlzcGF0Y2godGhpcy4jYm9vdEluaXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuI2Rpc3BhdGNoKHRoaXMuI2Jvb3RTdGFydCk7XG4gICAgICAgICAgICAgICAgdGhpcy4jZGlzcGF0Y2godGhpcy4jcmVhZHlGbik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiNpc0xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJzspJylcbiAgICAgICAgICAgICAgICBvaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1bsOnw6NvIGV4ZWN1dGFkYSBhcMOzcyB0b2RvIHByb2Nlc3NvIGRlIGluaWNpYWxpemHDp8Ojb1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRnVuw6fDo28gcXVlIHNlcsOhIGV4ZWN1dGFkYSBkZXBvaXMgcXVlIG8gc2lzdGVtYSBlc3RpdmVyIGluaWNpYWxpemFkb1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgICAqL1xuICAgIHJlYWR5KCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKG9rLCBlcnIpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLiNpc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgIG9rKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiNyZWFkeUZuLnVuc2hpZnQob2spO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAjZGlzcGF0Y2goYXJyKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcnJbaV0oKTtcbiAgICAgICAgfVxuICAgIH1cbn07IiwiaW1wb3J0IHsgcmVnaXN0ZXIgfSBmcm9tICcuL2Vudic7XG5pbXBvcnQgUGlDbGFzcyBmcm9tICcuL2NsYXNzJ1xuaW1wb3J0IFBpQWN0aW9uIGZyb20gJy4vYWN0aW9uJ1xuaW1wb3J0IFBpT2JqZWN0IGZyb20gJy4vb2JqZWN0JztcbmltcG9ydCBQaUNvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCdcbmltcG9ydCBQaVN0cmluZyBmcm9tICcuL3N0cmluZyc7XG5pbXBvcnQgUGlDb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IFBpVXJsIGZyb20gJy4vdXJsJztcbmltcG9ydCBQaUFwcCBmcm9tICcuL2FwcCc7XG5pbXBvcnQgUGlUeXBlIGZyb20gJy4vdHlwZSc7XG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpTW9kZWwge1xuICAgICNwYXJhbWV0ZXJzID0gbnVsbDtcbiAgICAjYWN0aW9uTGlzdCA9IFtdO1xuICAgICN2YWxpZGF0b3JMaXN0ID0gW107XG4gICAgI2Jhc2VVcmwgPSAnJztcblxuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy4jYWN0aW9uTGlzdCA9IFtdO1xuICAgICAgICB0aGlzLiN2YWxpZGF0b3JMaXN0ID0gW107XG4gICAgICAgIHRoaXMuI2Jhc2VVcmwgPSAnJztcblxuICAgICAgICBpZiAoUGlUeXBlLmlzT2JqZWN0KGFyZ3NbMF0pKSB7XG4gICAgICAgICAgICBQaU9iamVjdC5leHRlbmRBbmRDYWxsKHRoaXMsIGFyZ3NbMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4jcGFyYW1ldGVycyA9IGFyZ3NbMF0gPT0gdW5kZWZpbmVkID8ge30gOiBhcmdzWzBdO1xuXG4gICAgICAgIHRoaXMuaW5pdCguLi5hcmdzKTtcbiAgICB9XG5cbiAgICBnZXRCYXNlVXJsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jYmFzZVVybDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmpldGEgYXMgcHJvcHJpZWRhZGVzIGRvIG9iamV0b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7anNvbn0ganNvbiAtIE9iamV0byBhIHNlciBpbmpldGFkbyBubyBvYmpldG8gYXR1YWxcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBfaW5qZWN0KGpzb24pIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4ganNvbikge1xuICAgICAgICAgICAgdGhpc1twcm9wZXJ0eV0gPSBqc29uW3Byb3BlcnR5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb25hIG8gb2JqZXRvIGF0dWFsXG4gICAgICogXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHRoaXMuY2xvbmVXaWxsTG9hZCgpO1xuICAgICAgICBsZXQganNvbiA9IHRoaXMudG9Kc29uKCk7XG4gICAgICAgIGxldCBjbG9uZSA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGpzb24pO1xuICAgICAgICB0aGlzLmNsb25lRGlkTG9hZChjbG9uZSk7XG5cbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cblxuICAgIGNsb25lRGlkTG9hZCgpIHtcblxuICAgIH1cblxuICAgIGNsb25lV2lsbExvYWQoKSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmlhIHVtYSBub3ZhIGluc3RhbmNpYSBkYSBjbGFzc2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IGFyZ3MgXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZSguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyguLi5hcmdzKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoLi4uYXJncyk7XG4gICAgfVxuXG4gICAgdG9Kc29uKCkge1xuICAgICAgICB0aGlzLmpzb25XaWxsQ29udmVydCgpO1xuICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcykpO1xuICAgICAgICB0aGlzLmpzb25EaWRDb252ZXJ0KGpzb24pO1xuXG4gICAgICAgIHJldHVybiBqc29uO1xuICAgIH1cblxuICAgIGpzb25EaWRDb252ZXJ0KGpzb24pIHtcblxuICAgIH1cblxuICAgIGpzb25XaWxsQ29udmVydCgpIHtcblxuICAgIH1cblxuICAgIGluc3RhbmNlcygpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemEgYXMgcm90YXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVXJsIGJhc2UgdXRpbGl6YWRhIHBlbGFzIGFjdGlvbnMgcGFyYSBhcyByZXF1ZXN0c1xuICAgICAqL1xuICAgIGluaXQodXJsKSB7XG4gICAgICAgIHRoaXMuX2xvYWRBY3Rpb25zKCk7XG4gICAgICAgIHRoaXMuX2xvYWRWYWxpZGF0aW9ucygpO1xuXG4gICAgICAgIHRoaXMuX2NvbmZpZ1VybCh1cmwgfHwgdGhpcy4jcGFyYW1ldGVycy51cmwgfHwgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluamV0YSBvIGpzb24gZGVudHJvIGRhIG1vZGVsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGpzb24gLSBKc29uIGEgc2VyIGluamV0YWRvIG5vIG1vZGVsb1xuICAgICAqIEByZXR1cm5zIHtQaU1vZGVsfVxuICAgICAqL1xuICAgIGluaXRXaXRoSnNvbihqc29uKSB7XG4gICAgICAgIHRoaXMuX2luamVjdChqc29uKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSB1bWEgYWN0aW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOb21lIGRhIHJvdGFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RtdCAtIFJvdGEgbm8gZm9ybWF0bzogTUVUSE9EOi9yb3V0ZT9xdWVyeXN0cmluZ1xuICAgICAqIEByZXR1cm5zIHtQaU1vZGVsfVxuICAgICAqL1xuICAgIGFkZEFjdGlvbihuYW1lLCBzdG10KSB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IG5ldyBQaUFjdGlvbih7XG4gICAgICAgICAgICBhY3Rpb25OYW1lOiBuYW1lLFxuICAgICAgICAgICAgYWN0aW9uU3RtdDogc3RtdCxcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuI2FjdGlvbkxpc3RbbmFtZV0gPSBhY3Rpb247XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW1hIHJlZ3JhIGRlIHZhbGlkYcOnw6NvIHBhcmEgdW1hIHByb3ByaWVkYWRlIGRhIG1vZGVsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBQcm9wcmllZGFkZSBkYSBtb2RlbFxuICAgICAqIEBwYXJhbSB7UGlWYWxpZGF0b3J9IHJ1bGUgLSBDbGFzc2UgcXVlIGltcGxlbWVudGEgYSByZWdyYSBkZSB2YWxpZGHDp8Ojb1xuICAgICAqIEByZXR1cm5zIHtQaU1vZGVsfVxuICAgICAqL1xuICAgIGFkZFZhbGlkYXRvcihuYW1lLCBydWxlKSB7XG4gICAgICAgIHRoaXMuI3ZhbGlkYXRvckxpc3RbbmFtZV0gPSBydWxlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgdW0gb2JqZXRvIGxpdGVyYWwgY29udGVuZG8gdG9kYXMgYXMgcmVncmFzIGRlIHZhbGlkYcOnw6NvXG4gICAgICogXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICB2YWxpZGF0b3JzKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB1bSBvYmpldG8gbGl0ZXJhbCBjb250ZW5kbyB0b2RhcyBhcyBhY3Rpb25zXG4gICAgICogXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICBhY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIHVtIHZhbG9yIHBhcmEgdW1hIHByb3ByaWVkYWRlLlxuICAgICAqIEVzdGUgbcOpdG9kbyBkaXNwYXJhIGEgZXhlY3XDp8OjbyBkYSB2YWxpZGHDp8OjbyBcbiAgICAgKiBkZSBwcm9wcmllZGFkZSBhbnRlcyBkZSBpbnNlcmlyIG8gdmFsb3JcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gTm9tZSBkYSBwcm9wcmllZGFkZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZSAtIFZhbG9yIGRhIHByb3ByaWVkYWRlXG4gICAgICogQHJldHVybnMge1BpTW9kZWx9XG4gICAgICovXG4gICAgc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgdHlwZSkge1xuICAgICAgICBjb25zdCBuYW1lcyA9IGtleS5zcGxpdCgnLicpO1xuICAgICAgICBsZXQgaXNDb21wb3NlZCA9IG5hbWVzLmxlbmd0aCA+IDEsXG4gICAgICAgICAgICBydWxlID0gdGhpcy4jdmFsaWRhdG9yTGlzdFtrZXldO1xuXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnaW50JzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZihpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGlzQ29tcG9zZWQpIHtcbiAgICAgICAgICAgIGxldCBsYXN0ID0gbmFtZXNbbmFtZXMubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBQaU9iamVjdC5leHRyYWN0UHJvcGVydHlDb250ZXh0KHRoaXMsIGtleSk7XG5cbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eSBpbnN0YW5jZW9mIFBpTW9kZWwpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zZXRQcm9wZXJ0eShsYXN0LCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eVtsYXN0XSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5W2xhc3RdKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eVtsYXN0XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHJ1bGUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNba2V5XSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNba2V5XSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBydWxlLmxvYWQodGhpcywga2V5LCB2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAocnVsZS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcnVsZS5sYWJlbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcmUgYSBtb2RlbCBjYXNvIGlkIHNlamEgemVybyBvdSBhdHVhbGl6YSBhIG1vZGVsIFxuICAgICAqIGNhc28gbyB2YWxvciBkbyBpZCBzZWphIG1haW9yIHF1ZSB6ZXJvXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpUHJvbWlzZX1cbiAgICAgKi9cbiAgICBzYXZlKCkge1xuICAgICAgICBpZiAodGhpcy5pZCA9PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLmluc2VydCgpXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaWQgPT0gMCkgcmV0dXJuIHRoaXMuaW5zZXJ0KCk7XG4gICAgICAgIGVsc2UgcmV0dXJuIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB1bWEgYWN0aW9uIHBlbG8gbm9tZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTm9tZSBkYSBhY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7UGlBY3Rpb259XG4gICAgICovXG4gICAgZ2V0QWN0aW9uKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2FjdGlvbkxpc3RbbmFtZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVudGFyIGluamV0YXIgb3MgZGF0YS1tb2RlbHMgZG8gY29tcG9uZW50IG5hIG1vZGVsIGNhc28gbyBwYXJhbWV0cm8gc2VqYSB1bSBQaUNvbXBvbmVudC5cbiAgICAgKiBSZXRvcm5hIGVtIHVtIGFycmF5IHN0cmluZyBjb20gdG9kb3Mgb3MgZXJyb3MgZW5jb250cmFkb3MuXG4gICAgICogU2UgbyBwYXJhbWV0cm8gZm9yIHVtIGpzb24gZWxlIGlyYSBpbmpldGFyIGFzIHByb3ByaWVkYWRlcyBuYSBtb2RlbC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge1BpQ29tcG9uZW50fSBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBcbiAgICAgKiBAcmV0dXJucyB7YXJyYXl9XG4gICAgICovXG4gICAgaW5qZWN0KGNvbXBvbmVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBQaUNvbXBvbmVudCB8fCBjb21wb25lbnQgaW5zdGFuY2VvZiBQaUFwcCkge1xuICAgICAgICAgICAgbGV0IG5hbWVzID0gUGlTdHJpbmcuY2xpcHMoY29tcG9uZW50LmVsZW1lbnQuaW5uZXJIVE1MLCAnZGF0YS1tb2RlbD1cIicsICdcIicpLFxuICAgICAgICAgICAgICAgIGlzQ29tcG9uZW50ID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgZXJyb3JzID0gW107XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSBQaU9iamVjdC5leHRlbmQoe30sIHtcbiAgICAgICAgICAgICAgICBpbnZhbGlkSW5wdXRDbGFzczogJ2ludmFsaWQtZmVlZGJhY2snXG4gICAgICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBwcm9wZXJ0eSA9IG5hbWVzW2ldLFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gY29tcG9uZW50LmVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9kZWw9XCInICsgcHJvcGVydHkgKyAnXCJdJyksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5maXJzdENoaWxkICYmIGVsZW1lbnQuZmlyc3RDaGlsZC5faGFzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZWxlbWVudC5maXJzdENoaWxkLl9jb21wb25lbnQuZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlzQ29tcG9uZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuX2hhc0NvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGVsZW1lbnQuX2NvbXBvbmVudC5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgaXNDb21wb25lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQ29tcG9uZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZWxlbWVudC5nZXQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV4dEVsZW1lbnQgPSBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudE1lc3NhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0RWxlbWVudCAmJiBuZXh0RWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3ZhbGlkYXRpb24tbWVzc2FnZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRNZXNzYWdlID0gbmV4dEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1lc3NhZ2Uuc2V0QXR0cmlidXRlKCd2YWxpZGF0aW9uLW1lc3NhZ2UnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoZWxlbWVudE1lc3NhZ2UsIGVsZW1lbnQubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnNldEN1c3RvbVZhbGlkaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsZW1lbnRNZXNzYWdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgZWxlbWVudE1lc3NhZ2UuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICAgICAgZWxlbWVudE1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZShvcHRpb25zLmludmFsaWRJbnB1dENsYXNzKTtcbiAgICAgICAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnd2FzLXZhbGlkYXRlZCcpO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUsIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXR5cGUnKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAobXNnKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRNZXNzYWdlLmlubmVySFRNTCA9IG1zZztcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1lc3NhZ2UuY2xhc3NMaXN0LmFkZChvcHRpb25zLmludmFsaWRJbnB1dENsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkobXNnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5jbGFzc0xpc3QuYWRkKCd3YXMtdmFsaWRhdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChtc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGVycm9ycztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBQaU1vZGVsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5qZWN0KGNvbXBvbmVudC50b0pzb24oKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luamVjdChjb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHJlcXVlc3RXaWxsR2V0KGpzb24pIHtcblxuICAgIH1cblxuICAgIGpzb25EaWRDb252ZXJ0KGpzb24pIHtcblxuICAgIH1cblxuICAgIHJlcXVlc3REaWRHZXQoanNvbikge1xuXG4gICAgfVxuXG4gICAgcmVxdWVzdFdpbGxQb3N0KGpzb24pIHtcblxuICAgIH1cblxuICAgIHJlcXVlc3REaWRQb3N0KGpzb24pIHtcblxuICAgIH1cblxuICAgIHJlc3BvbnNlU3VjY2Vzc1dpbGxMb2FkKGFjdGlvbiwgdXJsLCBkYXRhKSB7XG4gICAgICAgIHRoaXMucmVzcG9uc2VTdWNjZXNzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgcmVzcG9uc2VTdWNjZXNzKGFjdGlvbiwgdXJsLCAuLi5hcmdzKSB7XG4gICAgICAgIGFjdGlvbi5wcm9jZXNzU3VjY2Vzc1Jlc3BvbnNlLmFwcGx5KGFjdGlvbiwgYXJncyk7XG4gICAgICAgIHRoaXMucmVzcG9uc2VTdWNjZXNzRGlkTG9hZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIHJlc3BvbnNlU3VjY2Vzc0RpZExvYWQoKSB7XG5cbiAgICB9XG5cbiAgICByZXNwb25zZUVycm9yV2lsbExvYWQoYWN0aW9uLCB1cmwsIGRhdGEpIHtcbiAgICAgICAgdGhpcy5yZXNwb25zZUVycm9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgcmVzcG9uc2VFcnJvcihhY3Rpb24sIHVybCwgLi4uYXJncykge1xuICAgICAgICBhY3Rpb24ucHJvY2Vzc0Vycm9yUmVzcG9uc2UuYXBwbHkoYWN0aW9uLCBhcmdzKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZUVycm9yRGlkTG9hZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIHJlc3BvbnNlRXJyb3JEaWRMb2FkKCkge1xuXG4gICAgfVxuXG4gICAgX2xvYWRBY3Rpb25zKCkge1xuICAgICAgICBjb25zdCB1c2VyQWN0aW9ucyA9IHRoaXMuYWN0aW9ucygpO1xuICAgICAgICBjb25zdCBkZWZhdWx0QWN0aW9ucyA9IHtcbiAgICAgICAgICAgICdhZGQnOiAnUE9TVDovJyxcbiAgICAgICAgICAgICdpbnNlcnQnOiAnUE9TVDovJyxcbiAgICAgICAgICAgICd1cGRhdGUnOiAnUFVUOi86aWQnLFxuICAgICAgICAgICAgJ3JlbW92ZSc6ICdSRU1PVkU6LzppZCcsXG4gICAgICAgICAgICAnZ2V0JzogJ0dFVDovOmlkJyxcbiAgICAgICAgICAgICdmaW5kJzogJ0dFVDovZmluZC86aWQnLFxuICAgICAgICAgICAgJ2FsbCc6ICdHRVQ6LydcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IFBpT2JqZWN0LmV4dGVuZCh7fSwgZGVmYXVsdEFjdGlvbnMsIHVzZXJBY3Rpb25zKTtcblxuICAgICAgICBmb3IgKGxldCBuYW1lIGluIGFjdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQWN0aW9uKG5hbWUsIGFjdGlvbnNbbmFtZV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NvbmZpZ1VybCh1cmwpIHtcbiAgICAgICAgY29uc3QgbW9kZWxVcmwgPSBQaUNvbmZpZy5nZXQoJ21vZGVsLnVybCcpO1xuXG4gICAgICAgIGlmIChtb2RlbFVybCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QmFzZVVybCh1cmwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRCYXNlVXJsKG1vZGVsVXJsICsgdXJsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEJhc2VVcmwodXJsKSB7XG4gICAgICAgIGlmICh1cmwgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLiNiYXNlVXJsID0gUGlVcmwuY3JlYXRlKCdsb2NhbGhvc3QnKS5ocmVmKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiNiYXNlVXJsID0gdXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2xvYWRWYWxpZGF0aW9ucygpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdG9ycyA9IHRoaXMudmFsaWRhdG9ycygpO1xuICAgICAgICBmb3IgKHZhciB2IGluIHZhbGlkYXRvcnMpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVmFsaWRhdG9yKHYsIHZhbGlkYXRvcnNbdl0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlZ2lzdGVyKG1vZGVsKSB7XG4gICAgICAgIHJlZ2lzdGVyKG1vZGVsKVxuICAgIH1cbn07IiwiSFRNTEVsZW1lbnQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCdzcmMnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEhUTUxMaW5rRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgdGhpcy50eXBlID09ICdjaGVja2JveCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tlZDtcbiAgICB9XG5cbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgdGhpcy50eXBlID09ICdyYWRpbycpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tlZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbn07XG5cbkhUTUxQcmVFbGVtZW50LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5uZXJIVE1MO1xufTtcblxuSFRNTFByZUVsZW1lbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgdGhpcy5pbm5lckhUTUwgPSB2O1xufTtcblxuSFRNTEVsZW1lbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdzcmMnLCB2KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTExpbmtFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdocmVmJywgdik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgdGhpcy50eXBlID09ICdjaGVja2JveCcpIHtcbiAgICAgICAgdGhpcy5jaGVja2VkID0gdjtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiB0aGlzLnR5cGUgPT0gJ3JhZGlvJykge1xuICAgICAgICB0aGlzLmNoZWNrZWQgPSB2O1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy52YWx1ZSA9IHY7XG59OyIsImltcG9ydCBQaVJhbmRvbSBmcm9tICcuL3JhbmRvbSdcbmltcG9ydCBQaVN0cmluZyBmcm9tICcuL3N0cmluZyc7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbmFtZSBQaU9iamVjdFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaU9iamVjdCB7XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSBlIGNoYW1hIHRvZGFzIGFzIHByb3ByaWVkYWRlcyBjb20gbm9tZSBkZSBmdW7Dp8OjbyBkb3MgYXJndW1lbnRvcyBubyBwcmltZWlybyBwYXJhbWV0cm9cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIHN0YXRpYyBleHRlbmRBbmRDYWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgZHN0ID0gYXJndW1lbnRzWzBdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IG9iaiA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgcCBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRzdFtwXSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRzdFtwXShvYmpbcF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRzdFtwXSA9IG9ialtwXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZHN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhaSBvIGNvbnRleHRvIG9uZGUgcHJvcHJpZWRhZGUgZXhpc3RlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIG9iamV0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSAtIHBhdGggZGEgcHJvcHJpZWRhZGVcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIHN0YXRpYyBleHRyYWN0UHJvcGVydHlDb250ZXh0ID0gZnVuY3Rpb24gKG9iaiwgcHJvcGVydHkpIHtcbiAgICAgICAgbGV0IHAgPSBwcm9wZXJ0eS5zcGxpdCgnLicpO1xuXG4gICAgICAgIGlmIChwLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbSA9IHBbaV07XG4gICAgICAgICAgICAgICAgaWYgKG9ialttXSA9PSB1bmRlZmluZWQpIG9ialttXSA9IHt9O1xuICAgICAgICAgICAgICAgIG9iaiA9IG9ialttXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbWEgdW1hIGZ1bsOnw6NvIGRlIGNhbGxiYWNrIHNlbXByZSBxdWUgYSBwcm9wcmllZGFkZSBkbyBvYmpldG8gZm9yIGFsdGVyYWRhXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIE9iamV0byBiYXNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IC0gTm9tZSBkYSBwcm9wcmllZGFkZSBhIHNlciBtb25pdG9yYWRhXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBleGVjdXRhZG8gc2VtcHJlIGEgYSBwcm9wcmllZGFkZSDDqSBhbHRlcmFkYVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZXAgPSB0cnVlXSBkZWVwIC0gRGVmaW5lIHNlIGFzIHByb3ByaWVkYWRlcyBhY2ltYSB0YW1iZW0gc2Vyw6NvIG9ic2VydmFkYXNcbiAgICAgKi9cbiAgICBzdGF0aWMgb24gPSBmdW5jdGlvbiAob2JqLCBwcm9wZXJ0eSwgY2FsbGJhY2ssIGRlZXAgPSB0cnVlKSB7XG4gICAgICAgIGxldCBjdXJyZW50VmFsdWUgPSBQaU9iamVjdC5leHRyYWN0VmFsdWUob2JqLCBwcm9wZXJ0eSk7XG4gICAgICAgIGxldCBwYXRoID0gcHJvcGVydHkuc3BsaXQoJy4nKTtcblxuICAgICAgICBpZiAob2JqLl9fb25TZXRMaXN0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb2JqLl9fb25TZXRMaXN0ID0gW107XG4gICAgICAgICAgICBvYmouX19vblNldEZuID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob2JqLl9fb25TZXRGbltwcm9wZXJ0eV0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvYmouX19vblNldEZuW3Byb3BlcnR5XSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXhpc3QgPSBvYmouX19vblNldExpc3QuZmluZChwID0+IHAgPT0gcHJvcGVydHkpICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghZXhpc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IF9vYmogPSBQaU9iamVjdC5leHRyYWN0UHJvcGVydHlDb250ZXh0KG9iaiwgcHJvcGVydHkpO1xuICAgICAgICAgICAgY29uc3QgX3Byb3BlcnR5ID0gUGlTdHJpbmcubGFzdChwcm9wZXJ0eSwgJy4nKTtcblxuICAgICAgICAgICAgaWYgKCEoX3Byb3BlcnR5ID09ICdsZW5ndGgnICYmIFBpVHlwZS5pc0FycmF5KF9vYmopKSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfb2JqLCBfcHJvcGVydHksIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnJGbiA9IG9iai5fX29uU2V0Rm5bcHJvcGVydHldO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJGbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyckZuW2ldLmNiKHZhbHVlLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG9iai5fX29uU2V0TGlzdC5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlkID0gUGlSYW5kb20udXVpZCgneHh4LXh4eCcpO1xuICAgICAgICBsZXQgaWRzID0gW2lkXTtcbiAgICAgICAgb2JqLl9fb25TZXRGbltwcm9wZXJ0eV0ucHVzaCh7XG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBjYjogY2FsbGJhY2tcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGRlZXAgJiYgcGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBwYXRoLnBvcCgpO1xuICAgICAgICAgICAgY29uc3QgX2lkcyA9IFBpT2JqZWN0Lm9uKG9iaiwgcGF0aC5qb2luKCcuJyksIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGlkcyA9IGlkcy5jb25jYXQoX2lkcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaWRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBvZmYgPSBmdW5jdGlvbiAob2JqLCBpZHMpIHtcbiAgICAgICAgaWYgKG9iai5fX29uU2V0Rm4gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIG9iai5fX29uU2V0Rm4pIHtcbiAgICAgICAgICAgIGNvbnN0IGFyciA9IG9iai5fX29uU2V0Rm5bcHJvcGVydHldO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gYXJyW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpZHMuZmluZChlID0+IGUgPT0gaXRlbS5pZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgICAgICBhcnIuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhaSBvIHZhbG9yIGRlIHVtYSBwcm9wcmllZGFkZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBvYmpldG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgLSBwYXRoIGRhIHByb3ByaWVkYWRlXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICBzdGF0aWMgZXh0cmFjdFZhbHVlID0gZnVuY3Rpb24gKG9iaiwgcHJvcGVydHkpIHtcbiAgICAgICAgY29uc3QgcCA9IHByb3BlcnR5LnNwbGl0KCcuJyk7XG5cbiAgICAgICAgaWYgKHAubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gb2JqW3BbaV1dXG4gICAgICAgICAgICAgICAgaWYgKG9iaiA9PSB1bmRlZmluZWQpIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9ialtwcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHJpYnVpIHVtIHZhbG9yIGEgdW1hIHByb3ByaWVkYWRlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIG9iamV0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSAtIHBhdGggZGEgcHJvcHJpZGFkZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZSAtIHZhbG9yIGEgc2VyIGluc2VyaWRvIG5hIHByb3ByaWVkYWRlXG4gICAgICovXG4gICAgc3RhdGljIHNldFByb3BlcnR5ID0gZnVuY3Rpb24gKG9iaiwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHAgPSBwcm9wZXJ0eS5zcGxpdCgnLicpO1xuXG4gICAgICAgIGlmIChwLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RQcm9wZXJ0eSA9IHBbcC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvYmogPSBvYmpbcFtpXV1cbiAgICAgICAgICAgICAgICBpZiAob2JqID09IHVuZGVmaW5lZCkgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9ialtsYXN0UHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmpbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSB0b2RhcyBhcyBwcm9wcmllZGFkZXMgZSBtZXRvZG9zIGRlIHRvZG9zIG9zIHBhcmFtZXRyb3Mgbm8gcHJpbWVpcm9cbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIFBpT2JqZWN0LmV4dGVuZFxuICAgICAqIEBwYXJhbSB7YXJndW1lbnRzfSBhcmdcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGV4dGVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBvYmogPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKGxldCB2IGluIG9iaikge1xuICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXVt2XSA9IG9ialt2XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgfVxufTsiLCJpbXBvcnQgUGlDbGFzcyBmcm9tICcuL2NsYXNzJ1xuaW1wb3J0IHsgcmVnaXN0ZXIgfSBmcm9tICcuL2Vudic7XG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpUHJvbWlzZSBleHRlbmRzIFBpQ2xhc3Mge1xuICAgICNpc09uY2UgPSBmYWxzZTtcbiAgICAjcHJvbWlzZSA9IHRoaXMubmV3UHJvbWlzZSgpO1xuXG4gICAgaW5zdGFuY2VzKCkge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXNwZXJhIGF0w6kgcXVlIHRvZGFzIGFzIHByb21pc2VzIGluZm9ybWFkYXMgcG9yIHBhcmFtZXRyb1xuICAgICAqIHNlamFtIHJlc29sdmlkYXMuIENoYW1hIG8gY2FsbGJhY2sgZGUgb2sgY2FzbyBoYWphIHN1Y2Vzc29cbiAgICAgKiBlbSB0b2RvcyBvcyByZXRvcm5vcy4gQ2FzbyBoYWphIHVtIGVycm8gcmV0b3JuYSBvIGNhbGxiYWNrIGRlIGVycm9yXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpUHJvbWlzZX1cbiAgICAgKi9cbiAgICBzdGF0aWMgd2FpdChwcm9taXNlcyA9IG51bGwpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUGlQcm9taXNlKCk7XG4gICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgIHZhciBzdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgdmFyIGFyciA9IHByb21pc2VzIHx8IGFyZ3VtZW50cztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyW2ldLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID09IGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA/IHByb21pc2UucmVzb2x2ZSgpIDogcHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHVtYSBwcm9taXNlIG5hdGl2YSBhc3NvY2lhZGEgYSBpbnN0YW5jaWFcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlXG4gICAgICovXG4gICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmlhIHVtYSBwcm9taXNlIG5hdGl2YSBhc3NvY2lhZGEgYSBpbnN0YW5jaWFcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlXG4gICAgICovXG4gICAgbmV3UHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMub2socmVzb2x2ZSk7XG4gICAgICAgICAgICB0aGlzLmVycm9yKHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc29sdmUgYSBwcm9taXNlXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpUHJvbWlzZX1cbiAgICAgKi9cbiAgICByZXNvbHZlKCkge1xuICAgICAgICB0aGlzLl9hcmdPayA9IGFyZ3VtZW50cztcblxuICAgICAgICB0aGlzLl9jYWxsT2soKTtcbiAgICAgICAgdGhpcy5fY2FsbE9uY2UoKTtcbiAgICAgICAgdGhpcy5fY2FsbERvbmUoKTtcblxuICAgICAgICBpZiAodGhpcy4jaXNPbmNlKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKioqXG4gICAgICogVmluY3VsYSB1bWEgcHJvbWlzZSDDoCBwcm9taXNlIGF0dWFsXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpUHJvbWlzZX1cbiAgICAgKi9cbiAgICBsaW5rKHByb21pc2UpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgcHJvbWlzZS5vayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLnJlc29sdmUuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJvbWlzZS5lcnJvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLnJlamVjdC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWplaXRhIGEgcHJvbWlzZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaVByb21pc2V9XG4gICAgICovXG4gICAgcmVqZWN0KCkge1xuICAgICAgICB0aGlzLl9hcmdFcnIgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdGhpcy5fY2FsbEVycigpO1xuICAgICAgICB0aGlzLl9jYWxsRG9uZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLiNpc09uY2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIGNhbGxiYWNrIGRpc3BhcmFkbyBxdWFuZG8gYSBwcm9taXNlIGZvciByZXNvbHZpZGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIENhbGxiYWNrXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBPYmpldG8gZGUgY29udGV4dG9cbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIG9rKGNiLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX2NiT2sucHVzaCh7IGNiOiBjYiwgY29udGV4dDogY29udGV4dCB9KTtcblxuICAgICAgICBpZiAodGhpcy5faXNPaykge1xuICAgICAgICAgICAgdGhpcy5fY2FsbE9rKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBwYXJhIG3DqXRvZG8gb2tcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIENhbGxiYWNrXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBPYmpldG8gZGUgY29udGV4dG9cbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIHRoZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9rLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgY2FsbGJhY2sgZGlzcGFyYWRvIGFwZW5hcyB1bWEgdmV6IHF1YW5kbyBhIHByb21pc2UgZm9yIHJlc29sdmlkYVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIE9iamV0byBkZSBjb250ZXh0b1xuICAgICAqIEByZXR1cm5zIHtQaVByb21pc2V9XG4gICAgICovXG4gICAgb25jZShjYiwgY29udGV4dCkge1xuICAgICAgICB0aGlzLl9jYk9uY2UucHVzaCh7IGNiOiBjYiwgY29udGV4dDogY29udGV4dCB9KTtcblxuICAgICAgICBpZiAodGhpcy5faXNPaykge1xuICAgICAgICAgICAgdGhpcy5fY2FsbE9uY2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIGNhbGxiYWNrIGRpc3BhcmFkbyBxdWFuZG8gYSBwcm9taXNlIGZvciByZWplaXRhZGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIENhbGxiYWNrXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBPYmpldG8gZGUgY29udGV4dG9cbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIGVycm9yKGNiLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX2NiRXJyLnB1c2goeyBjYjogY2IsIGNvbnRleHQ6IGNvbnRleHQgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzRXJyKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxsRXJyKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKioqXG4gICAgICogQWxpYXMgcGFyYSBtw6l0b2RvIGVycm9yXG4gICAgICovXG4gICAgY2F0Y2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgY2FsbGJhY2sgZGlzcGFyYWRvIHNlbXByZSBxdWUgYSBwcm9taXNlIMOpIHJlc29sdmlkYSBvdSByZWplaXRhZGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIENhbGxiYWNrXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBPYmpldG8gZGUgY29udGV4dG9cbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIGRvbmUoY2IsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fY2JEb25lLnB1c2goeyBjYjogY2IsIGNvbnRleHQ6IGNvbnRleHQgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzRG9uZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FsbERvbmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIHBhcmEgbcOpdG9kbyBkb25lXG4gICAgICovXG4gICAgZmluYWxseSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9uZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpbXBhIHRvZG9zIG9zIGNhbGxiYWNrc1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaVByb21pc2V9XG4gICAgICovXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2NiT2sgPSBbXTtcbiAgICAgICAgdGhpcy5fY2JFcnIgPSBbXTtcbiAgICAgICAgdGhpcy5fY2JEb25lID0gW107XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRhIHRvZG9zIG9zIHZhbG9yZXNcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9jYk9rID0gW107XG4gICAgICAgIHRoaXMuX2NiRXJyID0gW107XG4gICAgICAgIHRoaXMuX2NiRG9uZSA9IFtdO1xuICAgICAgICB0aGlzLl9jYk9uY2UgPSBbXTtcblxuICAgICAgICB0aGlzLl9pc09rID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzRXJyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzRG9uZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2FyZ09rID0gW107XG4gICAgICAgIHRoaXMuX2FyZ0VyciA9IFtdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRvUHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Byb21pc2U7XG4gICAgfVxuXG4gICAgX2NhbGwoYXJyLCBhcmdzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBhcnIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGFycltpXS5jYi5hcHBseShhcnJbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2FsbE9uY2UoKSB7XG4gICAgICAgIHRoaXMuX2lzT2sgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jYWxsKHRoaXMuX2NiT25jZSwgdGhpcy5fYXJnT2spO1xuICAgICAgICB0aGlzLl9jYk9uY2UgPSBbXTtcbiAgICB9XG5cbiAgICBfY2FsbE9rKCkge1xuICAgICAgICB0aGlzLl9pc09rID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2FsbCh0aGlzLl9jYk9rLCB0aGlzLl9hcmdPayk7XG4gICAgfVxuXG4gICAgX2NhbGxFcnIoKSB7XG4gICAgICAgIHRoaXMuX2lzRXJyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2FsbCh0aGlzLl9jYkVyciwgdGhpcy5fYXJnRXJyKTtcbiAgICB9XG5cbiAgICBfY2FsbERvbmUoKSB7XG4gICAgICAgIHRoaXMuX2lzRG9uZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2NhbGwodGhpcy5fY2JEb25lLCBbXSk7XG4gICAgfVxufTtcblxucmVnaXN0ZXIoUGlQcm9taXNlKTsiLCJpbXBvcnQgeyByZWdpc3RlciB9IGZyb20gXCIuL2VudlwiO1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaVJhbmRvbSB7XG4gICAgc3RhdGljICNzZWVkID0gMDtcbiAgICAvKipcbiAgICAgKiBHZXJhIHVtIG7Dum1lcm8gYWxlYXTDs3Jpb1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgc3RhdGljIGdlbmVyYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIFBpUmFuZG9tLnJhbmdlKDAsIE51bWJlci5NQVhfVkFMVUUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlcmEgdW0gbsO6bWVybyBhbGVhdMOzcmlvIGVudHJlIHttaW59IGUge21heH1cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gX21pbiAtIFZhbG9yIG3DrW5pbW9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gX21heCAtIFZhbG9yIG3DoXhpbW9cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHN0YXRpYyByYW5nZShfbWluLCBfbWF4KSB7XG4gICAgICAgIF9taW4gPSBfbWluIHx8IDA7XG4gICAgICAgIF9tYXggPSBfbWF4IHx8IE51bWJlci5NQVhfVkFMVUU7XG5cbiAgICAgICAgbGV0IHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxICsgX21heCAtIF9taW4pKSArIF9taW47XG5cbiAgICAgICAgaWYgKHJhbmRvbSA+IF9tYXgpIHJldHVybiBfbWF4O1xuICAgICAgICBlbHNlIHJldHVybiByYW5kb207XG4gICAgfVxuXG4gICAgc3RhdGljIHV1aWQoZm9ybWF0KSB7XG4gICAgICAgIGxldCBkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIGxldCB1dWlkID0gKGZvcm1hdCB8fCAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4JykucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgbGV0IHIgPSAoZCArIE1hdGgucmFuZG9tKCkgKiAxNikgJSAxNiB8IDA7XG4gICAgICAgICAgICBkID0gTWF0aC5mbG9vcihkIC8gMTYpO1xuICAgICAgICAgICAgcmV0dXJuIChjID09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCkpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHV1aWQgKyAoUGlSYW5kb20uI3NlZWQrKyk7XG4gICAgfVxuXG59O1xuXG5yZWdpc3RlcihQaVJhbmRvbSk7IiwiaW1wb3J0IFBpQ29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBQaUNsYXNzIGZyb20gJy4vY2xhc3MnO1xuaW1wb3J0IFBpVXJsIGZyb20gJy4vdXJsJztcblxuY2xhc3MgQ2hhaW5SZXF1ZXN0SXRlbSB7XG4gICAgbmV4dCA9IG51bGw7XG4gICAgI2ZuID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKGZuKSB7XG4gICAgICAgIHRoaXMuI2ZuID0gZm47XG4gICAgfVxuXG4gICAgaW52b2tlKCkge1xuICAgICAgICB0aGlzLiNmbi5jYWxsKHRoaXMuI2ZuLCAuLi5hcmd1bWVudHMsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubmV4dC5pbnZva2UoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jbGFzcyBDaGFpblJlcXVlc3Qge1xuICAgICNyZXF1ZXN0cyA9IFtdO1xuXG4gICAgZmlyc3QoKSB7XG4gICAgICAgIGlmICh0aGlzLiNyZXF1ZXN0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4jcmVxdWVzdHNbMF07XG4gICAgfVxuXG4gICAgbGFzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuI3JlcXVlc3RzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLiNyZXF1ZXN0c1t0aGlzLiNyZXF1ZXN0cy5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICBhZGQoZm4pIHtcbiAgICAgICAgaWYgKGZuID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMubGFzdCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gbmV3IENoYWluUmVxdWVzdEl0ZW0oZm4pO1xuICAgICAgICBpZiAobGFzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBsYXN0Lm5leHQgPSBjdXJyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4jcmVxdWVzdHMucHVzaChjdXJyZW50KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpbnZva2UoKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gdGhpcy5maXJzdCgpO1xuICAgICAgICBpZiAoZmlyc3QgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBmaXJzdC5pbnZva2UuYXBwbHkoZmlyc3QsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpUmVxdWVzdCBleHRlbmRzIFBpQ2xhc3Mge1xuICAgICNzZW5kaW5nID0gZmFsc2U7XG4gICAgI3hociA9IG51bGw7XG4gICAgI2NoYWluUmVxdWVzdCA9IG5ldyBDaGFpblJlcXVlc3QoKTtcbiAgICAjbWV0aG9kID0gJ1BPU1QnO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy4jY2hhaW5SZXF1ZXN0XG4gICAgICAgICAgICAuYWRkKFBpQ29uZmlnLmdldCgncmVxdWVzdC5mZXRjaCcpKVxuICAgICAgICAgICAgLmFkZCgodXJsLCBzZXR0aW5ncywgc3VjY2VzcywgZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmZXRjaCh1cmwsIHNldHRpbmdzKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jc2VuZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS50ZXh0KCkudGhlbigodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHRleHQsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnRleHQoKS50aGVuKCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKHRleHQsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI3hociA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5tZXNzYWdlID09ICdGYWlsZWQgdG8gZmV0Y2gnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoYHsgXCJtZXNzYWdlXCI6IFwiJHtlLm1lc3NhZ2V9XCIsIFwic3RhdHVzXCI6IFwiZXJyb3JcIiB9YCwgNTAzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoYHsgXCJtZXNzYWdlXCI6IFwib2ZmbGluZVwiLCBcInN0YXR1c1wiOiBcImVycm9yXCIgfWAsIDUwMyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWRkSGFuZGxlcihmbikge1xuICAgICAgICB0aGlzLiNjaGFpblJlcXVlc3QuYWRkKGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBYm9ydGEgbyByZXF1ZXN0IGNhc28gYSBzb2xpY2l0YcOnw6NvIHRlbmhhIHNpZG8gZW52aWFkYVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaVJlcXVlc3R9XG4gICAgICovXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLiN4aHIpIHtcbiAgICAgICAgICAgIHRoaXMuI3hoci5hYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy4jeGhyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuI3NlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgc2UgYSByZXF1ZXN0IGVzdGEgc2VuZG8gZW52aWFkYVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzU2VuZGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3NlbmRpbmc7XG4gICAgfVxuXG4gICAgc2V0TWV0aG9kKG1ldGhvZCkge1xuICAgICAgICB0aGlzLiNtZXRob2QgPSBtZXRob2Q7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW52aWEgdW1hIHJlcXVlc3QgZG8gdGlwbyBHRVRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVXJsIGRhIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gUXVlcnkgc3RyaW5nIGNvbW8gb2JqZXRvXG4gICAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAgICovXG4gICAgZ2V0KHVybCwgb2JqLCBjb25maWcgPSAoeGhyKSA9PiB7IHJldHVybiB4aHI7IH0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBxcyA9ICcnO1xuXG4gICAgICAgICAgICBpZiAob2JqICE9IHVuZGVmaW5lZCkgcXMgPSAnPycgKyB0aGlzLiNjb252ZXJ0T2JqZWN0VG9Gb3JtRGF0YShvYmopO1xuXG4gICAgICAgICAgICB0aGlzLiNyZXF1ZXN0R2V0KHVybCArIHFzLCAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGV4dCwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICB9LCAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCh0ZXh0LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgIH0sIGNvbmZpZyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVudmlhIHVtYSBzb2xpY2l0YcOnw6NvIGRvIHRpcG8gR0VUIGUgZmF6IG8gcGFyc2UgSlNPTiBkYSByZXNwb3N0YVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVcmwgZGEgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBRdWVyeSBzdHJpbmcgY29tbyBvYmpldG9cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICBnZXRKc29uKHVybCwgb2JqLCBjb25maWcgPSAoeGhyKSA9PiB7IHJldHVybiB4aHI7IH0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBxcyA9ICcnO1xuXG4gICAgICAgICAgICBpZiAob2JqICE9IHVuZGVmaW5lZCkgcXMgPSAnPycgKyB0aGlzLiNjb252ZXJ0T2JqZWN0VG9Gb3JtRGF0YShvYmopO1xuXG4gICAgICAgICAgICB0aGlzLiNyZXF1ZXN0R2V0KHVybCArIHFzLFxuICAgICAgICAgICAgICAgICh0ZXh0LCBzdGF0dXNDb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4jZXhpc3RQcm90b2NvbChqc29uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24uc3RhdHVzID09ICdvaycpIHJlc29sdmUoanNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHJlamVjdChqc29uLm1lc3NhZ2UsIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKHRleHQsIHN0YXR1c0NvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh7fSwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiNleGlzdFByb3RvY29sKGpzb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi5zdGF0dXMgPT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChqc29uLm1lc3NhZ2UsIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGpzb24sIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgY29uZmlnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW52aWEgdW1hIHNvbGljaXRhw6fDo28gZG8gdGlwbyBQT1NULlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVcmwgZGEgcmVxdWVzZXRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gT2JqZXRvIGEgc2VyIGVudmlhZG8gbm8gZm9ybWF0byB2YWx1ZT1rZXlcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICBwb3N0KHVybCwgb2JqLCBjb25maWcgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgZm9ybURhdGEgPSB0aGlzLiNjb252ZXJ0T2JqZWN0VG9Gb3JtRGF0YShvYmopO1xuXG4gICAgICAgICAgICB0aGlzLiNyZXF1ZXN0UG9zdCh1cmwsIGVuY29kZVVSSShmb3JtRGF0YSksXG4gICAgICAgICAgICAgICAgKHRleHQsIHN0YXR1c0NvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0ZXh0LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICh0ZXh0LCBzdGF0dXNDb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh0ZXh0LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICh4aHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLmhlYWRlcnMuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZyh4aHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhocjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW52aWEgcGFyYSBhIHVybCBpbmZvcm1hZGEgYXJyYXkgZGUgRmlsZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVcmwgZGEgcmVxdWVzdCBlIGZheiBvIHBhcnNlIEpTT04gZGEgcmVzcG9zdGFcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBmaWxlcyAtIEFycmF5IEZpbGVcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICBzZW5kRmlsZXModXJsLCBmaWxlcywgY29uZmlnID0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoYGZpbGUke2l9YCwgZmlsZXNbaV0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy4jcmVxdWVzdFBvc3QodXJsLCBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiNleGlzdFByb3RvY29sKGpzb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi5zdGF0dXMgPT0gJ29rJykgcmVzb2x2ZShqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgcmVqZWN0KGpzb24ubWVzc2FnZSwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGpzb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHt9LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuI2V4aXN0UHJvdG9jb2woanNvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uLnN0YXR1cyA9PSAnZXJyb3InKSByZWplY3QoanNvbi5tZXNzYWdlLCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChqc29uLCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKHhocikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcoeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4aHI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVudmlhIHVtYSBzb2xpY2l0YcOnw6NvIGRvIHRpcG8gUE9TVCBlIGZheiBvIHBhcnNlIEpTT04gZGEgcmVzcG9zdGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVXJsIGRhIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gT2JqZXRvIGEgc2VyIGVudmlhZG8gbm8gZm9ybWF0byBqc29uXG4gICAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAgICovXG4gICAgcG9zdEpzb24odXJsLCBvYmosIGNvbmZpZyA9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuI3JlcXVlc3RQb3N0KHVybCwgSlNPTi5zdHJpbmdpZnkob2JqKSxcbiAgICAgICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiNleGlzdFByb3RvY29sKGpzb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi5zdGF0dXMgPT0gJ29rJykgcmVzb2x2ZShqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgcmVqZWN0KGpzb24ubWVzc2FnZSwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGpzb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHt9LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuI2V4aXN0UHJvdG9jb2woanNvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uLnN0YXR1cyA9PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGpzb24ubWVzc2FnZSwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoanNvbiwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICh4aHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLmhlYWRlcnMuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcoeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4aHI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICNyZXF1ZXN0R2V0KHVybCwgc3VjY2VzcywgZXJyb3IsIGNvbmZpZykge1xuICAgICAgICB0aGlzLiNtZXRob2QgPSAnR0VUJztcbiAgICAgICAgdGhpcy4jY3JlYXRlUmVxdWVzdCh1cmwsXG4gICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3ModGV4dCwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKHRleHQsIHN0YXR1c0NvZGUpID0+IHtcbiAgICAgICAgICAgICAgICBlcnJvcih0ZXh0LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoeGhyKSA9PiB7XG4gICAgICAgICAgICAgICAgeGhyLm1ldGhvZCA9IHRoaXMuI21ldGhvZDtcbiAgICAgICAgICAgICAgICB4aHIuaGVhZGVycy5hcHBlbmQoJ1gtUmVxdWVzdGVkLVdpdGgnLCAnWE1MSHR0cFJlcXVlc3QnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb25maWcoeGhyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAjcmVxdWVzdFBvc3QodXJsLCBmb3JtRGF0YSwgc3VjY2VzcywgZXJyb3IsIGNvbmZpZykge1xuICAgICAgICAvLyBsZXQgYXV0aCA9IFBpLmdldENvbmZpZygncmVxdWVzdC5BdXRob3JpemF0aW9uJyk7XG5cbiAgICAgICAgdGhpcy4jY3JlYXRlUmVxdWVzdCh1cmwsXG4gICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3ModGV4dCwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKHRleHQsIHN0YXR1c0NvZGUpID0+IHtcbiAgICAgICAgICAgICAgICBlcnJvcih0ZXh0LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoeGhyKSA9PiB7XG4gICAgICAgICAgICAgICAgeGhyLm1ldGhvZCA9IHRoaXMuI21ldGhvZDtcbiAgICAgICAgICAgICAgICB4aHIuaGVhZGVycy5hcHBlbmQoJ1gtUmVxdWVzdGVkLVdpdGgnLCAnWE1MSHR0cFJlcXVlc3QnKTtcbiAgICAgICAgICAgICAgICB4aHIuYm9keSA9IGZvcm1EYXRhO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZyh4aHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgICNjcmVhdGVSZXF1ZXN0KHVybCwgc3VjY2VzcywgZXJyb3IsIGNvbmZpZykge1xuICAgICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyk7XG5cbiAgICAgICAgdGhpcy4jeGhyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICB2YXIgc2V0dGluZ3MgPSBjb25maWcoe1xuICAgICAgICAgICAgc2lnbmFsOiB0aGlzLiN4aHIuc2lnbmFsLFxuICAgICAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgX3VybCA9IHVybCBpbnN0YW5jZW9mIFBpVXJsID8gdXJsIDogUGlVcmwuY3JlYXRlKHVybCk7XG5cbiAgICAgICAgdGhpcy4jc2VuZGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuI2NoYWluUmVxdWVzdC5pbnZva2UoX3VybCwgc2V0dGluZ3MsIHN1Y2Nlc3MsIGVycm9yKTtcbiAgICB9XG5cbiAgICAjZXhpc3RQcm90b2NvbChqc29uKSB7XG4gICAgICAgIHJldHVybiBqc29uLnN0YXR1cztcbiAgICB9XG5cbiAgICAjY29udmVydE9iamVjdFRvRm9ybURhdGEob2JqKSB7XG4gICAgICAgIGxldCBlbmNvZGVkU3RyaW5nID0gJyc7XG5cbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW5jb2RlZFN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuY29kZWRTdHJpbmcgKz0gJyYnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbmNvZGVkU3RyaW5nICs9IHByb3AgKyAnPScgKyBvYmpbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZW5jb2RlZFN0cmluZztcbiAgICB9XG5cbn07IiwiLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlTdGF0ZW1lbnQge1xuXG4gICAgLyoqXG4gICAgICogRXhlY3V0YSB1bWEgc3RhdGVtZW50IGluaWNpYW5kbyBlbSB1bSBjb250ZXh0b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0ZW1lbnQgLSBTdGF0ZW1lbnQgcXVlIHNlcsOhIGV4ZWN1dGFkYSBkZW50cm8gZG8gY29udGV4dG9cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIENvbnRleHRvIGRlIGV4ZWN1w6fDo29cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIHN0YXRpYyBleGVjKHN0YXRlbWVudCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gUGlTdGF0ZW1lbnQuZXhlY1dpdGhWYXJpYWJsZXMoc3RhdGVtZW50LCBbW10sIFtdXSwgY29udGV4dCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0YSB1bWEgc3RhdGVtZW50IGRlbnRybyBkZSB1bSBjb250ZXh0byBjb20gdmFyaWF2w6lpcyBkZSBlc2NvcG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RhdGVtZW50IC0gU3RhdGVtZW50XG4gICAgICogQHBhcmFtIHthcnJheX0gdmFyaWFibGVzIC0gQXJyYXkgY29tIG9zIG5vbWVzIGUgdmFsb3JlcyBkYXMgdmFyacOhdmVpc1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IC0gT2JqZXRvIGRlIGNvbnRleHRvXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICBzdGF0aWMgZXhlY1dpdGhWYXJpYWJsZXMoc3RhdGVtZW50LCB2YXJpYWJsZXMsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgdmFyaWFibGVOYW1lcyA9IHZhcmlhYmxlc1swXTtcbiAgICAgICAgY29uc3QgdmFyaWFibGVWYWx1ZXMgPSB2YXJpYWJsZXNbMV07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJpYWJsZU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YXJpYWJsZU5hbWUgPSB2YXJpYWJsZU5hbWVzW2ldO1xuICAgICAgICAgICAgaWYgKHZhcmlhYmxlTmFtZSA9PSAndGhpcycpIHtcbiAgICAgICAgICAgICAgICB2YXJpYWJsZU5hbWVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhcmlhYmxlTmFtZXNbaV0gPSB2YXJpYWJsZU5hbWVzW2ldLnJlcGxhY2VBbGwoJy4nLCAnJyk7XG4gICAgICAgICAgICBzdGF0ZW1lbnQgPSBzdGF0ZW1lbnQucmVwbGFjZUFsbCh2YXJpYWJsZU5hbWUsIHZhcmlhYmxlTmFtZXNbaV0pXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmdW5jID0gbmV3IEZ1bmN0aW9uKCdfdGhpcycsIC4uLnZhcmlhYmxlTmFtZXMsIGByZXR1cm4gKGZ1bmN0aW9uKCl7cmV0dXJuICR7c3RhdGVtZW50fX0pLmNhbGwoX3RoaXMpO2ApO1xuICAgICAgICByZXR1cm4gZnVuYyhjb250ZXh0LCAuLi52YXJpYWJsZVZhbHVlcyk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IHJlZ2lzdGVyIH0gZnJvbSBcIi4vZW52XCI7XG5pbXBvcnQgUGlUeXBlIGZyb20gXCIuL3R5cGVcIjtcbi8qKlxuICogQGNsYXNzIFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaVN0cmluZyB7XG4gICAgLyoqXG4gICAgICogQ29udmVydGUgdG9kYXMgYXMgcGFsYXZyYXMgZGEgc3RyaW5nIHBhcmEgY2FwaXRhbC4gQXMgcGFsYXZyYXMgcG9kZW0gZXN0YXIgc2VwZXJhZGFzIHBvciBlc3Bhw6dvIG91IF8gb3UgLVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBzdHJpbmcgXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBjYXBpdGFsKHN0cikge1xuICAgICAgICBpZiAoIVBpVHlwZS5pc1N0cmluZyhzdHIpKSByZXR1cm4gJyc7XG5cbiAgICAgICAgc3RyID0gc3RyLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgbGV0IHAgPSAvKF5bXFxzX1xcLi1dKlxcd3xbXFxzXFwuXy1dXFx3KSsvZ2ksXG4gICAgICAgICAgICBtID0gc3RyLm1hdGNoKHApO1xuXG4gICAgICAgIGZvciAobGV0IHYgaW4gbSkge1xuICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UobVt2XSwgbVt2XS50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgw7psdGltYSBwYWxhdnJhIHNlcGFyYWRhIHBvciBjYXJhY3RlclxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VwYXJhdG9yIC0gU2VwYXJhZG9yIGRlIHBhbGF2cmFzXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgbGFzdChzdHIsIHNlcGFyYXRvciA9ICcgJykge1xuICAgICAgICBjb25zdCB0b2tlbnMgPSBzdHIuc3BsaXQoc2VwYXJhdG9yKTtcblxuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBhIHByaW1laXJhIHBhbGF2cmEgc2VwYXJhZGEgcG9yIGNhcmFjdGVyXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZXBhcmF0b3IgLSBTZXBhcmFkb3IgZGUgcGFsYXZyYXNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBmaXJzdChzdHIsIHNlcGFyYXRvciA9ICcgJykge1xuICAgICAgICBjb25zdCB0b2tlbnMgPSBzdHIuc3BsaXQoc2VwYXJhdG9yKTtcblxuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRva2Vuc1swXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHVtYSBzdHJpbmcgZm9ybWF0YWRhIHNlZ3VuZG8gb3MgbWFyY2Fkb3JlcyBkZSB0ZXh0b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW59IGZvcm1hdCAtIFN0cmluZyBjb20gbWFyY2Fkb3JlcyBkZSB0ZXh0b1xuICAgICAqIEBwYXJhbSAgey4uLmFueX0gYXJncyAtIExpc3RhIGRlIHZhbG9lcnMgcGFyYSBvcyBtYXJjYWRvcmVzIGRlIHRleHRvXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZm9ybWF0KGZvcm1hdCwgLi4uYXJncykge1xuICAgICAgICByZXR1cm4gZm9ybWF0LnJlcGxhY2UoL3soXFxkKyl9L2csIGZ1bmN0aW9uIChtYXRjaCwgbnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3NbbnVtYmVyXSAhPSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgID8gYXJnc1tudW1iZXJdXG4gICAgICAgICAgICAgICAgOiBtYXRjaFxuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZheiBvIHJlY29ydGUgbm8gdGV4dG8gYmFzZWFkbyBub3MgY2FyYWN0ZXJlcyBpbmZvcm1hZG9zIG5vcyBwYXJhbWV0cm9zIGJlZ2luV29yZCBlIGVuZFdvcmRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRleHRvXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJlZ2luV29yZCAtIFBhbGF2cmEgcXVlIGluaWNpYSBvIGNsaXBwaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGVuZFdvcmQgLSBQYWxhdnJhIHF1ZSBmaW5hbGl6YSBvIGNsaXBwaW5nXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgY2xpcHModGV4dCwgYmVnaW5Xb3JkLCBlbmRXb3JkKSB7XG4gICAgICAgIGxldCBhcnIgPSBbXTtcbiAgICAgICAgbGV0IGkgPSAtMTtcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaSA9IHRleHQuaW5kZXhPZihiZWdpbldvcmQsIGkgKyAxKTtcbiAgICAgICAgICAgIGlmIChpID09IC0xKSBicmVhaztcbiAgICAgICAgICAgIGkgKz0gYmVnaW5Xb3JkLmxlbmd0aDtcblxuICAgICAgICAgICAgbGV0IGYgPSB0ZXh0LmluZGV4T2YoZW5kV29yZCwgaSArIDEpO1xuICAgICAgICAgICAgaWYgKGYgPT0gLTEpIGJyZWFrO1xuXG4gICAgICAgICAgICBhcnIucHVzaCh0ZXh0LnN1YnN0cihpLCBmIC0gaSkpO1xuICAgICAgICAgICAgaSA9IGYgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmVyaWZpY2Egc2UgbyBvYmpldG8gZXZlbnQgZm9ybmVjaWRvIGNvbnTDqW0gYXBlbmFzIGNhcmFjdGVyZXMgYWxwaGFudW3DqXJpY29zXG4gICAgICogXG4gICAgICogQG1ldGhvZCBpc0FscGhhTnVtZXJpY1xuICAgICAqIEBwYXJhbSB7ZXZlbnR9IGUgXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNBbHBoYU51bWVyaWMoZSkge1xuICAgICAgICBsZXQgY2hhckNvZGUgPSAoZS53aGljaCkgPyBlLndoaWNoIDogZS5rZXlDb2RlO1xuICAgICAgICBpZiAoY2hhckNvZGUgPT0gOCkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgbGV0IGtleW51bTtcbiAgICAgICAgbGV0IGtleWNoYXI7XG4gICAgICAgIGxldCBjaGFyY2hlY2sgPSAvW2EtekEtWjAtOV0vO1xuICAgICAgICBpZiAod2luZG93LmV2ZW50KSAvLyBJRVxuICAgICAgICB7XG4gICAgICAgICAgICBrZXludW0gPSBlLmtleUNvZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZS53aGljaCkgLy8gTmV0c2NhcGUvRmlyZWZveC9PcGVyYVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGtleW51bSA9IGUud2hpY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAga2V5Y2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoa2V5bnVtKTtcbiAgICAgICAgcmV0dXJuIGNoYXJjaGVjay50ZXN0KGtleWNoYXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvZG9zIG9zIGVzcGHDp29zIHBhcmEgY8OzZGlnbyBodG1sICZuYnNwO1xuICAgICAqIFxuICAgICAqIEBtZXRob2Qgc3BhY2UybmJzcFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBzcGFjZTJuYnNwKHN0cikge1xuICAgICAgICBpZiAoc3RyID09IG51bGwpIHJldHVybiAnJztcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXHMvZ2ksICcmbmJzcDsnKS5yZXBsYWNlKC9cXC0vZ2ksICcmbmJzcDstJm5ic3A7Jyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIHRyw6pzIHBvbnRvcyBhbyBmaW5hbCBkYSBzdHJpbmcgZGUgc2V1IHRhbWFuaG8gZXhjZWRlciBvIGxpbWl0ZSBmb3JuZWNpZG9cbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIHJldGljZW5jaWFzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciBcbiAgICAgKiBAcGFyYW0ge2ludH0gbGVuZ3RoIFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgcmV0aWNlbmNpYXMoc3RyLCBsZW5ndGgpIHtcbiAgICAgICAgaWYgKHN0ci5sZW5ndGggPiBsZW5ndGgpIHJldHVybiBzdHIuc3Vic3RyaW5nKDAsIGxlbmd0aCkgKyAnLi4uJztcbiAgICAgICAgZWxzZSByZXR1cm4gc3RyO1xuICAgIH1cbiAgICA7XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRvZG9zIG9zIGVzcGHDp29zIGRhIHN0cmluZ1xuICAgICAqIFxuICAgICAqIEBtZXRob2QgcmVtb3ZlU3BhY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVtb3ZlU3BhY2Uoc3RyKSB7XG4gICAgICAgIHJldHVybiAoc3RyIHx8ICcnKS5yZXBsYWNlKC9cXHMqL2dpLCAnJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgYSBwcmltZWlyYSBwYWxhdnJhIGRhIHN0cmluZ1xuICAgICAqIFxuICAgICAqIEBtZXRob2QgZmlydFdvcmRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZmlyc3RXb3JkKHN0cikge1xuICAgICAgICBpZiAoUGlUeXBlLmlzU3RyaW5nKHN0cikpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHIuc3BsaXQoJyAnKVswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIGEgw7psdGltYSBwYWxhdnJhIGRhIHN0cmluZ1xuICAgICAqIFxuICAgICAqIEBtZXRob2QgbGFzdFdvcmRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgbGFzdFdvcmQoc3RyKSB7XG4gICAgICAgIGlmIChQaVR5cGUuaXNTdHJpbmcoc3RyKSkge1xuICAgICAgICAgICAgbGV0IHAgPSBzdHIuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgIHJldHVybiBwW3AubGVuZ3RoIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIGEgcHJpbWVpcmEgZSDDumx0aW1hIHBhbGF2cmFzIGRhIHN0cmluZ1xuICAgICAqIFxuICAgICAqIEBtZXRob2QgZmlyc3RBbmRsYXN0V29yZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBmaXJzdEFuZGxhc3RXb3JkKHN0cikge1xuICAgICAgICBsZXQgcCA9IHN0ci5zcGxpdCgnICcpO1xuICAgICAgICBsZXQgZmlyc3QgPSAnJztcblxuICAgICAgICBpZiAocC5sZW5ndGggPT0gMSkgcmV0dXJuIHN0cjtcblxuICAgICAgICBmaXJzdCA9IHN0ci5zcGxpdCgnICcpWzBdO1xuXG4gICAgICAgIHJldHVybiBmaXJzdCArICcgJyArIHBbcC5sZW5ndGggLSAxXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydGUgdG9kYXMgYXMgcGFsYXZyYXMgZGEgc3RyaW5nIHBhcmEgY2FwaXRhbC4gQXMgcGFsYXZyYXMgcG9kZW0gZXN0YXIgc2VwZXJhZGFzIHBvciBlc3Bhw6dvIG91IF9cbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIGNhcGl0YWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgY2FwaXRhbChzdHIpIHtcbiAgICAgICAgaWYgKCFQaVR5cGUuaXNTdHJpbmcoc3RyKSkgcmV0dXJuICcnO1xuXG4gICAgICAgIHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGxldCBwID0gLyheW1xcc19cXC4tXSpcXHd8W1xcc1xcLl8tXVxcdykrL2dpLFxuICAgICAgICAgICAgbSA9IHN0ci5tYXRjaChwKTtcblxuICAgICAgICBmb3IgKGxldCB2IGluIG0pIHtcbiAgICAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1bdl0sIG1bdl0udG9VcHBlckNhc2UoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH07XG5cbiAgICBzdGF0aWMgcmVwbGFjZShpbnB1dCwgc2VhcmNoLCByZXBsYWNlbWVudCkge1xuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZShuZXcgUmVnRXhwKHNlYXJjaCwgJ2cnKSwgcmVwbGFjZW1lbnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWR1eiB1bSBub21lIGVtIG4gLSAxIHBhbGF2cmFzIGluaWNpYWlzIG1haXMgYSB1bHRpbWEgcGFsYXZyYVxuICAgICAqIFxuICAgICAqIEBtZXRob2QgY3V0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciBcbiAgICAgKiBAcGFyYW0ge2ludH0gdG90YWwgXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBjdXQoc3RyLCB0b3RhbCkge1xuICAgICAgICBpZiAoIVBpVHlwZS5pc1N0cmluZyhzdHIpIHx8IHRvdGFsIDwgMCkgcmV0dXJuIHN0cjtcblxuICAgICAgICBsZXQgcCA9IHN0ci5zcGxpdCgnICcpLFxuICAgICAgICAgICAgYXJyID0gW107XG5cbiAgICAgICAgLy9hZGljaW9uYSBhIHByaW1laXJhIHBhbGF2cmFcbiAgICAgICAgYXJyLnB1c2gocFswXSk7XG5cbiAgICAgICAgaWYgKHRvdGFsID4gcC5sZW5ndGgpIHRvdGFsID0gcC5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICBhcnIucHVzaChwW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vYWRpY2lvbmEgYSB1bHRpbWEgcGFsYXZyYVxuICAgICAgICBpZiAocC5sZW5ndGggPiB0b3RhbCkge1xuICAgICAgICAgICAgYXJyLnB1c2gocFtwLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcnIuam9pbignICcpO1xuICAgIH1cbn07XG5cbnJlZ2lzdGVyKFBpU3RyaW5nKTsiLCJpbXBvcnQgUGlPYmplY3QgZnJvbSAnLi9vYmplY3QnXG4vKipcbiAqIGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IG5ldyBjbGFzcyBQaVRyYW5zbGF0ZSB7XG4gICAgI3RhYmxlID0ge307XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdGFibGUgLSBDYXJyZWdhIHVtYSB0YWJlbGEgZGUgdHJhZHXDp8OjbyBwYXJhIG8gdHJhbnNsYXRlXG4gICAgICogQHJldHVybnMge1BpVHJhbnNsYXRlfVxuICAgICAqL1xuICAgIGxvYWQodGFibGUpIHtcbiAgICAgICAgUGlPYmplY3QuZXh0ZW5kKHRoaXMuI3RhYmxlLCB0YWJsZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIHVtIHZhbG9yIHBhcmEgdW1hIGNoYXZlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENoYXZlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVmFsb3JcbiAgICAgKiBAcmV0dXJucyB7UGlUcmFuc2xhdGV9XG4gICAgICovXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy4jdGFibGVba2V5XSA9IHZhbHVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgdW0gdmFsb3IgZGUgdW1hIGRhZGEgY2hhdmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3RhYmxlW2tleV0gfHwgJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmVyaWZpY2Egc2UgZXhpc3RlIHVtYSBjaGF2ZSBuYSB0YWJlbGEgZGUgdHJhZHXDp8Ojb1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBDaGF2ZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGV4aXN0KGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy4jdGFibGVba2V5XSAhPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBhZ2EgdG9kYSBhIHRhYmVsYSBkZSB0cmFkdcOnw6NvXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpVHJhbnNsYXRlfVxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLiN0YWJsZSA9IHt9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59OyIsImltcG9ydCB7Z2xvYmFsfSBmcm9tICcuL2VudidcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBuYW1lIFBpVHJlZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaVRyZWUge1xuICAgIC8qKlxuICAgICAqIENyaWEgdW1hIGFydsOzcmUgdmlydHVhbCBvbmRlIHRvZG9zIG9zIGVsZW1lbnRvcyBzZXLDo28gaW5zdGFuY2lhcyBkZSBQaUVsZW1lbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZShodG1sKSB7XG4gICAgICAgIGNvbnN0IHRyZWUgPSBuZXcgUGlUcmVlKCk7XG4gICAgICAgIGlmIChodG1sIGluc3RhbmNlb2YgRWxlbWVudCkgaHRtbCA9IGh0bWwuaW5uZXJIVE1MO1xuXG4gICAgICAgIGNvbnN0IGRvYyA9IHRyZWUuX2xvYWREb2N1bWVudChodG1sKTtcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRyZWUuX2xvYWRFbGVtZW50Um9vdChkb2MpO1xuXG4gICAgICAgIHJldHVybiByb290O1xuICAgIH1cblxuICAgIF9sb2FkRG9jdW1lbnQoaHRtbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgd3AgPSBuZXcgZ2xvYmFsLkRPTVBhcnNlcigpO1xuICAgICAgICAgICAgcmV0dXJuIHdwLnBhcnNlRnJvbVN0cmluZyhodG1sLCAndGV4dC9odG1sJyk7IC8vVmFpIGZhemVyIG8gcGFyc2UgZGUgc3RyaW5nIHBhcmEgRWxlbWVudFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1BpVHJlZTogTyBodG1sIGluZm9ybWFkbyBlc3RhIGZvcm1hdGFkbyBpbmNvcnJldGFtZW50ZScpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coaHRtbCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBfbG9hZEVsZW1lbnRSb290KGRvYykge1xuICAgICAgICBpZiAoZG9jID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsgLy8gVmFpIGNyaWFyIHVtIGZyYWdtZW50byBkYSBET00gcHJpbmNpcGFsXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBbLi4uZWxlbWVudC5jaGlsZHJlbl07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcm9vdC5hcHBlbmRDaGlsZChlbGVtZW50c1tpXSk7IC8vIFZhaSBhZGljaW9uYWwgdG9kb3Mgb3MgZWxlbWVudG9zIGRhIERPTSBwcmluY2lwYWwgcGFyYSBhIERPTSBmcmFnbWVudGFkYVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IHJlZ2lzdGVyIH0gZnJvbSBcIi4vZW52XCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpVHlwZSB7XG4gICAgLyoqXG4gICAgICogUmV0dXJuYSBzZSBvIHBhcmFtZXRybyDDqSBleGF0YW1lbnRlICd1bmRlZmluZWQnXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNVbmRlZmluZWQob2JqKSB7XG4gICAgICAgIGlmIChvYmogPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAob2JqID09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG4gICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgbyBub21lIGRvIGNvbnN0cnV0b3IgZG8gb2JqZXRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyB0eXBlb2Yob2JqKSB7XG4gICAgICAgIGxldCB2ID0gbnVsbDtcblxuICAgICAgICBpZiAob2JqICE9IHVuZGVmaW5lZCAmJiBvYmogIT0gbnVsbCAmJiAhUGlUeXBlLmlzTnVtYmVyKG9iaikpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdiA9IG9iai5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIGlmICh2ID09ICcnKSB2ID0gJ09iamVjdCc7XG4gICAgICAgICAgICB9IGNhdGNoIChleCkge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoUGlUeXBlLmlzTnVtYmVyKG9iaikpIHtcbiAgICAgICAgICAgIHJldHVybiAnTnVtYmVyJztcbiAgICAgICAgfSBlbHNlIGlmIChvYmogPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuICdVbmRlZmluZWQnXG4gICAgICAgIH0gZWxzZSBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gJ051bGwnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB0cnVlIHNlIG8gcGFyYW1ldHJvIMOpIHVtIG7Dum1lcm8gb3UgZmFsc2UgY2FzbyBjb250csOhcmlvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNOdW1iZXIob2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09ICdudW1iZXInICYmIGlzRmluaXRlKG9iaikgJiYgIWlzTmFOKG9iaikpIHJldHVybiB0cnVlO1xuICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybmEgdHJ1ZSBzZSBvIHBhcmFtZXRybyDDqSBudWxsIG91IHVuZGVmaW5lZFxuICAgICogXG4gICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIFxuICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgKi9cbiAgICBzdGF0aWMgaXNOdWxsT3JVbmRlZmluZWQob2JqKSB7XG4gICAgICAgIGlmIChvYmogPT0gbnVsbCB8fCBvYmogPT0gdW5kZWZpbmVkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuYSB0cnVlIHNlIG8gcGFyYW1ldHJvIMOpIHVtYSBmdW7Dp8Ojb1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGlzRnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicpIHJldHVybiB0cnVlO1xuICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5hIHRydWUgc2UgbyBwYXJhbWV0cm8gw6kgdW0gYXJyYXlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBpc0FycmF5KG9iaikge1xuICAgICAgICBpZiAoUGlUeXBlLnR5cGVvZihvYmopID09ICdBcnJheScpIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGlmIChQaVR5cGUudHlwZW9mKG9iaikgPT0gJ1N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICgvXlxcWy4qXFxdJC9naS50ZXN0KG9iaikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHRydWUgc2UgbyBwYXJhbWV0cm8gw6kgdW0gT2JqZWN0XG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNPYmplY3Qob2JqKSB7XG4gICAgICAgIGlmIChQaVR5cGUudHlwZW9mKG9iaikgPT0gJ09iamVjdCcpIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0JykgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgaWYgKFBpVHlwZS50eXBlb2Yob2JqKSA9PSAnU3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKC9eXFx7LipcXH0kL2dpLnRlc3Qob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybmEgdHJ1ZSBzZSBvIHBhcmFtZXRybyDDqSB1bWEgc3RyaW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNTdHJpbmcob2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09ICdzdHJpbmcnKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuYSB0cnVlIHNlIG8gcGFyYW1ldHJvIMOpIHVtIEJvb2xlYW5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBpc0Jvb2xlYW4ob2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09ICdib29sZWFuJykgcmV0dXJuIHRydWU7XG4gICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG5cbnJlZ2lzdGVyKFBpVHlwZSk7IiwiaW1wb3J0IFBpQXMgZnJvbSAnLi9hbGlhcyc7XG5pbXBvcnQgUGlDbGFzcyBmcm9tICcuL2NsYXNzJztcbmltcG9ydCBQaVR5cGUgZnJvbSAnLi90eXBlJztcbmltcG9ydCBQaVN0cmluZyBmcm9tICcuL3N0cmluZyc7XG5pbXBvcnQgeyBsb2NhdGlvbiwgcmVnaXN0ZXIsIHNldExvY2F0aW9uIH0gZnJvbSAnLi9lbnYnXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpVXJsIGV4dGVuZHMgUGlDbGFzcyB7XG4gICAgc3RhdGljIGFsaWFzID0gbmV3IFBpQXMoKTtcblxuICAgIGluaXQoKSB7XG4gICAgICAgIGxldCBhcnIgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICB1cmwgPSAnJztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFsaWFzID0gYXJyW2ldO1xuXG4gICAgICAgICAgICBpZiAoUGlVcmwuYWxpYXMuZXhpc3QoYXJyW2ldKSkge1xuICAgICAgICAgICAgICAgIGFsaWFzID0gUGlVcmwuYWxpYXMuZ2V0VmFsdWUoYXJyW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGFsaWFzWzBdID09ICcvJyAmJiB1cmxbdXJsLmxlbmd0aCAtIDFdID09ICcvJykge1xuICAgICAgICAgICAgICAgIHVybCArPSBhbGlhcy5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVybCArPSBhbGlhcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRVcmwodXJsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAgICogQHJldHVybnMge1BpVXJsfVxuICAgICAqL1xuICAgIHNldFVybCh1cmwpIHtcbiAgICAgICAgaWYgKFBpVXJsLmFsaWFzLmV4aXN0KHVybCkpIHtcbiAgICAgICAgICAgIHVybCA9IFBpVXJsLmFsaWFzLmdldFZhbHVlKHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoUGlVcmwuaXNWYWxpZCh1cmwpKSB0aGlzLl91cmwgPSB1cmw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT2J0ZW0gbyBzY2hlbWUgZGEgdXJsXG4gICAgICogXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBzY2hlbWUoKSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLmdldFVybCgpLFxuICAgICAgICAgICAgaSA9IHVybC5pbmRleE9mKCc6Jyk7XG5cbiAgICAgICAgaWYgKGkgPCAwKSByZXR1cm4gJyc7XG4gICAgICAgIHJldHVybiB1cmwuc3Vic3RyKDAsIGkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBvdSBvYnRlbSBvIGhvc3QgZGEgdXJsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGhvc3RcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGhvc3QoaG9zdCkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5nZXRVcmwoKSxcbiAgICAgICAgICAgIGggPSB0aGlzLl9wYXJzZSh1cmwsICdob3N0Jyk7XG5cbiAgICAgICAgaWYgKGhvc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFVybCh1cmwucmVwbGFjZShoLCBob3N0KSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBvdSBvYnRlbSBhIHBvcnRhIGRhIHVybFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGludH0gcG9ydCBcbiAgICAgKiBAcmV0dXJucyB7UGlVcmx8aW50fVxuICAgICAqL1xuICAgIHBvcnQocG9ydCkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5nZXRVcmwoKSxcbiAgICAgICAgICAgIHAgPSB0aGlzLl9wYXJzZSh1cmwsICdwb3J0JykgfHwgJyc7XG5cbiAgICAgICAgaWYgKFBpVHlwZS5pc1VuZGVmaW5lZChwb3J0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcHQgPSB0aGlzLnBvcnQoKSB8fCAnJyxcbiAgICAgICAgICAgIGhyZWYgPSB0aGlzLmhyZWYoKTtcblxuICAgICAgICBpZiAocHQubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKGhyZWYsIGhyZWYgKyAnOicgKyBwb3J0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKHAsIHBvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRVcmwodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgb3Ugb2J0ZW0gbyBocmVmIGRhIHVybFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBIcmVmXG4gICAgICogQHJldHVybnMge1BpVXJsfHN0cmluZ31cbiAgICAgKi9cbiAgICBocmVmKHVybCkge1xuICAgICAgICBsZXQgdSA9IHRoaXMuaG9zdCgpLFxuICAgICAgICAgICAgaCA9IHUsXG4gICAgICAgICAgICBzID0gdGhpcy5fcGFyc2UodGhpcy5nZXRVcmwoKSwgJ3NjaGVtZScpO1xuXG4gICAgICAgIGlmICh1cmwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IHAgPSB0aGlzLnBvcnQoKTtcblxuICAgICAgICAgICAgaWYgKHAubGVuZ3RoID09IDApIHAgPSAnJztcbiAgICAgICAgICAgIGVsc2UgcCA9ICc6JyArIHA7XG5cbiAgICAgICAgICAgIGlmIChzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBoID0gcyArICc6Ly8nICsgdSArIHA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGggPSB1ICsgcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGg7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFVybCh1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBvdSBvYnRlbSBvIGhhc2ggZGEgdXJsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGhhc2ggXG4gICAgICogQHJldHVybnMge1BpVXJsfHN0cmluZ31cbiAgICAgKi9cbiAgICBoYXNoKGhhc2gpIHtcbiAgICAgICAgbGV0IHVybCA9IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgICAgICBoaCA9IHRoaXMuX3BhcnNlKHVybCwgJ2hhc2gnKTtcblxuICAgICAgICBpZiAoaGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gaGg7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmIChoaC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VXJsKHVybCArICcjJyArIGhhc2gpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFVybCh1cmwucmVwbGFjZShoaCwgaGFzaCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuZXhhIGFvIHBhdGggZGEgdXJsIG8gcGF0aCBpbmZvcm1hZG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBcbiAgICAgKiBAcmV0dXJucyB7UGlVcmx9XG4gICAgICovXG4gICAgYXBwZW5kUGF0aChwYXRoKSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLmdldFVybCgpLFxuICAgICAgICAgICAgcCA9IHRoaXMuX3BhcnNlKHVybCwgJ3BhdGgnKTtcblxuICAgICAgICBpZiAoUGlVcmwuYWxpYXMuZXhpc3QocGF0aCkpIHtcbiAgICAgICAgICAgIHBhdGggPSBQaVVybC5hbGlhcy5nZXRWYWx1ZShwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1cmwuc3Vic3RyaW5nKHVybC5sZW5ndGggLSAxKSAhPSAnLycpIHVybCArPSAnLyc7XG4gICAgICAgIHRoaXMuc2V0VXJsKHVybCArIHBhdGgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgb3Ugb2J0ZW0gbyBwYXRoIGRhIHVybFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFxuICAgICAqIEByZXR1cm5zIHtQaVVybHxzdHJpbmd9XG4gICAgICovXG4gICAgcGF0aChwYXRoKSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLmdldFVybCgpLFxuICAgICAgICAgICAgcCA9IHRoaXMuX3BhcnNlKHVybCwgJ3BhdGgnKSxcbiAgICAgICAgICAgIHBwID0gJy8nICsgcDtcblxuICAgICAgICBpZiAocGF0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcHA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoUGlVcmwuYWxpYXMuZXhpc3QocGF0aCkpIHtcbiAgICAgICAgICAgIHBhdGggPSBQaVVybC5hbGlhcy5nZXRWYWx1ZShwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBpZiAodXJsLnN1YnN0cmluZyh1cmwubGVuZ3RoIC0gMSkgIT0gJy8nICYmIHBhdGguY2hhckF0KDApICE9ICcvJykgdXJsICs9ICcvJyArIHBhdGg7XG4gICAgICAgICAgICBlbHNlIHVybCArPSBwYXRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UocHAsIHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRVcmwodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgb3Ugb2J0ZW0gbyBmaWxlbmFtZSBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZW5hbWUgXG4gICAgICogQHJldHVybnMge1BpVXJsfHN0cmlufVxuICAgICAqL1xuICAgIGZpbGVuYW1lKGZpbGVuYW1lKSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLmdldFVybCgpO1xuXG4gICAgICAgIGlmIChmaWxlbmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdXJsLnJlcGxhY2UoL1xcXFwvZywgJy8nKS5yZXBsYWNlKC8uKlxcLy8sICcnKS5yZXBsYWNlKC9cXD8uKi8sICcnKSB8fCAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCB1ID0gdGhpcy5nZXRVcmwoKSxcbiAgICAgICAgICAgICAgICBmID0gdGhpcy5maWxlbmFtZSgpO1xuXG4gICAgICAgICAgICB0aGlzLnNldFVybCh1LnJlcGxhY2UoZiwgZmlsZW5hbWUpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIG91IG9idGVtIGEgcXVlcnkgc3RyaW5nIGRhIHVybFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeSBcbiAgICAgKiBAcmV0dXJucyB7UGlVcmx8c3RyaW5nfVxuICAgICAqL1xuICAgIHF1ZXJ5KHF1ZXJ5KSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLmdldFVybCgpLFxuICAgICAgICAgICAgcCA9IHRoaXMuX3BhcnNlKHVybCwgJ3F1ZXJ5Jyk7XG5cbiAgICAgICAgaWYgKHF1ZXJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHEgPSB0aGlzLnF1ZXJ5KCk7XG4gICAgICAgICAgICB0aGlzLnNldFVybCh1cmwucmVwbGFjZShxLCBxdWVyeSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSB1bWEgdmFsb3IgYSBxdWVyeSBzdHJpbmdcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBWYWxvclxuICAgICAqIEByZXR1cm5zIHtQaVVybH1cbiAgICAgKi9cbiAgICBhZGRRdWVyeShrZXksIHZhbHVlKSB7XG4gICAgICAgIGxldCBxID0gdGhpcy5xdWVyeSgpLFxuICAgICAgICAgICAgdXJsID0gdGhpcy5nZXRVcmwoKSxcbiAgICAgICAgICAgIHFzID0gUGlTdHJpbmcuZm9ybWF0KCd7MX09ezJ9JywgdXJsLCBrZXksIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgIGlmIChxLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnNldFVybCh1cmwgKyAnPycgKyBxcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFVybCh1cmwgKyAnJicgKyBxcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPYnRlbSB1bSB2YWxvciBkYSBxdWVyeSBzdHJpbmcgcGVsYSBzdWEgY2hhdmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldFF1ZXJ5KGtleSkge1xuICAgICAgICBsZXQgcXMgPSB0aGlzLnF1ZXJ5KCkuc3BsaXQoJyYnKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHFzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcSA9IHFzW2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICBpZiAocVswXSA9PSBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHFbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9idGVtIG8gZGlybmFtZSBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGRpcm5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFVybCgpLnJlcGxhY2UoL1xcXFwvZywgJy8nKS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIGEgdXJsIGZvcm1hdGFkYVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0VXJsKCkge1xuICAgICAgICAvLyB2YXIgbSA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICAvLyBpZiAoUGlTdWJkb21haW5zLmV4aXN0KG0pKSB7XG4gICAgICAgIC8vICAgICB2YXIgcyA9IFBpU3ViZG9tYWlucy5uZXh0KG0pO1xuICAgICAgICAvLyAgICAgcmV0dXJuIFBpU3RyaW5nLmZvcm1hdCh0aGlzLnVybCwgcyk7XG4gICAgICAgIC8vIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fdXJsIHx8ICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIHRvIGdldFVybFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtzdHJpbn1cbiAgICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXJsKCk7XG4gICAgfVxuXG4gICAgX3BhcnNlKHVybCwgcGFydGUpIHtcbiAgICAgICAgbGV0IHAgPSB7ICd1cmwnOiAwLCAnc2NoZW1lJzogMSwgJ3NsYXNoJzogMiwgJ2hvc3QnOiAzLCAncG9ydCc6IDQsICdwYXRoJzogNSwgJ3F1ZXJ5JzogNiwgJ2hhc2gnOiA3IH0sXG4gICAgICAgICAgICBwYXR0ZXJuID0gL14oPzooW0EtWmEtel0rKTopPyhcXC97MCwzfSkoWzAtOS5cXC1BLVphLXpdKykoPzo6KFxcZCspKT8oPzpcXC8oW14/I10qKSk/KD86XFw/KFteI10qKSk/KD86IyguKikpPyQvLFxuICAgICAgICAgICAgcyA9IHBhdHRlcm4uZXhlYyh1cmwgfHwgJycpO1xuXG4gICAgICAgIGlmIChzID09IG51bGwpIHJldHVybiAnJztcbiAgICAgICAgcmV0dXJuIHNbcFtwYXJ0ZV1dIHx8ICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZlcmlmaWNhIHNlIGEgdXJsIGluZm9ybWFkYSDDqSB2YWxpZGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBpc1ZhbGlkKHVybCkge1xuICAgICAgICByZXR1cm4gLyhodHRwfGh0dHBzfCkoOlxcL1xcL3wpKFtcXHctXStcXC4/KStbXFx3LV0rKFxcL1tcXHctIC5cXC8/JSY9XSopPy8udGVzdCh1cmwgfHwgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIGEgbGlzdGEgZGUgcGFyYW1ldHJvcyBhIHVybFxuICAgICAqIFxuICAgICAqL1xuICAgIHN0YXRpYyBhZGQoKSB7XG4gICAgICAgIFBpVXJsLmFsaWFzLmFkZC5hcHBseShQaVVybC5hbGlhcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQobmFtZSkge1xuICAgICAgICByZXR1cm4gUGlVcmwuYWxpYXMuZ2V0VmFsdWUobmFtZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHRvKCkge1xuICAgICAgICBsZXQgYXJyID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgdXJsID0gJyc7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBhbGlhcyA9IGFycltpXTtcblxuICAgICAgICAgICAgaWYgKFBpVXJsLmFsaWFzLmV4aXN0KGFycltpXSkpIHtcbiAgICAgICAgICAgICAgICBhbGlhcyA9IFBpVXJsLmFsaWFzLmdldFZhbHVlKGFycltpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhbGlhc1swXSA9PSAnLycgJiYgdXJsW3VybC5sZW5ndGggLSAxXSA9PSAnLycpIHtcbiAgICAgICAgICAgICAgICB1cmwgKz0gYWxpYXMuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmwgKz0gYWxpYXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHNldExvY2F0aW9uKHVybCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHF1ZXJ5KHF1ZXJ5KSB7XG4gICAgICAgIGxldCBxID0gUGlVcmwuY3JlYXRlKGxvY2F0aW9uKCkpLnF1ZXJ5KCksXG4gICAgICAgICAgICBwID0gcS5zcGxpdCgnJicpO1xuXG4gICAgICAgIGZvciAobGV0IGkgaW4gcCkge1xuICAgICAgICAgICAgbGV0IHBwID0gcFtpXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgaWYgKHBwWzBdID09IHF1ZXJ5KSByZXR1cm4gcHBbMV07XG4gICAgICAgIH1cbiAgICB9XG5cbn07XG5cbnJlZ2lzdGVyKFBpVXJsKTsiLCJpbXBvcnQgUGlSYW5kb20gZnJvbSAnLi9yYW5kb20nXG5pbXBvcnQge2dsb2JhbCwgbG9jYXRpb24sIHJlZ2lzdGVyfSBmcm9tICcuL2VudidcbmltcG9ydCBQaVR5cGUgZnJvbSAnLi90eXBlJ1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaVVybEhhc2gge1xuICAgIHN0YXRpYyBfY2FsbGJhY2tzID0gW107XG4gICAgc3RhdGljIF9mbldpbGxDaGFuZ2VzID0gW107XG4gICAgc3RhdGljIF9mbkRpZENoYW5nZXMgPSBbXTtcbiAgICAjaGFzaElkID0gMDtcblxuICAgIC8qKlxuICAgICAqIERpc3BhcmFkbyBzZW1wcmUgcXVlIGEgaGFzaCBkYSB1cmwgZm9yIGFsdGVyYWRhXG4gICAgICovXG4gICAgaGFzaERpZENoYW5nZSgpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9ic2VydmEgbXVkYW7Dp2FzIG5vIGhhc2ggZGEgdXJsXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpVXJsSGFzaH1cbiAgICAgKi9cbiAgICBsaXN0ZW4oKSB7XG4gICAgICAgIHRoaXMuI2hhc2hJZCA9IFBpUmFuZG9tLnV1aWQoJ3h4eC14eHgnKTtcblxuICAgICAgICBQaVVybEhhc2guX2NhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiB0aGlzLiNoYXNoSWQsXG4gICAgICAgICAgICBjYjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhhc2hEaWRDaGFuZ2UoUGlVcmxIYXNoLmdldCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVpeGEgZGUgb2JzZXJ2YXIgbXVkYW7Dp2FzIG5vIGhhc2ggZGEgdXJsXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpVXJsSGFzaH1cbiAgICAgKi9cbiAgICB1bmxpc3RlbigpIHtcbiAgICAgICAgY29uc3QgYXJyID0gUGlVcmxIYXNoLl9jYWxsYmFja3M7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBhcnJbaV07XG4gICAgICAgICAgICBpZiAoaXRlbS5pZCA9PSB0aGlzLiNoYXNoSWQpIHtcbiAgICAgICAgICAgICAgICBQaVVybEhhc2guX2NhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgbyB2YWxvciBhdHVhbCBkbyBoYXNoIGRhIHVybFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGdldCgpIHtcbiAgICAgICAgbGV0IGggPSBsb2NhdGlvbigpLmhhc2g7XG4gICAgICAgIGggPSBoLmxlbmd0aCA9PSAwID8gaCA6IGguc3Vic3RyKDEpO1xuXG4gICAgICAgIHJldHVybiBoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBvIHZhbG9yIGRvIGhhc2ggZGEgdXJsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGhhc2ggLSBWYWxvciBkbyBoYXNoXG4gICAgICovXG4gICAgc3RhdGljIHRvKGhhc2gpIHtcbiAgICAgICAgbGV0IGggPSBQaVVybEhhc2guZ2V0KCk7XG4gICAgICAgIGxldCBxID0gaC5pbmRleE9mKCc/Jyk7XG5cbiAgICAgICAgaWYgKHEgPiAtMSkge1xuICAgICAgICAgICAgcSA9IGguc3Vic3RyKHEpO1xuICAgICAgICAgICAgaCA9IGguc3Vic3RyKDAsIHEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcSA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCchJyArIGggPT0gaGFzaCB8fCAnIScgKyBoYXNoID09IGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaGFzaCArPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9jYXRpb24oKS5oYXNoID0gaGFzaDtcblxuICAgICAgICByZXR1cm4gUGlVcmxIYXNoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgbyB2YWxvciBkYSBxdWVyeSBzdHJpbmcgbm8gaGFzaCBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmUgZGEgcXVlcnkgc3RyaW5nXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0UXVlcnlTdHJpbmcoa2V5KSB7XG4gICAgICAgIGxldCBoID0gUGlVcmxIYXNoLmdldCgpO1xuICAgICAgICBsZXQgcHMgPSBoLnNwbGl0KCc/Jyk7XG5cbiAgICAgICAgaWYgKHBzLmxlbmd0aCA8IDIpIHJldHVybiAnJztcbiAgICAgICAgbGV0IGt2ID0gcHNbMV0uc3BsaXQoJyYnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrdi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGsgPSBrdltpXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgaWYgKGtbMF0gPT0ga2V5KSByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGtbMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRRdWVyeUludChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KFBpVXJsSGFzaC5nZXRRdWVyeVN0cmluZyhrZXkpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0UXVlcnlGbG9hdChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoUGlVcmxIYXNoLmdldFF1ZXJ5U3RyaW5nKGtleSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB1bSBwYXIgY2hhdmUtdmFsb3IgZGEgcXVlcnkgc3RyaW5nIGRvIGhhc2ggZGEgdXJsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENoYXZlIGRhIHF1ZXJ5IHN0cmluZ1xuICAgICAqL1xuICAgIHN0YXRpYyByZW1vdmVRdWVyeVN0cmluZyhrZXkpIHtcbiAgICAgICAgbGV0IGggPSBQaVVybEhhc2guZ2V0KCk7XG4gICAgICAgIGxldCBwcyA9IGguc3BsaXQoJz8nKTtcblxuICAgICAgICBpZiAoa2V5ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9jYXRpb24oKS5oYXNoID0gcHNbMF07XG4gICAgICAgICAgICByZXR1cm4gUGlVcmxIYXNoO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHAgPSBbXTtcbiAgICAgICAgbGV0IG1hcCA9IFtdO1xuXG4gICAgICAgIGlmIChwcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBwID0gcHNbMV0uc3BsaXQoJyYnKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwW2ldLmxlbmd0aCA9PSAwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGxldCBfcHMgPSBwW2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICAgICAgbWFwW19wc1swXV0gPSBfcHNbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgbWFwW2tleV07XG5cbiAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXApIHtcbiAgICAgICAgICAgIGFyci5wdXNoKGAke2tleX09JHttYXBba2V5XX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2F0aW9uKCkuaGFzaCA9IGAke3BzWzBdfT8ke2Fyci5qb2luKCcmJyl9YDtcblxuICAgICAgICByZXR1cm4gUGlVcmxIYXNoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIHVtIHBhciBjaGF2ZS12YWxvciBwYXJhIGEgcXVlcnkgc3RyaW5nIGRvIGhhc2ggZGEgdXJsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENoYXZlIGRhIHF1ZXJ5IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFZhbG9yIGRhIHF1ZXJ5IHN0cmluZ1xuICAgICAqL1xuICAgIHN0YXRpYyBhZGRRdWVyeVN0cmluZyhrZXksIHZhbHVlID0gJycpIHtcbiAgICAgICAgbGV0IGggPSBQaVVybEhhc2guZ2V0KCk7XG4gICAgICAgIGxldCBwcyA9IGguc3BsaXQoJz8nKTtcbiAgICAgICAgbGV0IHAgPSBbXTtcbiAgICAgICAgbGV0IG1hcCA9IFtdO1xuXG4gICAgICAgIGlmIChwcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBwID0gcHNbMV0uc3BsaXQoJyYnKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwW2ldLmxlbmd0aCA9PSAwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGxldCBfcHMgPSBwW2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICAgICAgbWFwW19wc1swXV0gPSBfcHNbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBtYXBba2V5XSA9IHZhbHVlIHx8ICcnO1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1hcCkge1xuICAgICAgICAgICAgYXJyLnB1c2goYCR7a2V5fT0ke21hcFtrZXldfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9jYXRpb24oKS5oYXNoID0gYCR7cHNbMF19PyR7YXJyLmpvaW4oJyYnKX1gO1xuXG4gICAgICAgIHJldHVybiBQaVVybEhhc2g7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgYXJyYXkgZGUgcGF0aHMgcGFyYSBvIGhhc2ggZGEgdXJsXG4gICAgICogXG4gICAgICogQHBhcmFtICB7Li4uYW55fSBhcmdzIC0gQXJyYXkgZGUgcGF0aHNcbiAgICAgKi9cbiAgICBzdGF0aWMgYWRkKC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IGggPSBQaVVybEhhc2guZ2V0KCk7XG5cbiAgICAgICAgaWYgKGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgUGlVcmxIYXNoLnRvKGggKyAnLycgKyBhcmdzLmpvaW4oJy8nKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBQaVVybEhhc2gudG8oYXJncy5qb2luKCcvJykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGRvIGhhc2ggZGEgdXJsIG8gdmFsb3IgaW5mb3JtYWRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFN0cmluZyBhIHNlciByZW1vdmlkYVxuICAgICAqIEByZXR1cm5zIHtQaVVybGhhc2h9XG4gICAgICovXG4gICAgc3RhdGljIHJlbW92ZShzdHIpIHtcbiAgICAgICAgbG9jYXRpb24oKS5oYXNoID0gbG9jYXRpb24oKS5oYXNoLnJlcGxhY2Uoc3RyLCAnJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3RhdGljIG9uV2lsbENoYW5nZShmbikge1xuICAgICAgICBQaVVybEhhc2guX2ZuV2lsbENoYW5nZXMucHVzaChmbik7XG4gICAgfVxuXG4gICAgc3RhdGljIG9uRGlkQ2hhbmdlKGZuKSB7XG4gICAgICAgIFBpVXJsSGFzaC5fZm5EaWRDaGFuZ2UucHVzaChmbik7XG4gICAgfVxuXG59O1xuXG52YXIgbGFzdEhhc2ggPSBudWxsO1xuZ2xvYmFsLm9uaGFzaGNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAobGFzdEhhc2ggPT0gUGlVcmxIYXNoLmdldCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGFzdEhhc2ggPSBQaVVybEhhc2guZ2V0KCk7XG5cbiAgICBjb25zdCBhcnIgPSBQaVVybEhhc2guX2NhbGxiYWNrcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUGlVcmxIYXNoLl9mbldpbGxDaGFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIFBpVXJsSGFzaC5fZm5XaWxsQ2hhbmdlc1tpXShsYXN0SGFzaCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyW2ldLmNiKCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBQaVVybEhhc2guX2ZuRGlkQ2hhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBQaVVybEhhc2guX2ZuRGlkQ2hhbmdlc1tpXShsYXN0SGFzaCk7XG4gICAgfVxufTtcblxucmVnaXN0ZXIoUGlVcmxIYXNoKTsiLCJpbXBvcnQgUGlFbGVtZW50IGZyb20gXCIuL2VsZW1lbnRcIjtcbmltcG9ydCB7IGZpbmRDbGFzcyB9IGZyb20gJy4vZW52J1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaVZpcnR1YWxUcmVlIHtcbiAgICAjZWxlbWVudHNQYXJlbnQgPSBudWxsO1xuICAgICN2ZWxlbWVudHMgPSBbXTtcbiAgICAjY29tcG9uZW50cyA9IFtdO1xuICAgICNjb21wb25lbnRzUGFyYW1zID0gW107XG4gICAgI2NvbXBvbmVudFBhcmVudCA9IG51bGw7XG4gICAgI2hvb2sgPSBbXTtcbiAgICAjc2NvcGUgPSB7IGNvbnRleHQ6IHt9IH07XG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBzY29wZSA9IHsgY29udGV4dDoge30gfSwgY29tcG9uZW50UGFyZW50ID0gbnVsbCkge1xuICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLiNlbGVtZW50c1BhcmVudCA9IGVsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLiNlbGVtZW50c1BhcmVudCA9IGVsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiNlbGVtZW50c1BhcmVudCA9IFtlbGVtZW50XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuI2NvbXBvbmVudFBhcmVudCA9IGNvbXBvbmVudFBhcmVudDtcbiAgICAgICAgdGhpcy4jc2NvcGUgPSBzY29wZTtcbiAgICB9XG5cbiAgICBob29rKG5hbWUsIGZuKSB7XG4gICAgICAgIHRoaXMuI2hvb2tbbmFtZV0gPSBmbjtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVWaXJ0dWFsRWxlbWVudHModGhpcy4jZWxlbWVudHNQYXJlbnQpO1xuICAgICAgICB0aGlzLl9jcmVhdGVDb21wb25lbnRzKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiN2ZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLiN2ZWxlbWVudHNbaV07XG4gICAgICAgICAgICBlbGVtZW50LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4jY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy4jY29tcG9uZW50c1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiN2ZWxlbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy4jY29tcG9uZW50cyA9IFtdO1xuICAgICAgICB0aGlzLiNjb21wb25lbnRzUGFyYW1zID0gW107XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNvbXBvbmVudChjb21wb25lbnROYW1lKSB7XG4gICAgICAgIGNvbnN0IF9fY29uc3RydWN0b3IgPSBmaW5kQ2xhc3MoY29tcG9uZW50TmFtZSk7XG5cbiAgICAgICAgaWYgKF9fY29uc3RydWN0b3IgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBgQ29tcG9uZW50IG7Do28gbG9jYWxpemFkbzogJHtjb21wb25lbnROYW1lfWA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IF9fY29uc3RydWN0b3IoKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ29tcG9uZW50cygpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiNjb21wb25lbnRzUGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLiNjb21wb25lbnRzUGFyYW1zW2ldO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IHBhcmFtcy5jb21wb25lbnROYW1lO1xuICAgICAgICAgICAgY29uc3QgdmVsZW1lbnQgPSBwYXJhbXMudmVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdmVsZW1lbnQuX2VsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcblxuICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiNjb21wb25lbnRQYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQgPSB0aGlzLiNjb21wb25lbnRQYXJlbnRbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50ID0gdGhpcy5fY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jY29tcG9uZW50UGFyZW50W25hbWVdID0gY29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50ID0gdGhpcy5fY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudE5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50ID0gdGhpcy5fY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2ZWxlbWVudC5zZXRDb21wb25lbnQoY29tcG9uZW50KTtcbiAgICAgICAgICAgIGNvbXBvbmVudC5yZW5kZXIoZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLiNjb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jcmVhdGVWaXJ0dWFsRWxlbWVudHMoZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKGVsZW1lbnRzID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT0gMSAmJiBlbGVtZW50c1swXSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVZpcnR1YWxFbGVtZW50cyhlbGVtZW50c1swXS5jaGlsZHJlbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxTY3JpcHRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTFN0eWxlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5fcGllID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludm9rZUhvb2soJ3dpbGw6Y3JlYXRlOnZlbGVtZW50Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmVsZW1lbnQgPSBuZXcgUGlFbGVtZW50KGVsZW1lbnQsIHRoaXMuI3Njb3BlLCB0aGlzLiNjb21wb25lbnRQYXJlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludm9rZUhvb2soJ2RpZDpjcmVhdGU6dmVsZW1lbnQnLCB2ZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW52b2tlSG9vaygnd2lsbDpsb2FkOnZlbGVtZW50JywgdmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHZlbGVtZW50LmxvYWQodGhpcy4jY29tcG9uZW50UGFyZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnZva2VIb29rKCdkaWQ6bG9hZDp2ZWxlbWVudCcsIHZlbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIGlmICh2ZWxlbWVudC5pc0Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnY29tcG9uZW50Jyk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudE5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNjb21wb25lbnRzUGFyYW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVsZW1lbnQ6IHZlbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50TmFtZTogY29tcG9uZW50TmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLiN2ZWxlbWVudHMucHVzaCh2ZWxlbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVZpcnR1YWxFbGVtZW50cyhlbGVtZW50LmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9pbnZva2VIb29rKG5hbWUsIC4uLnBhcmFtcykge1xuICAgICAgICBpZiAodGhpcy4jaG9va1tuYW1lXSkge1xuICAgICAgICAgICAgdGhpcy4jaG9va1tuYW1lXSguLi5wYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufTsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYXBwLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xub3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2FwcC5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vQ2lmcmFBbmltZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcbm9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9DaWZyYUFuaW1lLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9DaWZyYVZpZXcuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5vcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vQ2lmcmFWaWV3LmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9Ib21lUGFnZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcbm9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9Ib21lUGFnZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsImltcG9ydCBQaUNvbXBvbmVudCBmcm9tICdweWxsYXIvY29tcG9uZW50JztcclxuXHJcbmltcG9ydCBcIi4vQ2lmcmFBbmltZS5jc3NcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENpZnJhQW5pbWUgZXh0ZW5kcyBQaUNvbXBvbmVudCB7XHJcbiAgICB2aWV3ID0gLypodG1sKi9gPGRpdiBjbGFzcz1cImNpZnJhLXByZXZpZXdcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiYm94XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3gtaW5uZXJcIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PmBcclxufSIsImltcG9ydCBQaUNvbmZpZyBmcm9tICdweWxsYXIvY29uZmlnJztcclxuaW1wb3J0IFBpTW9kZWwgZnJvbSAncHlsbGFyL21vZGVsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENpZnJhTW9kZWwgZXh0ZW5kcyBQaU1vZGVsIHtcclxuICAgIGluaXQoKXtcclxuICAgICAgICBzdXBlci5pbml0KFBpQ29uZmlnLmdldCgnZW5kcG9pbnQuY2lmcmEnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFdpdGhKc29uKGpzb24pe1xyXG4gICAgICAgIHN1cGVyLmluaXRXaXRoSnNvbihqc29uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYWN0aW9ucygpe1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdpbnNlcnQnOiAnUE9TVDovJyxcclxuICAgICAgICAgICAgJ3NhdmUnOiAnUFVUOi8nLFxyXG4gICAgICAgICAgICAnZ2V0JzogJ0dFVDovOmlkJyxcclxuICAgICAgICAgICAgJ2FsbCc6ICdHRVQ6LycsXHJcbiAgICAgICAgICAgICdpbXBvcnQnOiAnR0VUOi9pbXBvcnQ/dXJsPTp1cmwnXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IENpZnJhTW9kZWwgZnJvbSAnLi9DaWZyYU1vZGVsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENpZnJhU3RyZWFtIHtcclxuICAgIGZuTmV3Q2lmcmEgPSBudWxsO1xyXG4gICAgZm5OZXdOb3RlID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihob3N0KSB7XHJcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcclxuICAgIH1cclxuXHJcbiAgICBvbk5ld0NpZnJhKGZuKSB7XHJcbiAgICAgICAgdGhpcy5mbk5ld0NpZnJhID0gZm5cclxuICAgIH1cclxuXHJcbiAgICBvbk5ld05vdGUoZm4pIHtcclxuICAgICAgICB0aGlzLmZuTmV3Tm90ZSA9IGZuO1xyXG4gICAgfVxyXG5cclxuICAgIF9wcm9jZXNzRXZlbnQoZSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gSlNPTi5wYXJzZShlLmRhdGEpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT0gJ25ldzpjaWZyYScpIHtcclxuICAgICAgICAgICAgICAgIChuZXcgQ2lmcmFNb2RlbCgpKS5nZXQoZXZlbnQuaWQpLnRoZW4oKGNpZnJhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5mbk5ld0NpZnJhKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbk5ld0NpZnJhKGNpZnJhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09ICdub3RlJykge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5mbk5ld05vdGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm5OZXdOb3RlKGV2ZW50Lm5vdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbm5lY3QoKSB7XHJcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gbmV3IFdlYlNvY2tldCh0aGlzLmhvc3QpO1xyXG5cclxuICAgICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbmVjdGFkbyBhbyBzZXJ2aWRvciBXZWJTb2NrZXQnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEVudmlhIHVtYSBtZW5zYWdlbSBhbyBzZXJ2aWRvclxyXG4gICAgICAgICAgICBzb2NrZXQuc2VuZCgnT2zDoSBzZXJ2aWRvciEnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUXVhbmRvIHVtYSBtZW5zYWdlbSDDqSByZWNlYmlkYSBkbyBzZXJ2aWRvclxyXG4gICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzRXZlbnQoZXZlbnQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBRdWFuZG8gYSBjb25leMOjbyDDqSBmZWNoYWRhXHJcbiAgICAgICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGVzY29uZWN0YWRvIGRvIHNlcnZpZG9yIFdlYlNvY2tldCcpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTsiLCJpbXBvcnQgUGlDb21wb25lbnQgZnJvbSAncHlsbGFyL2NvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgQ2lmcmFNb2RlbCBmcm9tICcuL0NpZnJhTW9kZWwnO1xyXG5pbXBvcnQgTWFyY2Fkb3IgZnJvbSAnLi4vbWFyY2Fkb3IvTWFyY2Fkb3InO1xyXG5pbXBvcnQgTm90ZXNDb2xsZWN0aW9uIGZyb20gJy4uL25vdGUvTm90ZUNvbGxlY3Rpb24nO1xyXG5cclxuaW1wb3J0IFwiLi9DaWZyYVZpZXcuY3NzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaWZyYVZpZXcgZXh0ZW5kcyBQaUNvbXBvbmVudCB7XHJcbiAgICB2aWV3ID0gLypodG1sKi9gPGRpdiA6Y2xhc3M9XCJjaWZyYS12aWV3IHtAX21vc3RyYXJBY29yZGVzID8gICcnIDogJ25vLWNob3Jkcyd9XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInRpdHVsb1wiPlxyXG4gICAgICAgICAgICB7QF90aXR1bG99XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25zXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNoZWNrIGZvcm0tc3dpdGNoXCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJtb3N0cmFyQWNvcmRlc1wiIEBjaGFuZ2U9XCJfc2F2ZU1vc3RyYXJBY29yZGVzKCR2YWx1ZSlcIiA6Y2hlY2tlZD1cIntAX21vc3RyYXJBY29yZGVzfVwiPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cIm1vc3RyYXJBY29yZGVzXCI+TW9zdHJhciBBY29yZGVzPC9sYWJlbD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVjayBmb3JtLXN3aXRjaFwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIGlkPVwiYmFycmFSb2xhZ2VtXCIgQGNoYW5nZT1cIl9zYXZlUm9sYWdlbUF1dG9tYXRpY2EoJHZhbHVlKVwiIDpjaGVja2VkPVwie0Bfcm9sYWdlbUF1dG9tYXRpY2F9XCI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCIgZm9yPVwiYmFycmFSb2xhZ2VtXCI+QmFycmEgZGUgUm9sYWdlbSBBdXRvbcOhdGljYTwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2sgZm9ybS1zd2l0Y2hcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImV2aWRlbmNpYXJcIiBAY2hhbmdlPVwiX3NhdmVFdmlkZW5jaWFyTm90YXMoJHZhbHVlKVwiIDpjaGVja2VkPVwie0BfZXZpZGVuY2lhckFjb3JkZXN9XCI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsXCIgZm9yPVwiZXZpZGVuY2lhclwiPkV2aWTDqm5jaWFyIGFjb3JkZXM8L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBpZD1cIm1hcmNhZG9yXCIgY2xhc3M9XCJtYXJjYWRvclwiPjwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIDxwcmUgaWQ9XCJjb250ZW50XCI+PC9wcmU+XHJcbiAgICA8L2Rpdj5gO1xyXG5cclxuICAgIF90aXR1bG8gPSAnJztcclxuICAgIF9tb3N0cmFyQWNvcmRlcyA9IHRydWU7XHJcbiAgICBfcm9sYWdlbUF1dG9tYXRpY2EgPSB0cnVlO1xyXG4gICAgX2V2aWRlbmNpYXJBY29yZGVzID0gdHJ1ZTtcclxuXHJcbiAgICB2aWV3RGlkTG9hZCgpIHtcclxuICAgICAgICB0aGlzLl9sb2FkQ29uZmlnKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U3RyZWFtKHN0cmVhbSkge1xyXG4gICAgICAgIHN0cmVhbS5vbk5ld05vdGUobm90ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TWFyY2Fkb3JQb3NpY2FvKG5vdGUucG9zaXRpb24pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGxvYWRDaWZyYShpZCwgZm4pIHtcclxuICAgICAgICBjb25zdCBjaWZyYSA9IGF3YWl0IChuZXcgQ2lmcmFNb2RlbCgpKS5nZXQoaWQpO1xyXG4gICAgICAgIHRoaXMuc2V0Q2lmcmEoY2lmcmEsIGZuKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRDaWZyYShjaWZyYSwgZm4pIHtcclxuICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoXCIjY29udGVudFwiKS5odG1sKHRoaXMuX2Zvcm1hdE5vdGVzKHRoaXMuX2Zvcm1hdFRhZyhjaWZyYS50ZXh0bykpKTtcclxuXHJcbiAgICAgICAgdGhpcy5fdGl0dWxvID0gY2lmcmEudGl0dWxvO1xyXG5cclxuICAgICAgICB0aGlzLl9sb2FkTm90ZXMoKTtcclxuICAgICAgICB0aGlzLl9sb2FkTWFyY2Fkb3IoKTtcclxuICAgICAgICB0aGlzLl9sb2FkQ29uZmlnKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0TWFyY2Fkb3JQb3NpY2FvKDApO1xyXG4gICAgICAgIGlmIChmbikgZm4oKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRNYXJjYWRvclBvc2ljYW8ocG9zaXRpb24pIHtcclxuICAgICAgICB0aGlzLm1hcmNhZG9yLm1vdmUodGhpcy5ub3Rlcy5nZXROb3RlQnlQb3NpdGlvbihwb3NpdGlvbikpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zYXZlTW9zdHJhckFjb3JkZXModikge1xyXG4gICAgICAgIHRoaXMuX21vc3RyYXJBY29yZGVzID0gdjtcclxuXHJcbiAgICAgICAgdGhpcy5fc2F2ZUNvbmZpZygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zYXZlUm9sYWdlbUF1dG9tYXRpY2Eodikge1xyXG4gICAgICAgIHRoaXMuX3JvbGFnZW1BdXRvbWF0aWNhID0gdjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWFyY2Fkb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXJjYWRvci5zZXRSb2xhZ2VtQXV0b21hdGljYSh2KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3NhdmVDb25maWcoKTtcclxuICAgIH1cclxuXHJcbiAgICBfc2F2ZUV2aWRlbmNpYXJOb3Rhcyh2KSB7XHJcbiAgICAgICAgdGhpcy5fZXZpZGVuY2lhckFjb3JkZXMgPSB2O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tYXJjYWRvcikge1xyXG4gICAgICAgICAgICB2ID8gdGhpcy5tYXJjYWRvci5zaG93KCkgOiB0aGlzLm1hcmNhZG9yLmhpZGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3NhdmVDb25maWcoKTtcclxuICAgIH1cclxuXHJcbiAgICBfZm9ybWF0Tm90ZXMoY2lmcmEpIHtcclxuICAgICAgICByZXR1cm4gY2lmcmEucmVwbGFjZSgvXFwoW14pXStcXCkvZ2ksIChub3RlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBgPGI+JHtub3RlfTwvYj5gXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2Zvcm1hdFRhZyhjaWZyYSkge1xyXG4gICAgICAgIHJldHVybiBjaWZyYS5yZXBsYWNlKC9cXFtbXlxcXV0rXFxdL2dpLCAobm90ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYDxpPiR7bm90ZX08L2k+YFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9sb2FkTWFyY2Fkb3IoKSB7XHJcbiAgICAgICAgdGhpcy5tYXJjYWRvciA9IG5ldyBNYXJjYWRvcih0aGlzLiRlbGVtZW50LmZpbmQoXCIjbWFyY2Fkb3JcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIF9sb2FkTm90ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ub3RlcyA9IG5ldyBOb3Rlc0NvbGxlY3Rpb24odGhpcy4kZWxlbWVudC5maW5kKFwiI2NvbnRlbnRcIikuZmluZCgnYicpKTtcclxuICAgIH1cclxuXHJcbiAgICBfc2F2ZUNvbmZpZygpIHtcclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21vc3RyYXJfYWNvcmRlcycsIHRoaXMuX21vc3RyYXJBY29yZGVzKTtcclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JvbGFnZW1fYXV0b21hdGljYScsIHRoaXMuX3JvbGFnZW1BdXRvbWF0aWNhKTtcclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2V2aWRlbmNpYXJfYWNvcmRlcycsIHRoaXMuX2V2aWRlbmNpYXJBY29yZGVzKTtcclxuICAgIH1cclxuXHJcbiAgICBfbG9hZENvbmZpZygpIHtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLl9nZXRDb25maWcoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2F2ZU1vc3RyYXJBY29yZGVzKGNvbmZpZy5tb3N0cmFyQWNvcmRlcyk7XHJcbiAgICAgICAgdGhpcy5fc2F2ZVJvbGFnZW1BdXRvbWF0aWNhKGNvbmZpZy5yb2xhZ2VtQXV0b21hdGljYSk7XHJcbiAgICAgICAgdGhpcy5fc2F2ZUV2aWRlbmNpYXJOb3Rhcyhjb25maWcuZXZpZGVuY2lhckFjb3JkZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRDb25maWcoKSB7XHJcbiAgICAgICAgY29uc3QgbW9zdHJhckFjb3JkZXMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21vc3RyYXJfYWNvcmRlcycpO1xyXG4gICAgICAgIGNvbnN0IHJvbGFnZW1BdXRvbWF0aWNhID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyb2xhZ2VtX2F1dG9tYXRpY2EnKTtcclxuICAgICAgICBjb25zdCBldmlkZW5jaWFyQWNvcmRlcyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZXZpZGVuY2lhcl9hY29yZGVzJyk7XHJcblxyXG4gICAgICAgIGlmIChtb3N0cmFyQWNvcmRlcyA9PT0gbnVsbCB8fCByb2xhZ2VtQXV0b21hdGljYSA9PT0gbnVsbCB8fCBldmlkZW5jaWFyQWNvcmRlcyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zYXZlQ29uZmlnKCk7XHJcblxyXG4gICAgICAgICAgICBtb3N0cmFyQWNvcmRlcyA9IHRydWU7XHJcbiAgICAgICAgICAgIHJvbGFnZW1BdXRvbWF0aWNhID0gdHJ1ZTtcclxuICAgICAgICAgICAgZXZpZGVuY2lhckFjb3JkZXMgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbW9zdHJhckFjb3JkZXM6IG1vc3RyYXJBY29yZGVzID09PSAndHJ1ZScsXHJcbiAgICAgICAgICAgIHJvbGFnZW1BdXRvbWF0aWNhOiByb2xhZ2VtQXV0b21hdGljYSA9PT0gJ3RydWUnLFxyXG4gICAgICAgICAgICBldmlkZW5jaWFyQWNvcmRlczogZXZpZGVuY2lhckFjb3JkZXMgPT09ICd0cnVlJ1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuUGlDb21wb25lbnQucmVnaXN0ZXIoQ2lmcmFWaWV3KTsiLCJpbXBvcnQgUGlDb21wb25lbnQgZnJvbSAncHlsbGFyL2NvbXBvbmVudCc7XHJcbmltcG9ydCBQaUNvbmZpZyBmcm9tICdweWxsYXIvY29uZmlnJztcclxuXHJcbmltcG9ydCBDaWZyYVZpZXcgZnJvbSAnLi4vY2lmcmEvQ2lmcmFWaWV3JztcclxuaW1wb3J0IENpZnJhQW5pbWUgZnJvbSAnLi4vY2lmcmEvQ2lmcmFBbmltZSc7XHJcbmltcG9ydCBDaWZyYVN0cmVhbSBmcm9tICcuLi9jaWZyYS9DaWZyYVN0cmVhbSc7XHJcblxyXG5pbXBvcnQgVHJhbnNwb3J0ZU1vZGVsIGZyb20gJy4uL3RyYW5zcG9ydGUvVHJhbnNwb3J0ZU1vZGVsJztcclxuXHJcbmltcG9ydCBcIi4vSG9tZVBhZ2UuY3NzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lUGFnZSBleHRlbmRzIFBpQ29tcG9uZW50IHtcclxuICAgIHZpZXcgPSAvKmh0bWwqL2A8ZGl2IGNsYXNzPVwiY29udGFpbmVyIGhvbWVwYWdlXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cclxuICAgICAgICAgICAgPGRpdiBpZD1cInZpZXdcIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PmA7XHJcblxyXG4gICAgaW5zdGFuY2VzKCkge1xyXG4gICAgICAgIHRoaXMuY2lmcmFTdHJlYW0gPSBuZXcgQ2lmcmFTdHJlYW0oUGlDb25maWcuZ2V0KCdjaWZyYVN0cmVhbScpKTtcclxuICAgIH1cclxuXHJcbiAgICB2aWV3RGlkTG9hZCgpIHtcclxuICAgICAgICB0aGlzLmNpZnJhU3RyZWFtLmNvbm5lY3QoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fbG9hZFRyYW5zcG9ydGUoKTtcclxuICAgICAgICB0aGlzLl9sb2FkRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Vmlldyh2aWV3KSB7XHJcbiAgICAgICAgdmlldy5yZW5kZXIodGhpcy4kZWxlbWVudC5maW5kKCcjdmlldycpKTtcclxuICAgIH1cclxuXHJcbiAgICBfbG9hZFRyYW5zcG9ydGUoKSB7XHJcbiAgICAgICAgKG5ldyBUcmFuc3BvcnRlTW9kZWwoKSkuZ2V0KCkudGhlbigodHJhbnNwb3J0ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodHJhbnNwb3J0ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXcobmV3IENpZnJhQW5pbWUoKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0cmFuc3BvcnRlLmNpZnJhSWQgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3KG5ldyBDaWZyYUFuaW1lKCkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjaWZyYVZpZXcgPSBuZXcgQ2lmcmFWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmlldyhjaWZyYVZpZXcpO1xyXG4gICAgICAgICAgICBjaWZyYVZpZXcuc2V0U3RyZWFtKHRoaXMuY2lmcmFTdHJlYW0pO1xyXG4gICAgICAgICAgICBjaWZyYVZpZXcubG9hZENpZnJhKHRyYW5zcG9ydGUuY2lmcmFJZCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2lmcmFWaWV3LnNldE1hcmNhZG9yUG9zaWNhbyh0cmFuc3BvcnRlLnBvc2ljYW8pO1xyXG4gICAgICAgICAgICAgICAgY2lmcmFWaWV3LnNldE1hcmNhZG9yUG9zaWNhbygwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2xvYWRFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5jaWZyYVN0cmVhbS5vbk5ld0NpZnJhKGNpZnJhID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2lmcmFWaWV3ID0gbmV3IENpZnJhVmlldygpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFZpZXcoY2lmcmFWaWV3KTtcclxuICAgICAgICAgICAgY2lmcmFWaWV3LnNldFN0cmVhbSh0aGlzLmNpZnJhU3RyZWFtKTtcclxuICAgICAgICAgICAgY2lmcmFWaWV3LnNldENpZnJhKGNpZnJhKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmNhZG9yIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigkbWFyY2Fkb3IpIHtcclxuICAgICAgICB0aGlzLiRtYXJjYWRvciA9ICRtYXJjYWRvcjtcclxuICAgICAgICB0aGlzLm5vdGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucm9sYWdlbUF1dG9tYXRpY2EgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmUobm90ZSkge1xyXG4gICAgICAgIGlmIChub3RlID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBub3RlLnBvc2l0aW9uKCk7XHJcbiAgICAgICAgY29uc3QgdyA9IG5vdGUud2lkdGgoKTtcclxuICAgICAgICBjb25zdCBoID0gbm90ZS5oZWlnaHQoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kbWFyY2Fkb3IuY3NzKCd0b3AnLCBwb3NpdGlvbi50b3AgLSAyKS5jc3MoJ2xlZnQnLCBwb3NpdGlvbi5sZWZ0IC0gNyk7XHJcbiAgICAgICAgdGhpcy4kbWFyY2Fkb3IuY3NzKCd3aWR0aCcsIHcgKyAxMykuY3NzKCdoZWlnaHQnLCBoICsgNCk7XHJcblxyXG4gICAgICAgIG5vdGUuc2F2ZSgpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBub3RlLmhpZ2hsaWdodCgpO1xyXG4gICAgICAgIH0sIDIwMCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5vdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5ub3RlLnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubm90ZSA9IG5vdGU7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9tb3ZlU2Nyb2xsKCk7XHJcbiAgICAgICAgfSwgMjAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRSb2xhZ2VtQXV0b21hdGljYShiKSB7XHJcbiAgICAgICAgdGhpcy5yb2xhZ2VtQXV0b21hdGljYSA9IGI7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICB0aGlzLiRtYXJjYWRvci5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICB0aGlzLiRtYXJjYWRvci5oaWRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX21vdmVTY3JvbGwoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJvbGFnZW1BdXRvbWF0aWNhKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLiRtYXJjYWRvci5nZXQoMCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgaWYgKChyZWN0LmJvdHRvbSArIDMwKSA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgcmVjdC5ib3R0b20gLSB3aW5kb3cuaW5uZXJIZWlnaHQgKyAxMDApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocmVjdC50b3AgPCAwKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxCeSgwLCAocmVjdC50b3AgLSAzMCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RlIHtcclxuICAgIGNvbnN0cnVjdG9yKCRub3RlKSB7XHJcbiAgICAgICAgdGhpcy4kbm90ZSA9ICRub3RlO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZ2hsaWdodCgpIHtcclxuICAgICAgICB0aGlzLiRub3RlLmNzcygnY29sb3InLCAnd2hpdGUnKTtcclxuICAgIH1cclxuXHJcbiAgICByZXN0b3JlKCkge1xyXG4gICAgICAgIHRoaXMuJG5vdGUuY3NzKCdjb2xvcicsIHRoaXMuJG5vdGUuYXR0cignZGF0YS1jb2xvcicpKTtcclxuICAgIH1cclxuXHJcbiAgICBzYXZlKCkge1xyXG4gICAgICAgIHRoaXMuJG5vdGUuYXR0cignZGF0YS1jb2xvcicsIHRoaXMuJG5vdGUuY3NzKCdjb2xvcicpKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3NpdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4kbm90ZS5wb3NpdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHdpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiRub3RlLndpZHRoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiRub3RlLmhlaWdodCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCAkZWxlbWVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4kbm90ZTtcclxuICAgIH1cclxufTsiLCJpbXBvcnQgTm90ZSBmcm9tIFwiLi9Ob3RlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3Rlc0NvbGxlY3Rpb24gZXh0ZW5kcyBBcnJheSB7XHJcbiAgICBjb25zdHJ1Y3Rvcigkbm90ZXMpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICAkbm90ZXMuZ2V0KCkuZm9yRWFjaCgobm90ZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wdXNoKG5ldyBOb3RlKCQobm90ZSkpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXROb3RlQnlQb3NpdGlvbihwKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNbcCAtIDFdO1xyXG4gICAgfVxyXG59OyIsImltcG9ydCBQaUNvbmZpZyBmcm9tICdweWxsYXIvY29uZmlnJztcclxuaW1wb3J0IFBpTW9kZWwgZnJvbSAncHlsbGFyL21vZGVsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zcG9ydGVNb2RlbCBleHRlbmRzIFBpTW9kZWwge1xyXG4gICAgaW5pdCgpe1xyXG4gICAgICAgIHN1cGVyLmluaXQoUGlDb25maWcuZ2V0KCdlbmRwb2ludC50cmFuc3BvcnRlJykpO1xyXG4gICAgfVxyXG5cclxuICAgIGFjdGlvbnMoKXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAnZ2V0JzogJ0dFVDovJyxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdFwibWFpblwiOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA9IHVuZGVmaW5lZDsiLCJpbXBvcnQgeyBnbG9iYWwgfSBmcm9tIFwicHlsbGFyL2VudlwiO1xyXG5pbXBvcnQgQm9vdHN0cmFwIGZyb20gXCJweWxsYXIvYm9vdHN0cmFwXCI7XHJcbmltcG9ydCBQaUNvbmZpZyBmcm9tIFwicHlsbGFyL2NvbmZpZ1wiO1xyXG5cclxuaW1wb3J0IEhvbWVQYWdlIGZyb20gXCIuL2hvbWVwYWdlL0hvbWVQYWdlXCI7XHJcbmltcG9ydCBDaWZyYVZpZXcgZnJvbSBcIi4vY2lmcmEvQ2lmcmFWaWV3XCI7XHJcblxyXG5pbXBvcnQgXCIuL2FwcC5jc3NcIlxyXG5cclxuaWYgKHdpbmRvdy5hcHBTZXR0aW5ncykge1xyXG4gICAgUGlDb25maWcubG9hZChhcHBTZXR0aW5ncyk7XHJcbn1cclxuXHJcblBpQ29uZmlnLnNldCgncmVxdWVzdC5mZXRjaCcsIGZ1bmN0aW9uICh1cmwsIHNldHRpbmdzLCBzdWNjZXNzLCBlcnJvciwgbmV4dCkge1xyXG4gICAgbmV4dCgpO1xyXG59KTtcclxuXHJcbm5ldyBCb290c3RyYXAoKVxyXG4gICAgLm9uTG9hZCgoYm9vdCkgPT4ge1xyXG4gICAgICAgIFxyXG4gICAgfSlcclxuICAgIC5vblJlYWR5KChib290KSA9PiB7XHJcbiAgICAgICAgY29uc3QgaG9tZXBhZ2UgPSBuZXcgSG9tZVBhZ2UoKTtcclxuICAgICAgICBob21lcGFnZS5yZW5kZXIoZ2xvYmFsLmFwcC4kZWxlbWVudCk7XHJcbiAgICAgICAgaG9tZXBhZ2Uuc2V0VmlldyhuZXcgQ2lmcmFWaWV3KCkpO1xyXG4gICAgfSlcclxuICAgIC5sb2FkKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9